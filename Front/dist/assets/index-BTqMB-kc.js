(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();/**
* @vue/shared v3.5.15
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function Qu(t){const e=Object.create(null);for(const n of t.split(","))e[n]=1;return n=>n in e}const At={},Jr=[],dn=()=>{},dm=()=>!1,us=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),tc=t=>t.startsWith("onUpdate:"),ie=Object.assign,ec=(t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},hm=Object.prototype.hasOwnProperty,Ot=(t,e)=>hm.call(t,e),gt=Array.isArray,Qr=t=>cs(t)==="[object Map]",Wh=t=>cs(t)==="[object Set]",yt=t=>typeof t=="function",Xt=t=>typeof t=="string",Vn=t=>typeof t=="symbol",Lt=t=>t!==null&&typeof t=="object",Uh=t=>(Lt(t)||yt(t))&&yt(t.then)&&yt(t.catch),qh=Object.prototype.toString,cs=t=>qh.call(t),pm=t=>cs(t).slice(8,-1),jh=t=>cs(t)==="[object Object]",nc=t=>Xt(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,Li=Qu(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),fs=t=>{const e=Object.create(null);return n=>e[n]||(e[n]=t(n))},vm=/-(\w)/g,Ve=fs(t=>t.replace(vm,(e,n)=>n?n.toUpperCase():"")),gm=/\B([A-Z])/g,Br=fs(t=>t.replace(gm,"-$1").toLowerCase()),ds=fs(t=>t.charAt(0).toUpperCase()+t.slice(1)),nl=fs(t=>t?`on${ds(t)}`:""),In=(t,e)=>!Object.is(t,e),ca=(t,...e)=>{for(let n=0;n<t.length;n++)t[n](...e)},Kh=(t,e,n,r=!1)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:r,value:n})},Yl=t=>{const e=parseFloat(t);return isNaN(e)?t:e},mm=t=>{const e=Xt(t)?Number(t):NaN;return isNaN(e)?t:e};let bf;const hs=()=>bf||(bf=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function pe(t){if(gt(t)){const e={};for(let n=0;n<t.length;n++){const r=t[n],i=Xt(r)?wm(r):pe(r);if(i)for(const o in i)e[o]=i[o]}return e}else if(Xt(t)||Lt(t))return t}const ym=/;(?![^(]*\))/g,_m=/:([^]+)/,bm=/\/\*[^]*?\*\//g;function wm(t){const e={};return t.replace(bm,"").split(ym).forEach(n=>{if(n){const r=n.split(_m);r.length>1&&(e[r[0].trim()]=r[1].trim())}}),e}function He(t){let e="";if(Xt(t))e=t;else if(gt(t))for(let n=0;n<t.length;n++){const r=He(t[n]);r&&(e+=r+" ")}else if(Lt(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}function Ti(t){if(!t)return null;let{class:e,style:n}=t;return e&&!Xt(e)&&(t.class=He(e)),n&&(t.style=pe(n)),t}const xm="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Sm=Qu(xm);function Zh(t){return!!t||t===""}const Jh=t=>!!(t&&t.__v_isRef===!0),ve=t=>Xt(t)?t:t==null?"":gt(t)||Lt(t)&&(t.toString===qh||!yt(t.toString))?Jh(t)?ve(t.value):JSON.stringify(t,Qh,2):String(t),Qh=(t,e)=>Jh(e)?Qh(t,e.value):Qr(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((n,[r,i],o)=>(n[rl(r,o)+" =>"]=i,n),{})}:Wh(e)?{[`Set(${e.size})`]:[...e.values()].map(n=>rl(n))}:Vn(e)?rl(e):Lt(e)&&!gt(e)&&!jh(e)?String(e):e,rl=(t,e="")=>{var n;return Vn(t)?`Symbol(${(n=t.description)!=null?n:e})`:t};/**
* @vue/reactivity v3.5.15
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let ue;class tp{constructor(e=!1){this.detached=e,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=ue,!e&&ue&&(this.index=(ue.scopes||(ue.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let e,n;if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].pause();for(e=0,n=this.effects.length;e<n;e++)this.effects[e].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let e,n;if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].resume();for(e=0,n=this.effects.length;e<n;e++)this.effects[e].resume()}}run(e){if(this._active){const n=ue;try{return ue=this,e()}finally{ue=n}}}on(){++this._on===1&&(this.prevScope=ue,ue=this)}off(){this._on>0&&--this._on===0&&(ue=this.prevScope,this.prevScope=void 0)}stop(e){if(this._active){this._active=!1;let n,r;for(n=0,r=this.effects.length;n<r;n++)this.effects[n].stop();for(this.effects.length=0,n=0,r=this.cleanups.length;n<r;n++)this.cleanups[n]();if(this.cleanups.length=0,this.scopes){for(n=0,r=this.scopes.length;n<r;n++)this.scopes[n].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!e){const i=this.parent.scopes.pop();i&&i!==this&&(this.parent.scopes[this.index]=i,i.index=this.index)}this.parent=void 0}}}function ep(t){return new tp(t)}function rc(){return ue}function fa(t,e=!1){ue&&ue.cleanups.push(t)}let Ft;const il=new WeakSet;class np{constructor(e){this.fn=e,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,ue&&ue.active&&ue.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,il.has(this)&&(il.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||ip(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,wf(this),op(this);const e=Ft,n=Ke;Ft=this,Ke=!0;try{return this.fn()}finally{ap(this),Ft=e,Ke=n,this.flags&=-3}}stop(){if(this.flags&1){for(let e=this.deps;e;e=e.nextDep)ac(e);this.deps=this.depsTail=void 0,wf(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?il.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){Xl(this)&&this.run()}get dirty(){return Xl(this)}}let rp=0,Vi,Hi;function ip(t,e=!1){if(t.flags|=8,e){t.next=Hi,Hi=t;return}t.next=Vi,Vi=t}function ic(){rp++}function oc(){if(--rp>0)return;if(Hi){let e=Hi;for(Hi=void 0;e;){const n=e.next;e.next=void 0,e.flags&=-9,e=n}}let t;for(;Vi;){let e=Vi;for(Vi=void 0;e;){const n=e.next;if(e.next=void 0,e.flags&=-9,e.flags&1)try{e.trigger()}catch(r){t||(t=r)}e=n}}if(t)throw t}function op(t){for(let e=t.deps;e;e=e.nextDep)e.version=-1,e.prevActiveLink=e.dep.activeLink,e.dep.activeLink=e}function ap(t){let e,n=t.depsTail,r=n;for(;r;){const i=r.prevDep;r.version===-1?(r===n&&(n=i),ac(r),Em(r)):e=r,r.dep.activeLink=r.prevActiveLink,r.prevActiveLink=void 0,r=i}t.deps=e,t.depsTail=n}function Xl(t){for(let e=t.deps;e;e=e.nextDep)if(e.dep.version!==e.version||e.dep.computed&&(sp(e.dep.computed)||e.dep.version!==e.version))return!0;return!!t._dirty}function sp(t){if(t.flags&4&&!(t.flags&16)||(t.flags&=-17,t.globalVersion===Ji)||(t.globalVersion=Ji,!t.isSSR&&t.flags&128&&(!t.deps&&!t._dirty||!Xl(t))))return;t.flags|=2;const e=t.dep,n=Ft,r=Ke;Ft=t,Ke=!0;try{op(t);const i=t.fn(t._value);(e.version===0||In(i,t._value))&&(t.flags|=128,t._value=i,e.version++)}catch(i){throw e.version++,i}finally{Ft=n,Ke=r,ap(t),t.flags&=-3}}function ac(t,e=!1){const{dep:n,prevSub:r,nextSub:i}=t;if(r&&(r.nextSub=i,t.prevSub=void 0),i&&(i.prevSub=r,t.nextSub=void 0),n.subs===t&&(n.subs=r,!r&&n.computed)){n.computed.flags&=-5;for(let o=n.computed.deps;o;o=o.nextDep)ac(o,!0)}!e&&!--n.sc&&n.map&&n.map.delete(n.key)}function Em(t){const{prevDep:e,nextDep:n}=t;e&&(e.nextDep=n,t.prevDep=void 0),n&&(n.prevDep=e,t.nextDep=void 0)}let Ke=!0;const lp=[];function kn(){lp.push(Ke),Ke=!1}function Bn(){const t=lp.pop();Ke=t===void 0?!0:t}function wf(t){const{cleanup:e}=t;if(t.cleanup=void 0,e){const n=Ft;Ft=void 0;try{e()}finally{Ft=n}}}let Ji=0,Cm=class{constructor(e,n){this.sub=e,this.dep=n,this.version=n.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}};class ps{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0}track(e){if(!Ft||!Ke||Ft===this.computed)return;let n=this.activeLink;if(n===void 0||n.sub!==Ft)n=this.activeLink=new Cm(Ft,this),Ft.deps?(n.prevDep=Ft.depsTail,Ft.depsTail.nextDep=n,Ft.depsTail=n):Ft.deps=Ft.depsTail=n,up(n);else if(n.version===-1&&(n.version=this.version,n.nextDep)){const r=n.nextDep;r.prevDep=n.prevDep,n.prevDep&&(n.prevDep.nextDep=r),n.prevDep=Ft.depsTail,n.nextDep=void 0,Ft.depsTail.nextDep=n,Ft.depsTail=n,Ft.deps===n&&(Ft.deps=r)}return n}trigger(e){this.version++,Ji++,this.notify(e)}notify(e){ic();try{for(let n=this.subs;n;n=n.prevSub)n.sub.notify()&&n.sub.dep.notify()}finally{oc()}}}function up(t){if(t.dep.sc++,t.sub.flags&4){const e=t.dep.computed;if(e&&!t.dep.subs){e.flags|=20;for(let r=e.deps;r;r=r.nextDep)up(r)}const n=t.dep.subs;n!==t&&(t.prevSub=n,n&&(n.nextSub=t)),t.dep.subs=t}}const Ma=new WeakMap,Tr=Symbol(""),Wl=Symbol(""),Qi=Symbol("");function ce(t,e,n){if(Ke&&Ft){let r=Ma.get(t);r||Ma.set(t,r=new Map);let i=r.get(n);i||(r.set(n,i=new ps),i.map=r,i.key=n),i.track()}}function $n(t,e,n,r,i,o){const a=Ma.get(t);if(!a){Ji++;return}const s=l=>{l&&l.trigger()};if(ic(),e==="clear")a.forEach(s);else{const l=gt(t),u=l&&nc(n);if(l&&n==="length"){const c=Number(r);a.forEach((f,d)=>{(d==="length"||d===Qi||!Vn(d)&&d>=c)&&s(f)})}else switch((n!==void 0||a.has(void 0))&&s(a.get(n)),u&&s(a.get(Qi)),e){case"add":l?u&&s(a.get("length")):(s(a.get(Tr)),Qr(t)&&s(a.get(Wl)));break;case"delete":l||(s(a.get(Tr)),Qr(t)&&s(a.get(Wl)));break;case"set":Qr(t)&&s(a.get(Tr));break}}oc()}function Mm(t,e){const n=Ma.get(t);return n&&n.get(e)}function Hr(t){const e=Nt(t);return e===t?e:(ce(e,"iterate",Qi),Fe(t)?e:e.map(ae))}function vs(t){return ce(t=Nt(t),"iterate",Qi),t}const Dm={__proto__:null,[Symbol.iterator](){return ol(this,Symbol.iterator,ae)},concat(...t){return Hr(this).concat(...t.map(e=>gt(e)?Hr(e):e))},entries(){return ol(this,"entries",t=>(t[1]=ae(t[1]),t))},every(t,e){return Sn(this,"every",t,e,void 0,arguments)},filter(t,e){return Sn(this,"filter",t,e,n=>n.map(ae),arguments)},find(t,e){return Sn(this,"find",t,e,ae,arguments)},findIndex(t,e){return Sn(this,"findIndex",t,e,void 0,arguments)},findLast(t,e){return Sn(this,"findLast",t,e,ae,arguments)},findLastIndex(t,e){return Sn(this,"findLastIndex",t,e,void 0,arguments)},forEach(t,e){return Sn(this,"forEach",t,e,void 0,arguments)},includes(...t){return al(this,"includes",t)},indexOf(...t){return al(this,"indexOf",t)},join(t){return Hr(this).join(t)},lastIndexOf(...t){return al(this,"lastIndexOf",t)},map(t,e){return Sn(this,"map",t,e,void 0,arguments)},pop(){return Si(this,"pop")},push(...t){return Si(this,"push",t)},reduce(t,...e){return xf(this,"reduce",t,e)},reduceRight(t,...e){return xf(this,"reduceRight",t,e)},shift(){return Si(this,"shift")},some(t,e){return Sn(this,"some",t,e,void 0,arguments)},splice(...t){return Si(this,"splice",t)},toReversed(){return Hr(this).toReversed()},toSorted(t){return Hr(this).toSorted(t)},toSpliced(...t){return Hr(this).toSpliced(...t)},unshift(...t){return Si(this,"unshift",t)},values(){return ol(this,"values",ae)}};function ol(t,e,n){const r=vs(t),i=r[e]();return r!==t&&!Fe(t)&&(i._next=i.next,i.next=()=>{const o=i._next();return o.value&&(o.value=n(o.value)),o}),i}const $m=Array.prototype;function Sn(t,e,n,r,i,o){const a=vs(t),s=a!==t&&!Fe(t),l=a[e];if(l!==$m[e]){const f=l.apply(t,o);return s?ae(f):f}let u=n;a!==t&&(s?u=function(f,d){return n.call(this,ae(f),d,t)}:n.length>2&&(u=function(f,d){return n.call(this,f,d,t)}));const c=l.call(a,u,r);return s&&i?i(c):c}function xf(t,e,n,r){const i=vs(t);let o=n;return i!==t&&(Fe(t)?n.length>3&&(o=function(a,s,l){return n.call(this,a,s,l,t)}):o=function(a,s,l){return n.call(this,a,ae(s),l,t)}),i[e](o,...r)}function al(t,e,n){const r=Nt(t);ce(r,"iterate",Qi);const i=r[e](...n);return(i===-1||i===!1)&&cc(n[0])?(n[0]=Nt(n[0]),r[e](...n)):i}function Si(t,e,n=[]){kn(),ic();const r=Nt(t)[e].apply(t,n);return oc(),Bn(),r}const Tm=Qu("__proto__,__v_isRef,__isVue"),cp=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(Vn));function Pm(t){Vn(t)||(t=String(t));const e=Nt(this);return ce(e,"has",t),e.hasOwnProperty(t)}class fp{constructor(e=!1,n=!1){this._isReadonly=e,this._isShallow=n}get(e,n,r){if(n==="__v_skip")return e.__v_skip;const i=this._isReadonly,o=this._isShallow;if(n==="__v_isReactive")return!i;if(n==="__v_isReadonly")return i;if(n==="__v_isShallow")return o;if(n==="__v_raw")return r===(i?o?Gm:vp:o?pp:hp).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(r)?e:void 0;const a=gt(e);if(!i){let l;if(a&&(l=Dm[n]))return l;if(n==="hasOwnProperty")return Pm}const s=Reflect.get(e,n,qt(e)?e:r);return(Vn(n)?cp.has(n):Tm(n))||(i||ce(e,"get",n),o)?s:qt(s)?a&&nc(n)?s:s.value:Lt(s)?i?lc(s):gs(s):s}}class dp extends fp{constructor(e=!1){super(!1,e)}set(e,n,r,i){let o=e[n];if(!this._isShallow){const l=or(o);if(!Fe(r)&&!or(r)&&(o=Nt(o),r=Nt(r)),!gt(e)&&qt(o)&&!qt(r))return l?!1:(o.value=r,!0)}const a=gt(e)&&nc(n)?Number(n)<e.length:Ot(e,n),s=Reflect.set(e,n,r,qt(e)?e:i);return e===Nt(i)&&(a?In(r,o)&&$n(e,"set",n,r):$n(e,"add",n,r)),s}deleteProperty(e,n){const r=Ot(e,n);e[n];const i=Reflect.deleteProperty(e,n);return i&&r&&$n(e,"delete",n,void 0),i}has(e,n){const r=Reflect.has(e,n);return(!Vn(n)||!cp.has(n))&&ce(e,"has",n),r}ownKeys(e){return ce(e,"iterate",gt(e)?"length":Tr),Reflect.ownKeys(e)}}class Nm extends fp{constructor(e=!1){super(!0,e)}set(e,n){return!0}deleteProperty(e,n){return!0}}const Rm=new dp,Om=new Nm,Im=new dp(!0);const Ul=t=>t,Bo=t=>Reflect.getPrototypeOf(t);function Am(t,e,n){return function(...r){const i=this.__v_raw,o=Nt(i),a=Qr(o),s=t==="entries"||t===Symbol.iterator&&a,l=t==="keys"&&a,u=i[t](...r),c=n?Ul:e?Da:ae;return!e&&ce(o,"iterate",l?Wl:Tr),{next(){const{value:f,done:d}=u.next();return d?{value:f,done:d}:{value:s?[c(f[0]),c(f[1])]:c(f),done:d}},[Symbol.iterator](){return this}}}}function zo(t){return function(...e){return t==="delete"?!1:t==="clear"?void 0:this}}function km(t,e){const n={get(i){const o=this.__v_raw,a=Nt(o),s=Nt(i);t||(In(i,s)&&ce(a,"get",i),ce(a,"get",s));const{has:l}=Bo(a),u=e?Ul:t?Da:ae;if(l.call(a,i))return u(o.get(i));if(l.call(a,s))return u(o.get(s));o!==a&&o.get(i)},get size(){const i=this.__v_raw;return!t&&ce(Nt(i),"iterate",Tr),Reflect.get(i,"size",i)},has(i){const o=this.__v_raw,a=Nt(o),s=Nt(i);return t||(In(i,s)&&ce(a,"has",i),ce(a,"has",s)),i===s?o.has(i):o.has(i)||o.has(s)},forEach(i,o){const a=this,s=a.__v_raw,l=Nt(s),u=e?Ul:t?Da:ae;return!t&&ce(l,"iterate",Tr),s.forEach((c,f)=>i.call(o,u(c),u(f),a))}};return ie(n,t?{add:zo("add"),set:zo("set"),delete:zo("delete"),clear:zo("clear")}:{add(i){!e&&!Fe(i)&&!or(i)&&(i=Nt(i));const o=Nt(this);return Bo(o).has.call(o,i)||(o.add(i),$n(o,"add",i,i)),this},set(i,o){!e&&!Fe(o)&&!or(o)&&(o=Nt(o));const a=Nt(this),{has:s,get:l}=Bo(a);let u=s.call(a,i);u||(i=Nt(i),u=s.call(a,i));const c=l.call(a,i);return a.set(i,o),u?In(o,c)&&$n(a,"set",i,o):$n(a,"add",i,o),this},delete(i){const o=Nt(this),{has:a,get:s}=Bo(o);let l=a.call(o,i);l||(i=Nt(i),l=a.call(o,i)),s&&s.call(o,i);const u=o.delete(i);return l&&$n(o,"delete",i,void 0),u},clear(){const i=Nt(this),o=i.size!==0,a=i.clear();return o&&$n(i,"clear",void 0,void 0),a}}),["keys","values","entries",Symbol.iterator].forEach(i=>{n[i]=Am(i,t,e)}),n}function sc(t,e){const n=km(t,e);return(r,i,o)=>i==="__v_isReactive"?!t:i==="__v_isReadonly"?t:i==="__v_raw"?r:Reflect.get(Ot(n,i)&&i in r?n:r,i,o)}const Bm={get:sc(!1,!1)},zm={get:sc(!1,!0)},Fm={get:sc(!0,!1)};const hp=new WeakMap,pp=new WeakMap,vp=new WeakMap,Gm=new WeakMap;function Lm(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Vm(t){return t.__v_skip||!Object.isExtensible(t)?0:Lm(pm(t))}function gs(t){return or(t)?t:uc(t,!1,Rm,Bm,hp)}function Hm(t){return uc(t,!1,Im,zm,pp)}function lc(t){return uc(t,!0,Om,Fm,vp)}function uc(t,e,n,r,i){if(!Lt(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const o=Vm(t);if(o===0)return t;const a=i.get(t);if(a)return a;const s=new Proxy(t,o===2?r:n);return i.set(t,s),s}function ti(t){return or(t)?ti(t.__v_raw):!!(t&&t.__v_isReactive)}function or(t){return!!(t&&t.__v_isReadonly)}function Fe(t){return!!(t&&t.__v_isShallow)}function cc(t){return t?!!t.__v_raw:!1}function Nt(t){const e=t&&t.__v_raw;return e?Nt(e):t}function fn(t){return!Ot(t,"__v_skip")&&Object.isExtensible(t)&&Kh(t,"__v_skip",!0),t}const ae=t=>Lt(t)?gs(t):t,Da=t=>Lt(t)?lc(t):t;function qt(t){return t?t.__v_isRef===!0:!1}function bt(t){return gp(t,!1)}function $a(t){return gp(t,!0)}function gp(t,e){return qt(t)?t:new Ym(t,e)}class Ym{constructor(e,n){this.dep=new ps,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=n?e:Nt(e),this._value=n?e:ae(e),this.__v_isShallow=n}get value(){return this.dep.track(),this._value}set value(e){const n=this._rawValue,r=this.__v_isShallow||Fe(e)||or(e);e=r?e:Nt(e),In(e,n)&&(this._rawValue=e,this._value=r?e:ae(e),this.dep.trigger())}}function et(t){return qt(t)?t.value:t}function Mt(t){return yt(t)?t():et(t)}const Xm={get:(t,e,n)=>e==="__v_raw"?t:et(Reflect.get(t,e,n)),set:(t,e,n,r)=>{const i=t[e];return qt(i)&&!qt(n)?(i.value=n,!0):Reflect.set(t,e,n,r)}};function mp(t){return ti(t)?t:new Proxy(t,Xm)}class Wm{constructor(e){this.__v_isRef=!0,this._value=void 0;const n=this.dep=new ps,{get:r,set:i}=e(n.track.bind(n),n.trigger.bind(n));this._get=r,this._set=i}get value(){return this._value=this._get()}set value(e){this._set(e)}}function Um(t){return new Wm(t)}function qm(t){const e=gt(t)?new Array(t.length):{};for(const n in t)e[n]=yp(t,n);return e}class jm{constructor(e,n,r){this._object=e,this._key=n,this._defaultValue=r,this.__v_isRef=!0,this._value=void 0}get value(){const e=this._object[this._key];return this._value=e===void 0?this._defaultValue:e}set value(e){this._object[this._key]=e}get dep(){return Mm(Nt(this._object),this._key)}}class Km{constructor(e){this._getter=e,this.__v_isRef=!0,this.__v_isReadonly=!0,this._value=void 0}get value(){return this._value=this._getter()}}function Ht(t,e,n){return qt(t)?t:yt(t)?new Km(t):Lt(t)&&arguments.length>1?yp(t,e,n):bt(t)}function yp(t,e,n){const r=t[e];return qt(r)?r:new jm(t,e,n)}class Zm{constructor(e,n,r){this.fn=e,this.setter=n,this._value=void 0,this.dep=new ps(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=Ji-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!n,this.isSSR=r}notify(){if(this.flags|=16,!(this.flags&8)&&Ft!==this)return ip(this,!0),!0}get value(){const e=this.dep.track();return sp(this),e&&(e.version=this.dep.version),this._value}set value(e){this.setter&&this.setter(e)}}function Jm(t,e,n=!1){let r,i;return yt(t)?r=t:(r=t.get,i=t.set),new Zm(r,i,n)}const Fo={},Ta=new WeakMap;let yr;function Qm(t,e=!1,n=yr){if(n){let r=Ta.get(n);r||Ta.set(n,r=[]),r.push(t)}}function t1(t,e,n=At){const{immediate:r,deep:i,once:o,scheduler:a,augmentJob:s,call:l}=n,u=w=>i?w:Fe(w)||i===!1||i===0?Tn(w,1):Tn(w);let c,f,d,h,p=!1,v=!1;if(qt(t)?(f=()=>t.value,p=Fe(t)):ti(t)?(f=()=>u(t),p=!0):gt(t)?(v=!0,p=t.some(w=>ti(w)||Fe(w)),f=()=>t.map(w=>{if(qt(w))return w.value;if(ti(w))return u(w);if(yt(w))return l?l(w,2):w()})):yt(t)?e?f=l?()=>l(t,2):t:f=()=>{if(d){kn();try{d()}finally{Bn()}}const w=yr;yr=c;try{return l?l(t,3,[h]):t(h)}finally{yr=w}}:f=dn,e&&i){const w=f,D=i===!0?1/0:i;f=()=>Tn(w(),D)}const m=rc(),g=()=>{c.stop(),m&&m.active&&ec(m.effects,c)};if(o&&e){const w=e;e=(...D)=>{w(...D),g()}}let b=v?new Array(t.length).fill(Fo):Fo;const _=w=>{if(!(!(c.flags&1)||!c.dirty&&!w))if(e){const D=c.run();if(i||p||(v?D.some(($,E)=>In($,b[E])):In(D,b))){d&&d();const $=yr;yr=c;try{const E=[D,b===Fo?void 0:v&&b[0]===Fo?[]:b,h];b=D,l?l(e,3,E):e(...E)}finally{yr=$}}}else c.run()};return s&&s(_),c=new np(f),c.scheduler=a?()=>a(_,!1):_,h=w=>Qm(w,!1,c),d=c.onStop=()=>{const w=Ta.get(c);if(w){if(l)l(w,4);else for(const D of w)D();Ta.delete(c)}},e?r?_(!0):b=c.run():a?a(_.bind(null,!0),!0):c.run(),g.pause=c.pause.bind(c),g.resume=c.resume.bind(c),g.stop=g,g}function Tn(t,e=1/0,n){if(e<=0||!Lt(t)||t.__v_skip||(n=n||new Set,n.has(t)))return t;if(n.add(t),e--,qt(t))Tn(t.value,e,n);else if(gt(t))for(let r=0;r<t.length;r++)Tn(t[r],e,n);else if(Wh(t)||Qr(t))t.forEach(r=>{Tn(r,e,n)});else if(jh(t)){for(const r in t)Tn(t[r],e,n);for(const r of Object.getOwnPropertySymbols(t))Object.prototype.propertyIsEnumerable.call(t,r)&&Tn(t[r],e,n)}return t}/**
* @vue/runtime-core v3.5.15
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function xo(t,e,n,r){try{return r?t(...r):t()}catch(i){ms(i,e,n)}}function Qe(t,e,n,r){if(yt(t)){const i=xo(t,e,n,r);return i&&Uh(i)&&i.catch(o=>{ms(o,e,n)}),i}if(gt(t)){const i=[];for(let o=0;o<t.length;o++)i.push(Qe(t[o],e,n,r));return i}}function ms(t,e,n,r=!0){const i=e?e.vnode:null,{errorHandler:o,throwUnhandledErrorInProduction:a}=e&&e.appContext.config||At;if(e){let s=e.parent;const l=e.proxy,u=`https://vuejs.org/error-reference/#runtime-${n}`;for(;s;){const c=s.ec;if(c){for(let f=0;f<c.length;f++)if(c[f](t,l,u)===!1)return}s=s.parent}if(o){kn(),xo(o,null,10,[t,l,u]),Bn();return}}e1(t,n,i,r,a)}function e1(t,e,n,r=!0,i=!1){if(i)throw t;console.error(t)}const be=[];let an=-1;const ei=[];let Kn=null,Wr=0;const _p=Promise.resolve();let Pa=null;function Ze(t){const e=Pa||_p;return t?e.then(this?t.bind(this):t):e}function n1(t){let e=an+1,n=be.length;for(;e<n;){const r=e+n>>>1,i=be[r],o=to(i);o<t||o===t&&i.flags&2?e=r+1:n=r}return e}function fc(t){if(!(t.flags&1)){const e=to(t),n=be[be.length-1];!n||!(t.flags&2)&&e>=to(n)?be.push(t):be.splice(n1(e),0,t),t.flags|=1,bp()}}function bp(){Pa||(Pa=_p.then(xp))}function r1(t){gt(t)?ei.push(...t):Kn&&t.id===-1?Kn.splice(Wr+1,0,t):t.flags&1||(ei.push(t),t.flags|=1),bp()}function Sf(t,e,n=an+1){for(;n<be.length;n++){const r=be[n];if(r&&r.flags&2){if(t&&r.id!==t.uid)continue;be.splice(n,1),n--,r.flags&4&&(r.flags&=-2),r(),r.flags&4||(r.flags&=-2)}}}function wp(t){if(ei.length){const e=[...new Set(ei)].sort((n,r)=>to(n)-to(r));if(ei.length=0,Kn){Kn.push(...e);return}for(Kn=e,Wr=0;Wr<Kn.length;Wr++){const n=Kn[Wr];n.flags&4&&(n.flags&=-2),n.flags&8||n(),n.flags&=-2}Kn=null,Wr=0}}const to=t=>t.id==null?t.flags&2?-1:1/0:t.id;function xp(t){try{for(an=0;an<be.length;an++){const e=be[an];e&&!(e.flags&8)&&(e.flags&4&&(e.flags&=-2),xo(e,e.i,e.i?15:14),e.flags&4||(e.flags&=-2))}}finally{for(;an<be.length;an++){const e=be[an];e&&(e.flags&=-2)}an=-1,be.length=0,wp(),Pa=null,(be.length||ei.length)&&xp()}}let re=null,Sp=null;function Na(t){const e=re;return re=t,Sp=t&&t.type.__scopeId||null,e}function we(t,e=re,n){if(!e||t._n)return t;const r=(...i)=>{r._d&&If(-1);const o=Na(e);let a;try{a=t(...i)}finally{Na(o),r._d&&If(1)}return a};return r._n=!0,r._c=!0,r._d=!0,r}function i1(t,e){if(re===null)return t;const n=Es(re),r=t.dirs||(t.dirs=[]);for(let i=0;i<e.length;i++){let[o,a,s,l=At]=e[i];o&&(yt(o)&&(o={mounted:o,updated:o}),o.deep&&Tn(a),r.push({dir:o,instance:n,value:a,oldValue:void 0,arg:s,modifiers:l}))}return t}function pr(t,e,n,r){const i=t.dirs,o=e&&e.dirs;for(let a=0;a<i.length;a++){const s=i[a];o&&(s.oldValue=o[a].value);let l=s.dir[r];l&&(kn(),Qe(l,n,8,[t.el,s,t,e]),Bn())}}const o1=Symbol("_vte"),Ep=t=>t.__isTeleport,Zn=Symbol("_leaveCb"),Go=Symbol("_enterCb");function a1(){const t={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return en(()=>{t.isMounted=!0}),bs(()=>{t.isUnmounting=!0}),t}const ze=[Function,Array],Cp={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:ze,onEnter:ze,onAfterEnter:ze,onEnterCancelled:ze,onBeforeLeave:ze,onLeave:ze,onAfterLeave:ze,onLeaveCancelled:ze,onBeforeAppear:ze,onAppear:ze,onAfterAppear:ze,onAppearCancelled:ze},Mp=t=>{const e=t.subTree;return e.component?Mp(e.component):e},s1={name:"BaseTransition",props:Cp,setup(t,{slots:e}){const n=zr(),r=a1();return()=>{const i=e.default&&Tp(e.default(),!0);if(!i||!i.length)return;const o=Dp(i),a=Nt(t),{mode:s}=a;if(r.isLeaving)return sl(o);const l=Ef(o);if(!l)return sl(o);let u=ql(l,a,r,n,f=>u=f);l.type!==fe&&eo(l,u);let c=n.subTree&&Ef(n.subTree);if(c&&c.type!==fe&&!_r(l,c)&&Mp(n).type!==fe){let f=ql(c,a,r,n);if(eo(c,f),s==="out-in"&&l.type!==fe)return r.isLeaving=!0,f.afterLeave=()=>{r.isLeaving=!1,n.job.flags&8||n.update(),delete f.afterLeave,c=void 0},sl(o);s==="in-out"&&l.type!==fe?f.delayLeave=(d,h,p)=>{const v=$p(r,c);v[String(c.key)]=c,d[Zn]=()=>{h(),d[Zn]=void 0,delete u.delayedLeave,c=void 0},u.delayedLeave=()=>{p(),delete u.delayedLeave,c=void 0}}:c=void 0}else c&&(c=void 0);return o}}};function Dp(t){let e=t[0];if(t.length>1){for(const n of t)if(n.type!==fe){e=n;break}}return e}const l1=s1;function $p(t,e){const{leavingVNodes:n}=t;let r=n.get(e.type);return r||(r=Object.create(null),n.set(e.type,r)),r}function ql(t,e,n,r,i){const{appear:o,mode:a,persisted:s=!1,onBeforeEnter:l,onEnter:u,onAfterEnter:c,onEnterCancelled:f,onBeforeLeave:d,onLeave:h,onAfterLeave:p,onLeaveCancelled:v,onBeforeAppear:m,onAppear:g,onAfterAppear:b,onAppearCancelled:_}=e,w=String(t.key),D=$p(n,t),$=(O,N)=>{O&&Qe(O,r,9,N)},E=(O,N)=>{const F=N[1];$(O,N),gt(O)?O.every(S=>S.length<=1)&&F():O.length<=1&&F()},A={mode:a,persisted:s,beforeEnter(O){let N=l;if(!n.isMounted)if(o)N=m||l;else return;O[Zn]&&O[Zn](!0);const F=D[w];F&&_r(t,F)&&F.el[Zn]&&F.el[Zn](),$(N,[O])},enter(O){let N=u,F=c,S=f;if(!n.isMounted)if(o)N=g||u,F=b||c,S=_||f;else return;let G=!1;const y=O[Go]=R=>{G||(G=!0,R?$(S,[O]):$(F,[O]),A.delayedLeave&&A.delayedLeave(),O[Go]=void 0)};N?E(N,[O,y]):y()},leave(O,N){const F=String(t.key);if(O[Go]&&O[Go](!0),n.isUnmounting)return N();$(d,[O]);let S=!1;const G=O[Zn]=y=>{S||(S=!0,N(),y?$(v,[O]):$(p,[O]),O[Zn]=void 0,D[F]===t&&delete D[F])};D[F]=t,h?E(h,[O,G]):G()},clone(O){const N=ql(O,e,n,r,i);return i&&i(N),N}};return A}function sl(t){if(ys(t))return t=sr(t),t.children=null,t}function Ef(t){if(!ys(t))return Ep(t.type)&&t.children?Dp(t.children):t;if(t.component)return t.component.subTree;const{shapeFlag:e,children:n}=t;if(n){if(e&16)return n[0];if(e&32&&yt(n.default))return n.default()}}function eo(t,e){t.shapeFlag&6&&t.component?(t.transition=e,eo(t.component.subTree,e)):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function Tp(t,e=!1,n){let r=[],i=0;for(let o=0;o<t.length;o++){let a=t[o];const s=n==null?a.key:String(n)+String(a.key!=null?a.key:o);a.type===Gt?(a.patchFlag&128&&i++,r=r.concat(Tp(a.children,e,s))):(e||a.type!==fe)&&r.push(s!=null?sr(a,{key:s}):a)}if(i>1)for(let o=0;o<r.length;o++)r[o].patchFlag=-2;return r}/*! #__NO_SIDE_EFFECTS__ */function Vt(t,e){return yt(t)?ie({name:t.name},e,{setup:t}):t}function Pp(t){t.ids=[t.ids[0]+t.ids[2]+++"-",0,0]}function Ra(t,e,n,r,i=!1){if(gt(t)){t.forEach((p,v)=>Ra(p,e&&(gt(e)?e[v]:e),n,r,i));return}if(ni(r)&&!i){r.shapeFlag&512&&r.type.__asyncResolved&&r.component.subTree.component&&Ra(t,e,n,r.component.subTree);return}const o=r.shapeFlag&4?Es(r.component):r.el,a=i?null:o,{i:s,r:l}=t,u=e&&e.r,c=s.refs===At?s.refs={}:s.refs,f=s.setupState,d=Nt(f),h=f===At?()=>!1:p=>Ot(d,p);if(u!=null&&u!==l&&(Xt(u)?(c[u]=null,h(u)&&(f[u]=null)):qt(u)&&(u.value=null)),yt(l))xo(l,s,12,[a,c]);else{const p=Xt(l),v=qt(l);if(p||v){const m=()=>{if(t.f){const g=p?h(l)?f[l]:c[l]:l.value;i?gt(g)&&ec(g,o):gt(g)?g.includes(o)||g.push(o):p?(c[l]=[o],h(l)&&(f[l]=c[l])):(l.value=[o],t.k&&(c[t.k]=l.value))}else p?(c[l]=a,h(l)&&(f[l]=a)):v&&(l.value=a,t.k&&(c[t.k]=a))};a?(m.id=-1,Ne(m,n)):m()}}}hs().requestIdleCallback;hs().cancelIdleCallback;const ni=t=>!!t.type.__asyncLoader,ys=t=>t.type.__isKeepAlive;function u1(t,e){Np(t,"a",e)}function c1(t,e){Np(t,"da",e)}function Np(t,e,n=se){const r=t.__wdc||(t.__wdc=()=>{let i=n;for(;i;){if(i.isDeactivated)return;i=i.parent}return t()});if(_s(e,r,n),n){let i=n.parent;for(;i&&i.parent;)ys(i.parent.vnode)&&f1(r,e,n,i),i=i.parent}}function f1(t,e,n,r){const i=_s(e,t,r,!0);hc(()=>{ec(r[e],i)},n)}function _s(t,e,n=se,r=!1){if(n){const i=n[t]||(n[t]=[]),o=e.__weh||(e.__weh=(...a)=>{kn();const s=So(n),l=Qe(e,n,t,a);return s(),Bn(),l});return r?i.unshift(o):i.push(o),o}}const Hn=t=>(e,n=se)=>{(!ro||t==="sp")&&_s(t,(...r)=>e(...r),n)},dc=Hn("bm"),en=Hn("m"),d1=Hn("bu"),h1=Hn("u"),bs=Hn("bum"),hc=Hn("um"),p1=Hn("sp"),v1=Hn("rtg"),g1=Hn("rtc");function m1(t,e=se){_s("ec",t,e)}const Rp="components";function Op(t,e){return kp(Rp,t,!0,e)||t}const Ip=Symbol.for("v-ndc");function Ap(t){return Xt(t)?kp(Rp,t,!1)||t:t||Ip}function kp(t,e,n=!0,r=!1){const i=re||se;if(i){const o=i.type;{const s=ny(o,!1);if(s&&(s===e||s===Ve(e)||s===ds(Ve(e))))return o}const a=Cf(i[t]||o[t],e)||Cf(i.appContext[t],e);return!a&&r?o:a}}function Cf(t,e){return t&&(t[e]||t[Ve(e)]||t[ds(Ve(e))])}function ws(t,e,n,r){let i;const o=n&&n[r],a=gt(t);if(a||Xt(t)){const s=a&&ti(t);let l=!1,u=!1;s&&(l=!Fe(t),u=or(t),t=vs(t)),i=new Array(t.length);for(let c=0,f=t.length;c<f;c++)i[c]=e(l?u?Da(ae(t[c])):ae(t[c]):t[c],c,void 0,o&&o[c])}else if(typeof t=="number"){i=new Array(t);for(let s=0;s<t;s++)i[s]=e(s+1,s,void 0,o&&o[s])}else if(Lt(t))if(t[Symbol.iterator])i=Array.from(t,(s,l)=>e(s,l,void 0,o&&o[l]));else{const s=Object.keys(t);i=new Array(s.length);for(let l=0,u=s.length;l<u;l++){const c=s[l];i[l]=e(t[c],c,l,o&&o[l])}}else i=[];return n&&(n[r]=i),i}function zn(t,e,n={},r,i){if(re.ce||re.parent&&ni(re.parent)&&re.parent.ce)return e!=="default"&&(n.name=e),ht(),le(Gt,null,[_t("slot",n,r&&r())],64);let o=t[e];o&&o._c&&(o._d=!1),ht();const a=o&&Bp(o(n)),s=n.key||a&&a.key,l=le(Gt,{key:(s&&!Vn(s)?s:`_${e}`)+(!a&&r?"_fb":"")},a||(r?r():[]),a&&t._===1?64:-2);return l.scopeId&&(l.slotScopeIds=[l.scopeId+"-s"]),o&&o._c&&(o._d=!0),l}function Bp(t){return t.some(e=>no(e)?!(e.type===fe||e.type===Gt&&!Bp(e.children)):!0)?t:null}const jl=t=>t?iv(t)?Es(t):jl(t.parent):null,Yi=ie(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>jl(t.parent),$root:t=>jl(t.root),$host:t=>t.ce,$emit:t=>t.emit,$options:t=>Lp(t),$forceUpdate:t=>t.f||(t.f=()=>{fc(t.update)}),$nextTick:t=>t.n||(t.n=Ze.bind(t.proxy)),$watch:t=>G1.bind(t)}),ll=(t,e)=>t!==At&&!t.__isScriptSetup&&Ot(t,e),y1={get({_:t},e){if(e==="__v_skip")return!0;const{ctx:n,setupState:r,data:i,props:o,accessCache:a,type:s,appContext:l}=t;let u;if(e[0]!=="$"){const h=a[e];if(h!==void 0)switch(h){case 1:return r[e];case 2:return i[e];case 4:return n[e];case 3:return o[e]}else{if(ll(r,e))return a[e]=1,r[e];if(i!==At&&Ot(i,e))return a[e]=2,i[e];if((u=t.propsOptions[0])&&Ot(u,e))return a[e]=3,o[e];if(n!==At&&Ot(n,e))return a[e]=4,n[e];Kl&&(a[e]=0)}}const c=Yi[e];let f,d;if(c)return e==="$attrs"&&ce(t.attrs,"get",""),c(t);if((f=s.__cssModules)&&(f=f[e]))return f;if(n!==At&&Ot(n,e))return a[e]=4,n[e];if(d=l.config.globalProperties,Ot(d,e))return d[e]},set({_:t},e,n){const{data:r,setupState:i,ctx:o}=t;return ll(i,e)?(i[e]=n,!0):r!==At&&Ot(r,e)?(r[e]=n,!0):Ot(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(o[e]=n,!0)},has({_:{data:t,setupState:e,accessCache:n,ctx:r,appContext:i,propsOptions:o}},a){let s;return!!n[a]||t!==At&&Ot(t,a)||ll(e,a)||(s=o[0])&&Ot(s,a)||Ot(r,a)||Ot(Yi,a)||Ot(i.config.globalProperties,a)},defineProperty(t,e,n){return n.get!=null?t._.accessCache[e]=0:Ot(n,"value")&&this.set(t,e,n.value,null),Reflect.defineProperty(t,e,n)}};function zp(){return Fp().slots}function pc(){return Fp().attrs}function Fp(){const t=zr();return t.setupContext||(t.setupContext=av(t))}function Mf(t){return gt(t)?t.reduce((e,n)=>(e[n]=null,e),{}):t}function _1(t,e){const n={};for(const r in t)e.includes(r)||Object.defineProperty(n,r,{enumerable:!0,get:()=>t[r]});return n}let Kl=!0;function b1(t){const e=Lp(t),n=t.proxy,r=t.ctx;Kl=!1,e.beforeCreate&&Df(e.beforeCreate,t,"bc");const{data:i,computed:o,methods:a,watch:s,provide:l,inject:u,created:c,beforeMount:f,mounted:d,beforeUpdate:h,updated:p,activated:v,deactivated:m,beforeDestroy:g,beforeUnmount:b,destroyed:_,unmounted:w,render:D,renderTracked:$,renderTriggered:E,errorCaptured:A,serverPrefetch:O,expose:N,inheritAttrs:F,components:S,directives:G,filters:y}=e;if(u&&w1(u,r,null),a)for(const L in a){const k=a[L];yt(k)&&(r[L]=k.bind(n))}if(i){const L=i.call(n,n);Lt(L)&&(t.data=gs(L))}if(Kl=!0,o)for(const L in o){const k=o[L],z=yt(k)?k.bind(n,n):yt(k.get)?k.get.bind(n,n):dn,V=!yt(k)&&yt(k.set)?k.set.bind(n):dn,Y=vt({get:z,set:V});Object.defineProperty(r,L,{enumerable:!0,configurable:!0,get:()=>Y.value,set:j=>Y.value=j})}if(s)for(const L in s)Gp(s[L],r,n,L);if(l){const L=yt(l)?l.call(n):l;Reflect.ownKeys(L).forEach(k=>{ar(k,L[k])})}c&&Df(c,t,"c");function M(L,k){gt(k)?k.forEach(z=>L(z.bind(n))):k&&L(k.bind(n))}if(M(dc,f),M(en,d),M(d1,h),M(h1,p),M(u1,v),M(c1,m),M(m1,A),M(g1,$),M(v1,E),M(bs,b),M(hc,w),M(p1,O),gt(N))if(N.length){const L=t.exposed||(t.exposed={});N.forEach(k=>{Object.defineProperty(L,k,{get:()=>n[k],set:z=>n[k]=z})})}else t.exposed||(t.exposed={});D&&t.render===dn&&(t.render=D),F!=null&&(t.inheritAttrs=F),S&&(t.components=S),G&&(t.directives=G),O&&Pp(t)}function w1(t,e,n=dn){gt(t)&&(t=Zl(t));for(const r in t){const i=t[r];let o;Lt(i)?"default"in i?o=Je(i.from||r,i.default,!0):o=Je(i.from||r):o=Je(i),qt(o)?Object.defineProperty(e,r,{enumerable:!0,configurable:!0,get:()=>o.value,set:a=>o.value=a}):e[r]=o}}function Df(t,e,n){Qe(gt(t)?t.map(r=>r.bind(e.proxy)):t.bind(e.proxy),e,n)}function Gp(t,e,n,r){let i=r.includes(".")?Qp(n,r):()=>n[r];if(Xt(t)){const o=e[t];yt(o)&&Rt(i,o)}else if(yt(t))Rt(i,t.bind(n));else if(Lt(t))if(gt(t))t.forEach(o=>Gp(o,e,n,r));else{const o=yt(t.handler)?t.handler.bind(n):e[t.handler];yt(o)&&Rt(i,o,t)}}function Lp(t){const e=t.type,{mixins:n,extends:r}=e,{mixins:i,optionsCache:o,config:{optionMergeStrategies:a}}=t.appContext,s=o.get(e);let l;return s?l=s:!i.length&&!n&&!r?l=e:(l={},i.length&&i.forEach(u=>Oa(l,u,a,!0)),Oa(l,e,a)),Lt(e)&&o.set(e,l),l}function Oa(t,e,n,r=!1){const{mixins:i,extends:o}=e;o&&Oa(t,o,n,!0),i&&i.forEach(a=>Oa(t,a,n,!0));for(const a in e)if(!(r&&a==="expose")){const s=x1[a]||n&&n[a];t[a]=s?s(t[a],e[a]):e[a]}return t}const x1={data:$f,props:Tf,emits:Tf,methods:Pi,computed:Pi,beforeCreate:ye,created:ye,beforeMount:ye,mounted:ye,beforeUpdate:ye,updated:ye,beforeDestroy:ye,beforeUnmount:ye,destroyed:ye,unmounted:ye,activated:ye,deactivated:ye,errorCaptured:ye,serverPrefetch:ye,components:Pi,directives:Pi,watch:E1,provide:$f,inject:S1};function $f(t,e){return e?t?function(){return ie(yt(t)?t.call(this,this):t,yt(e)?e.call(this,this):e)}:e:t}function S1(t,e){return Pi(Zl(t),Zl(e))}function Zl(t){if(gt(t)){const e={};for(let n=0;n<t.length;n++)e[t[n]]=t[n];return e}return t}function ye(t,e){return t?[...new Set([].concat(t,e))]:e}function Pi(t,e){return t?ie(Object.create(null),t,e):e}function Tf(t,e){return t?gt(t)&&gt(e)?[...new Set([...t,...e])]:ie(Object.create(null),Mf(t),Mf(e??{})):e}function E1(t,e){if(!t)return e;if(!e)return t;const n=ie(Object.create(null),t);for(const r in e)n[r]=ye(t[r],e[r]);return n}function Vp(){return{app:null,config:{isNativeTag:dm,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let C1=0;function M1(t,e){return function(r,i=null){yt(r)||(r=ie({},r)),i!=null&&!Lt(i)&&(i=null);const o=Vp(),a=new WeakSet,s=[];let l=!1;const u=o.app={_uid:C1++,_component:r,_props:i,_container:null,_context:o,_instance:null,version:oy,get config(){return o.config},set config(c){},use(c,...f){return a.has(c)||(c&&yt(c.install)?(a.add(c),c.install(u,...f)):yt(c)&&(a.add(c),c(u,...f))),u},mixin(c){return o.mixins.includes(c)||o.mixins.push(c),u},component(c,f){return f?(o.components[c]=f,u):o.components[c]},directive(c,f){return f?(o.directives[c]=f,u):o.directives[c]},mount(c,f,d){if(!l){const h=u._ceVNode||_t(r,i);return h.appContext=o,d===!0?d="svg":d===!1&&(d=void 0),t(h,c,d),l=!0,u._container=c,c.__vue_app__=u,Es(h.component)}},onUnmount(c){s.push(c)},unmount(){l&&(Qe(s,u._instance,16),t(null,u._container),delete u._container.__vue_app__)},provide(c,f){return o.provides[c]=f,u},runWithContext(c){const f=ri;ri=u;try{return c()}finally{ri=f}}};return u}}let ri=null;function ar(t,e){if(se){let n=se.provides;const r=se.parent&&se.parent.provides;r===n&&(n=se.provides=Object.create(r)),n[t]=e}}function Je(t,e,n=!1){const r=se||re;if(r||ri){let i=ri?ri._context.provides:r?r.parent==null||r.ce?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:void 0;if(i&&t in i)return i[t];if(arguments.length>1)return n&&yt(e)?e.call(r&&r.proxy):e}}const Hp={},Yp=()=>Object.create(Hp),Xp=t=>Object.getPrototypeOf(t)===Hp;function D1(t,e,n,r=!1){const i={},o=Yp();t.propsDefaults=Object.create(null),Wp(t,e,i,o);for(const a in t.propsOptions[0])a in i||(i[a]=void 0);n?t.props=r?i:Hm(i):t.type.props?t.props=i:t.props=o,t.attrs=o}function $1(t,e,n,r){const{props:i,attrs:o,vnode:{patchFlag:a}}=t,s=Nt(i),[l]=t.propsOptions;let u=!1;if((r||a>0)&&!(a&16)){if(a&8){const c=t.vnode.dynamicProps;for(let f=0;f<c.length;f++){let d=c[f];if(xs(t.emitsOptions,d))continue;const h=e[d];if(l)if(Ot(o,d))h!==o[d]&&(o[d]=h,u=!0);else{const p=Ve(d);i[p]=Jl(l,s,p,h,t,!1)}else h!==o[d]&&(o[d]=h,u=!0)}}}else{Wp(t,e,i,o)&&(u=!0);let c;for(const f in s)(!e||!Ot(e,f)&&((c=Br(f))===f||!Ot(e,c)))&&(l?n&&(n[f]!==void 0||n[c]!==void 0)&&(i[f]=Jl(l,s,f,void 0,t,!0)):delete i[f]);if(o!==s)for(const f in o)(!e||!Ot(e,f))&&(delete o[f],u=!0)}u&&$n(t.attrs,"set","")}function Wp(t,e,n,r){const[i,o]=t.propsOptions;let a=!1,s;if(e)for(let l in e){if(Li(l))continue;const u=e[l];let c;i&&Ot(i,c=Ve(l))?!o||!o.includes(c)?n[c]=u:(s||(s={}))[c]=u:xs(t.emitsOptions,l)||(!(l in r)||u!==r[l])&&(r[l]=u,a=!0)}if(o){const l=Nt(n),u=s||At;for(let c=0;c<o.length;c++){const f=o[c];n[f]=Jl(i,l,f,u[f],t,!Ot(u,f))}}return a}function Jl(t,e,n,r,i,o){const a=t[n];if(a!=null){const s=Ot(a,"default");if(s&&r===void 0){const l=a.default;if(a.type!==Function&&!a.skipFactory&&yt(l)){const{propsDefaults:u}=i;if(n in u)r=u[n];else{const c=So(i);r=u[n]=l.call(null,e),c()}}else r=l;i.ce&&i.ce._setProp(n,r)}a[0]&&(o&&!s?r=!1:a[1]&&(r===""||r===Br(n))&&(r=!0))}return r}const T1=new WeakMap;function Up(t,e,n=!1){const r=n?T1:e.propsCache,i=r.get(t);if(i)return i;const o=t.props,a={},s=[];let l=!1;if(!yt(t)){const c=f=>{l=!0;const[d,h]=Up(f,e,!0);ie(a,d),h&&s.push(...h)};!n&&e.mixins.length&&e.mixins.forEach(c),t.extends&&c(t.extends),t.mixins&&t.mixins.forEach(c)}if(!o&&!l)return Lt(t)&&r.set(t,Jr),Jr;if(gt(o))for(let c=0;c<o.length;c++){const f=Ve(o[c]);Pf(f)&&(a[f]=At)}else if(o)for(const c in o){const f=Ve(c);if(Pf(f)){const d=o[c],h=a[f]=gt(d)||yt(d)?{type:d}:ie({},d),p=h.type;let v=!1,m=!0;if(gt(p))for(let g=0;g<p.length;++g){const b=p[g],_=yt(b)&&b.name;if(_==="Boolean"){v=!0;break}else _==="String"&&(m=!1)}else v=yt(p)&&p.name==="Boolean";h[0]=v,h[1]=m,(v||Ot(h,"default"))&&s.push(f)}}const u=[a,s];return Lt(t)&&r.set(t,u),u}function Pf(t){return t[0]!=="$"&&!Li(t)}const vc=t=>t[0]==="_"||t==="$stable",gc=t=>gt(t)?t.map(ln):[ln(t)],P1=(t,e,n)=>{if(e._n)return e;const r=we((...i)=>gc(e(...i)),n);return r._c=!1,r},qp=(t,e,n)=>{const r=t._ctx;for(const i in t){if(vc(i))continue;const o=t[i];if(yt(o))e[i]=P1(i,o,r);else if(o!=null){const a=gc(o);e[i]=()=>a}}},jp=(t,e)=>{const n=gc(e);t.slots.default=()=>n},Kp=(t,e,n)=>{for(const r in e)(n||!vc(r))&&(t[r]=e[r])},N1=(t,e,n)=>{const r=t.slots=Yp();if(t.vnode.shapeFlag&32){const i=e._;i?(Kp(r,e,n),n&&Kh(r,"_",i,!0)):qp(e,r)}else e&&jp(t,e)},R1=(t,e,n)=>{const{vnode:r,slots:i}=t;let o=!0,a=At;if(r.shapeFlag&32){const s=e._;s?n&&s===1?o=!1:Kp(i,e,n):(o=!e.$stable,qp(e,i)),a=e}else e&&(jp(t,e),a={default:1});if(o)for(const s in i)!vc(s)&&a[s]==null&&delete i[s]},Ne=U1;function O1(t){return I1(t)}function I1(t,e){const n=hs();n.__VUE__=!0;const{insert:r,remove:i,patchProp:o,createElement:a,createText:s,createComment:l,setText:u,setElementText:c,parentNode:f,nextSibling:d,setScopeId:h=dn,insertStaticContent:p}=t,v=(I,B,x,C=null,P=null,T=null,H=void 0,X=null,U=!!B.dynamicChildren)=>{if(I===B)return;I&&!_r(I,B)&&(C=it(I),j(I,P,T,!0),I=null),B.patchFlag===-2&&(U=!1,B.dynamicChildren=null);const{type:W,ref:Q,shapeFlag:K}=B;switch(W){case Ss:m(I,B,x,C);break;case fe:g(I,B,x,C);break;case cl:I==null&&b(B,x,C,H);break;case Gt:S(I,B,x,C,P,T,H,X,U);break;default:K&1?D(I,B,x,C,P,T,H,X,U):K&6?G(I,B,x,C,P,T,H,X,U):(K&64||K&128)&&W.process(I,B,x,C,P,T,H,X,U,dt)}Q!=null&&P&&Ra(Q,I&&I.ref,T,B||I,!B)},m=(I,B,x,C)=>{if(I==null)r(B.el=s(B.children),x,C);else{const P=B.el=I.el;B.children!==I.children&&u(P,B.children)}},g=(I,B,x,C)=>{I==null?r(B.el=l(B.children||""),x,C):B.el=I.el},b=(I,B,x,C)=>{[I.el,I.anchor]=p(I.children,B,x,C,I.el,I.anchor)},_=({el:I,anchor:B},x,C)=>{let P;for(;I&&I!==B;)P=d(I),r(I,x,C),I=P;r(B,x,C)},w=({el:I,anchor:B})=>{let x;for(;I&&I!==B;)x=d(I),i(I),I=x;i(B)},D=(I,B,x,C,P,T,H,X,U)=>{B.type==="svg"?H="svg":B.type==="math"&&(H="mathml"),I==null?$(B,x,C,P,T,H,X,U):O(I,B,P,T,H,X,U)},$=(I,B,x,C,P,T,H,X)=>{let U,W;const{props:Q,shapeFlag:K,transition:nt,dirs:st}=I;if(U=I.el=a(I.type,T,Q&&Q.is,Q),K&8?c(U,I.children):K&16&&A(I.children,U,null,C,P,ul(I,T),H,X),st&&pr(I,null,C,"created"),E(U,I,I.scopeId,H,C),Q){for(const Tt in Q)Tt!=="value"&&!Li(Tt)&&o(U,Tt,null,Q[Tt],T,C);"value"in Q&&o(U,"value",null,Q.value,T),(W=Q.onVnodeBeforeMount)&&on(W,C,I)}st&&pr(I,null,C,"beforeMount");const mt=A1(P,nt);mt&&nt.beforeEnter(U),r(U,B,x),((W=Q&&Q.onVnodeMounted)||mt||st)&&Ne(()=>{W&&on(W,C,I),mt&&nt.enter(U),st&&pr(I,null,C,"mounted")},P)},E=(I,B,x,C,P)=>{if(x&&h(I,x),C)for(let T=0;T<C.length;T++)h(I,C[T]);if(P){let T=P.subTree;if(B===T||ev(T.type)&&(T.ssContent===B||T.ssFallback===B)){const H=P.vnode;E(I,H,H.scopeId,H.slotScopeIds,P.parent)}}},A=(I,B,x,C,P,T,H,X,U=0)=>{for(let W=U;W<I.length;W++){const Q=I[W]=X?Jn(I[W]):ln(I[W]);v(null,Q,B,x,C,P,T,H,X)}},O=(I,B,x,C,P,T,H)=>{const X=B.el=I.el;let{patchFlag:U,dynamicChildren:W,dirs:Q}=B;U|=I.patchFlag&16;const K=I.props||At,nt=B.props||At;let st;if(x&&vr(x,!1),(st=nt.onVnodeBeforeUpdate)&&on(st,x,B,I),Q&&pr(B,I,x,"beforeUpdate"),x&&vr(x,!0),(K.innerHTML&&nt.innerHTML==null||K.textContent&&nt.textContent==null)&&c(X,""),W?N(I.dynamicChildren,W,X,x,C,ul(B,P),T):H||k(I,B,X,null,x,C,ul(B,P),T,!1),U>0){if(U&16)F(X,K,nt,x,P);else if(U&2&&K.class!==nt.class&&o(X,"class",null,nt.class,P),U&4&&o(X,"style",K.style,nt.style,P),U&8){const mt=B.dynamicProps;for(let Tt=0;Tt<mt.length;Tt++){const Pt=mt[Tt],jt=K[Pt],ne=nt[Pt];(ne!==jt||Pt==="value")&&o(X,Pt,jt,ne,P,x)}}U&1&&I.children!==B.children&&c(X,B.children)}else!H&&W==null&&F(X,K,nt,x,P);((st=nt.onVnodeUpdated)||Q)&&Ne(()=>{st&&on(st,x,B,I),Q&&pr(B,I,x,"updated")},C)},N=(I,B,x,C,P,T,H)=>{for(let X=0;X<B.length;X++){const U=I[X],W=B[X],Q=U.el&&(U.type===Gt||!_r(U,W)||U.shapeFlag&198)?f(U.el):x;v(U,W,Q,null,C,P,T,H,!0)}},F=(I,B,x,C,P)=>{if(B!==x){if(B!==At)for(const T in B)!Li(T)&&!(T in x)&&o(I,T,B[T],null,P,C);for(const T in x){if(Li(T))continue;const H=x[T],X=B[T];H!==X&&T!=="value"&&o(I,T,X,H,P,C)}"value"in x&&o(I,"value",B.value,x.value,P)}},S=(I,B,x,C,P,T,H,X,U)=>{const W=B.el=I?I.el:s(""),Q=B.anchor=I?I.anchor:s("");let{patchFlag:K,dynamicChildren:nt,slotScopeIds:st}=B;st&&(X=X?X.concat(st):st),I==null?(r(W,x,C),r(Q,x,C),A(B.children||[],x,Q,P,T,H,X,U)):K>0&&K&64&&nt&&I.dynamicChildren?(N(I.dynamicChildren,nt,x,P,T,H,X),(B.key!=null||P&&B===P.subTree)&&Zp(I,B,!0)):k(I,B,x,Q,P,T,H,X,U)},G=(I,B,x,C,P,T,H,X,U)=>{B.slotScopeIds=X,I==null?B.shapeFlag&512?P.ctx.activate(B,x,C,H,U):y(B,x,C,P,T,H,U):R(I,B,U)},y=(I,B,x,C,P,T,H)=>{const X=I.component=J1(I,C,P);if(ys(I)&&(X.ctx.renderer=dt),Q1(X,!1,H),X.asyncDep){if(P&&P.registerDep(X,M,H),!I.el){const U=X.subTree=_t(fe);g(null,U,B,x)}}else M(X,I,B,x,P,T,H)},R=(I,B,x)=>{const C=B.component=I.component;if(X1(I,B,x))if(C.asyncDep&&!C.asyncResolved){L(C,B,x);return}else C.next=B,C.update();else B.el=I.el,C.vnode=B},M=(I,B,x,C,P,T,H)=>{const X=()=>{if(I.isMounted){let{next:K,bu:nt,u:st,parent:mt,vnode:Tt}=I;{const Pe=Jp(I);if(Pe){K&&(K.el=Tt.el,L(I,K,H)),Pe.asyncDep.then(()=>{I.isUnmounted||X()});return}}let Pt=K,jt;vr(I,!1),K?(K.el=Tt.el,L(I,K,H)):K=Tt,nt&&ca(nt),(jt=K.props&&K.props.onVnodeBeforeUpdate)&&on(jt,mt,K,Tt),vr(I,!0);const ne=Rf(I),ke=I.subTree;I.subTree=ne,v(ke,ne,f(ke.el),it(ke),I,P,T),K.el=ne.el,Pt===null&&W1(I,ne.el),st&&Ne(st,P),(jt=K.props&&K.props.onVnodeUpdated)&&Ne(()=>on(jt,mt,K,Tt),P)}else{let K;const{el:nt,props:st}=B,{bm:mt,m:Tt,parent:Pt,root:jt,type:ne}=I,ke=ni(B);vr(I,!1),mt&&ca(mt),!ke&&(K=st&&st.onVnodeBeforeMount)&&on(K,Pt,B),vr(I,!0);{jt.ce&&jt.ce._injectChildStyle(ne);const Pe=I.subTree=Rf(I);v(null,Pe,x,C,I,P,T),B.el=Pe.el}if(Tt&&Ne(Tt,P),!ke&&(K=st&&st.onVnodeMounted)){const Pe=B;Ne(()=>on(K,Pt,Pe),P)}(B.shapeFlag&256||Pt&&ni(Pt.vnode)&&Pt.vnode.shapeFlag&256)&&I.a&&Ne(I.a,P),I.isMounted=!0,B=x=C=null}};I.scope.on();const U=I.effect=new np(X);I.scope.off();const W=I.update=U.run.bind(U),Q=I.job=U.runIfDirty.bind(U);Q.i=I,Q.id=I.uid,U.scheduler=()=>fc(Q),vr(I,!0),W()},L=(I,B,x)=>{B.component=I;const C=I.vnode.props;I.vnode=B,I.next=null,$1(I,B.props,C,x),R1(I,B.children,x),kn(),Sf(I),Bn()},k=(I,B,x,C,P,T,H,X,U=!1)=>{const W=I&&I.children,Q=I?I.shapeFlag:0,K=B.children,{patchFlag:nt,shapeFlag:st}=B;if(nt>0){if(nt&128){V(W,K,x,C,P,T,H,X,U);return}else if(nt&256){z(W,K,x,C,P,T,H,X,U);return}}st&8?(Q&16&&tt(W,P,T),K!==W&&c(x,K)):Q&16?st&16?V(W,K,x,C,P,T,H,X,U):tt(W,P,T,!0):(Q&8&&c(x,""),st&16&&A(K,x,C,P,T,H,X,U))},z=(I,B,x,C,P,T,H,X,U)=>{I=I||Jr,B=B||Jr;const W=I.length,Q=B.length,K=Math.min(W,Q);let nt;for(nt=0;nt<K;nt++){const st=B[nt]=U?Jn(B[nt]):ln(B[nt]);v(I[nt],st,x,null,P,T,H,X,U)}W>Q?tt(I,P,T,!0,!1,K):A(B,x,C,P,T,H,X,U,K)},V=(I,B,x,C,P,T,H,X,U)=>{let W=0;const Q=B.length;let K=I.length-1,nt=Q-1;for(;W<=K&&W<=nt;){const st=I[W],mt=B[W]=U?Jn(B[W]):ln(B[W]);if(_r(st,mt))v(st,mt,x,null,P,T,H,X,U);else break;W++}for(;W<=K&&W<=nt;){const st=I[K],mt=B[nt]=U?Jn(B[nt]):ln(B[nt]);if(_r(st,mt))v(st,mt,x,null,P,T,H,X,U);else break;K--,nt--}if(W>K){if(W<=nt){const st=nt+1,mt=st<Q?B[st].el:C;for(;W<=nt;)v(null,B[W]=U?Jn(B[W]):ln(B[W]),x,mt,P,T,H,X,U),W++}}else if(W>nt)for(;W<=K;)j(I[W],P,T,!0),W++;else{const st=W,mt=W,Tt=new Map;for(W=mt;W<=nt;W++){const ge=B[W]=U?Jn(B[W]):ln(B[W]);ge.key!=null&&Tt.set(ge.key,W)}let Pt,jt=0;const ne=nt-mt+1;let ke=!1,Pe=0;const Yn=new Array(ne);for(W=0;W<ne;W++)Yn[W]=0;for(W=st;W<=K;W++){const ge=I[W];if(jt>=ne){j(ge,P,T,!0);continue}let Be;if(ge.key!=null)Be=Tt.get(ge.key);else for(Pt=mt;Pt<=nt;Pt++)if(Yn[Pt-mt]===0&&_r(ge,B[Pt])){Be=Pt;break}Be===void 0?j(ge,P,T,!0):(Yn[Be-mt]=W+1,Be>=Pe?Pe=Be:ke=!0,v(ge,B[Be],x,null,P,T,H,X,U),jt++)}const ko=ke?k1(Yn):Jr;for(Pt=ko.length-1,W=ne-1;W>=0;W--){const ge=mt+W,Be=B[ge],Vr=ge+1<Q?B[ge+1].el:C;Yn[W]===0?v(null,Be,x,Vr,P,T,H,X,U):ke&&(Pt<0||W!==ko[Pt]?Y(Be,x,Vr,2):Pt--)}}},Y=(I,B,x,C,P=null)=>{const{el:T,type:H,transition:X,children:U,shapeFlag:W}=I;if(W&6){Y(I.component.subTree,B,x,C);return}if(W&128){I.suspense.move(B,x,C);return}if(W&64){H.move(I,B,x,dt);return}if(H===Gt){r(T,B,x);for(let K=0;K<U.length;K++)Y(U[K],B,x,C);r(I.anchor,B,x);return}if(H===cl){_(I,B,x);return}if(C!==2&&W&1&&X)if(C===0)X.beforeEnter(T),r(T,B,x),Ne(()=>X.enter(T),P);else{const{leave:K,delayLeave:nt,afterLeave:st}=X,mt=()=>{I.ctx.isUnmounted?i(T):r(T,B,x)},Tt=()=>{K(T,()=>{mt(),st&&st()})};nt?nt(T,mt,Tt):Tt()}else r(T,B,x)},j=(I,B,x,C=!1,P=!1)=>{const{type:T,props:H,ref:X,children:U,dynamicChildren:W,shapeFlag:Q,patchFlag:K,dirs:nt,cacheIndex:st}=I;if(K===-2&&(P=!1),X!=null&&(kn(),Ra(X,null,x,I,!0),Bn()),st!=null&&(B.renderCache[st]=void 0),Q&256){B.ctx.deactivate(I);return}const mt=Q&1&&nt,Tt=!ni(I);let Pt;if(Tt&&(Pt=H&&H.onVnodeBeforeUnmount)&&on(Pt,B,I),Q&6)J(I.component,x,C);else{if(Q&128){I.suspense.unmount(x,C);return}mt&&pr(I,null,B,"beforeUnmount"),Q&64?I.type.remove(I,B,x,dt,C):W&&!W.hasOnce&&(T!==Gt||K>0&&K&64)?tt(W,B,x,!1,!0):(T===Gt&&K&384||!P&&Q&16)&&tt(U,B,x),C&&rt(I)}(Tt&&(Pt=H&&H.onVnodeUnmounted)||mt)&&Ne(()=>{Pt&&on(Pt,B,I),mt&&pr(I,null,B,"unmounted")},x)},rt=I=>{const{type:B,el:x,anchor:C,transition:P}=I;if(B===Gt){Z(x,C);return}if(B===cl){w(I);return}const T=()=>{i(x),P&&!P.persisted&&P.afterLeave&&P.afterLeave()};if(I.shapeFlag&1&&P&&!P.persisted){const{leave:H,delayLeave:X}=P,U=()=>H(x,T);X?X(I.el,T,U):U()}else T()},Z=(I,B)=>{let x;for(;I!==B;)x=d(I),i(I),I=x;i(B)},J=(I,B,x)=>{const{bum:C,scope:P,job:T,subTree:H,um:X,m:U,a:W,parent:Q,slots:{__:K}}=I;Nf(U),Nf(W),C&&ca(C),Q&&gt(K)&&K.forEach(nt=>{Q.renderCache[nt]=void 0}),P.stop(),T&&(T.flags|=8,j(H,I,B,x)),X&&Ne(X,B),Ne(()=>{I.isUnmounted=!0},B),B&&B.pendingBranch&&!B.isUnmounted&&I.asyncDep&&!I.asyncResolved&&I.suspenseId===B.pendingId&&(B.deps--,B.deps===0&&B.resolve())},tt=(I,B,x,C=!1,P=!1,T=0)=>{for(let H=T;H<I.length;H++)j(I[H],B,x,C,P)},it=I=>{if(I.shapeFlag&6)return it(I.component.subTree);if(I.shapeFlag&128)return I.suspense.next();const B=d(I.anchor||I.el),x=B&&B[o1];return x?d(x):B};let at=!1;const ot=(I,B,x)=>{I==null?B._vnode&&j(B._vnode,null,null,!0):v(B._vnode||null,I,B,null,null,null,x),B._vnode=I,at||(at=!0,Sf(),wp(),at=!1)},dt={p:v,um:j,m:Y,r:rt,mt:y,mc:A,pc:k,pbc:N,n:it,o:t};return{render:ot,hydrate:void 0,createApp:M1(ot)}}function ul({type:t,props:e},n){return n==="svg"&&t==="foreignObject"||n==="mathml"&&t==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:n}function vr({effect:t,job:e},n){n?(t.flags|=32,e.flags|=4):(t.flags&=-33,e.flags&=-5)}function A1(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function Zp(t,e,n=!1){const r=t.children,i=e.children;if(gt(r)&&gt(i))for(let o=0;o<r.length;o++){const a=r[o];let s=i[o];s.shapeFlag&1&&!s.dynamicChildren&&((s.patchFlag<=0||s.patchFlag===32)&&(s=i[o]=Jn(i[o]),s.el=a.el),!n&&s.patchFlag!==-2&&Zp(a,s)),s.type===Ss&&(s.el=a.el),s.type===fe&&!s.el&&(s.el=a.el)}}function k1(t){const e=t.slice(),n=[0];let r,i,o,a,s;const l=t.length;for(r=0;r<l;r++){const u=t[r];if(u!==0){if(i=n[n.length-1],t[i]<u){e[r]=i,n.push(r);continue}for(o=0,a=n.length-1;o<a;)s=o+a>>1,t[n[s]]<u?o=s+1:a=s;u<t[n[o]]&&(o>0&&(e[r]=n[o-1]),n[o]=r)}}for(o=n.length,a=n[o-1];o-- >0;)n[o]=a,a=e[a];return n}function Jp(t){const e=t.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:Jp(e)}function Nf(t){if(t)for(let e=0;e<t.length;e++)t[e].flags|=8}const B1=Symbol.for("v-scx"),z1=()=>Je(B1);function F1(t,e){return mc(t,null,e)}function Rt(t,e,n){return mc(t,e,n)}function mc(t,e,n=At){const{immediate:r,deep:i,flush:o,once:a}=n,s=ie({},n),l=e&&r||!e&&o!=="post";let u;if(ro){if(o==="sync"){const h=z1();u=h.__watcherHandles||(h.__watcherHandles=[])}else if(!l){const h=()=>{};return h.stop=dn,h.resume=dn,h.pause=dn,h}}const c=se;s.call=(h,p,v)=>Qe(h,c,p,v);let f=!1;o==="post"?s.scheduler=h=>{Ne(h,c&&c.suspense)}:o!=="sync"&&(f=!0,s.scheduler=(h,p)=>{p?h():fc(h)}),s.augmentJob=h=>{e&&(h.flags|=4),f&&(h.flags|=2,c&&(h.id=c.uid,h.i=c))};const d=t1(t,e,s);return ro&&(u?u.push(d):l&&d()),d}function G1(t,e,n){const r=this.proxy,i=Xt(t)?t.includes(".")?Qp(r,t):()=>r[t]:t.bind(r,r);let o;yt(e)?o=e:(o=e.handler,n=e);const a=So(this),s=mc(i,o.bind(r),n);return a(),s}function Qp(t,e){const n=e.split(".");return()=>{let r=t;for(let i=0;i<n.length&&r;i++)r=r[n[i]];return r}}const L1=(t,e)=>e==="modelValue"||e==="model-value"?t.modelModifiers:t[`${e}Modifiers`]||t[`${Ve(e)}Modifiers`]||t[`${Br(e)}Modifiers`];function V1(t,e,...n){if(t.isUnmounted)return;const r=t.vnode.props||At;let i=n;const o=e.startsWith("update:"),a=o&&L1(r,e.slice(7));a&&(a.trim&&(i=n.map(c=>Xt(c)?c.trim():c)),a.number&&(i=n.map(Yl)));let s,l=r[s=nl(e)]||r[s=nl(Ve(e))];!l&&o&&(l=r[s=nl(Br(e))]),l&&Qe(l,t,6,i);const u=r[s+"Once"];if(u){if(!t.emitted)t.emitted={};else if(t.emitted[s])return;t.emitted[s]=!0,Qe(u,t,6,i)}}function tv(t,e,n=!1){const r=e.emitsCache,i=r.get(t);if(i!==void 0)return i;const o=t.emits;let a={},s=!1;if(!yt(t)){const l=u=>{const c=tv(u,e,!0);c&&(s=!0,ie(a,c))};!n&&e.mixins.length&&e.mixins.forEach(l),t.extends&&l(t.extends),t.mixins&&t.mixins.forEach(l)}return!o&&!s?(Lt(t)&&r.set(t,null),null):(gt(o)?o.forEach(l=>a[l]=null):ie(a,o),Lt(t)&&r.set(t,a),a)}function xs(t,e){return!t||!us(e)?!1:(e=e.slice(2).replace(/Once$/,""),Ot(t,e[0].toLowerCase()+e.slice(1))||Ot(t,Br(e))||Ot(t,e))}function Rf(t){const{type:e,vnode:n,proxy:r,withProxy:i,propsOptions:[o],slots:a,attrs:s,emit:l,render:u,renderCache:c,props:f,data:d,setupState:h,ctx:p,inheritAttrs:v}=t,m=Na(t);let g,b;try{if(n.shapeFlag&4){const w=i||r,D=w;g=ln(u.call(D,w,c,f,h,d,p)),b=s}else{const w=e;g=ln(w.length>1?w(f,{attrs:s,slots:a,emit:l}):w(f,null)),b=e.props?s:H1(s)}}catch(w){Xi.length=0,ms(w,t,1),g=_t(fe)}let _=g;if(b&&v!==!1){const w=Object.keys(b),{shapeFlag:D}=_;w.length&&D&7&&(o&&w.some(tc)&&(b=Y1(b,o)),_=sr(_,b,!1,!0))}return n.dirs&&(_=sr(_,null,!1,!0),_.dirs=_.dirs?_.dirs.concat(n.dirs):n.dirs),n.transition&&eo(_,n.transition),g=_,Na(m),g}const H1=t=>{let e;for(const n in t)(n==="class"||n==="style"||us(n))&&((e||(e={}))[n]=t[n]);return e},Y1=(t,e)=>{const n={};for(const r in t)(!tc(r)||!(r.slice(9)in e))&&(n[r]=t[r]);return n};function X1(t,e,n){const{props:r,children:i,component:o}=t,{props:a,children:s,patchFlag:l}=e,u=o.emitsOptions;if(e.dirs||e.transition)return!0;if(n&&l>=0){if(l&1024)return!0;if(l&16)return r?Of(r,a,u):!!a;if(l&8){const c=e.dynamicProps;for(let f=0;f<c.length;f++){const d=c[f];if(a[d]!==r[d]&&!xs(u,d))return!0}}}else return(i||s)&&(!s||!s.$stable)?!0:r===a?!1:r?a?Of(r,a,u):!0:!!a;return!1}function Of(t,e,n){const r=Object.keys(e);if(r.length!==Object.keys(t).length)return!0;for(let i=0;i<r.length;i++){const o=r[i];if(e[o]!==t[o]&&!xs(n,o))return!0}return!1}function W1({vnode:t,parent:e},n){for(;e;){const r=e.subTree;if(r.suspense&&r.suspense.activeBranch===t&&(r.el=t.el),r===t)(t=e.vnode).el=n,e=e.parent;else break}}const ev=t=>t.__isSuspense;function U1(t,e){e&&e.pendingBranch?gt(t)?e.effects.push(...t):e.effects.push(t):r1(t)}const Gt=Symbol.for("v-fgt"),Ss=Symbol.for("v-txt"),fe=Symbol.for("v-cmt"),cl=Symbol.for("v-stc"),Xi=[];let xe=null;function ht(t=!1){Xi.push(xe=t?null:[])}function q1(){Xi.pop(),xe=Xi[Xi.length-1]||null}let ui=1;function If(t,e=!1){ui+=t,t<0&&xe&&e&&(xe.hasOnce=!0)}function nv(t){return t.dynamicChildren=ui>0?xe||Jr:null,q1(),ui>0&&xe&&xe.push(t),t}function Ct(t,e,n,r,i,o){return nv(pt(t,e,n,r,i,o,!0))}function le(t,e,n,r,i){return nv(_t(t,e,n,r,i,!0))}function no(t){return t?t.__v_isVNode===!0:!1}function _r(t,e){return t.type===e.type&&t.key===e.key}const rv=({key:t})=>t??null,da=({ref:t,ref_key:e,ref_for:n})=>(typeof t=="number"&&(t=""+t),t!=null?Xt(t)||qt(t)||yt(t)?{i:re,r:t,k:e,f:!!n}:t:null);function pt(t,e=null,n=null,r=0,i=null,o=t===Gt?0:1,a=!1,s=!1){const l={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&rv(e),ref:e&&da(e),scopeId:Sp,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:o,patchFlag:r,dynamicProps:i,dynamicChildren:null,appContext:null,ctx:re};return s?(_c(l,n),o&128&&t.normalize(l)):n&&(l.shapeFlag|=Xt(n)?8:16),ui>0&&!a&&xe&&(l.patchFlag>0||o&6)&&l.patchFlag!==32&&xe.push(l),l}const _t=j1;function j1(t,e=null,n=null,r=0,i=null,o=!1){if((!t||t===Ip)&&(t=fe),no(t)){const s=sr(t,e,!0);return n&&_c(s,n),ui>0&&!o&&xe&&(s.shapeFlag&6?xe[xe.indexOf(t)]=s:xe.push(s)),s.patchFlag=-2,s}if(ry(t)&&(t=t.__vccOpts),e){e=Ni(e);let{class:s,style:l}=e;s&&!Xt(s)&&(e.class=He(s)),Lt(l)&&(cc(l)&&!gt(l)&&(l=ie({},l)),e.style=pe(l))}const a=Xt(t)?1:ev(t)?128:Ep(t)?64:Lt(t)?4:yt(t)?2:0;return pt(t,e,n,r,i,a,o,!0)}function Ni(t){return t?cc(t)||Xp(t)?ie({},t):t:null}function sr(t,e,n=!1,r=!1){const{props:i,ref:o,patchFlag:a,children:s,transition:l}=t,u=e?ci(i||{},e):i,c={__v_isVNode:!0,__v_skip:!0,type:t.type,props:u,key:u&&rv(u),ref:e&&e.ref?n&&o?gt(o)?o.concat(da(e)):[o,da(e)]:da(e):o,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:s,target:t.target,targetStart:t.targetStart,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==Gt?a===-1?16:a|16:a,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:l,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&sr(t.ssContent),ssFallback:t.ssFallback&&sr(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce};return l&&r&&eo(c,l.clone(c)),c}function yc(t=" ",e=0){return _t(Ss,null,t,e)}function he(t="",e=!1){return e?(ht(),le(fe,null,t)):_t(fe,null,t)}function ln(t){return t==null||typeof t=="boolean"?_t(fe):gt(t)?_t(Gt,null,t.slice()):no(t)?Jn(t):_t(Ss,null,String(t))}function Jn(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:sr(t)}function _c(t,e){let n=0;const{shapeFlag:r}=t;if(e==null)e=null;else if(gt(e))n=16;else if(typeof e=="object")if(r&65){const i=e.default;i&&(i._c&&(i._d=!1),_c(t,i()),i._c&&(i._d=!0));return}else{n=32;const i=e._;!i&&!Xp(e)?e._ctx=re:i===3&&re&&(re.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else yt(e)?(e={default:e,_ctx:re},n=32):(e=String(e),r&64?(n=16,e=[yc(e)]):n=8);t.children=e,t.shapeFlag|=n}function ci(...t){const e={};for(let n=0;n<t.length;n++){const r=t[n];for(const i in r)if(i==="class")e.class!==r.class&&(e.class=He([e.class,r.class]));else if(i==="style")e.style=pe([e.style,r.style]);else if(us(i)){const o=e[i],a=r[i];a&&o!==a&&!(gt(o)&&o.includes(a))&&(e[i]=o?[].concat(o,a):a)}else i!==""&&(e[i]=r[i])}return e}function on(t,e,n,r=null){Qe(t,e,7,[n,r])}const K1=Vp();let Z1=0;function J1(t,e,n){const r=t.type,i=(e?e.appContext:t.appContext)||K1,o={uid:Z1++,vnode:t,type:r,parent:e,appContext:i,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new tp(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(i.provides),ids:e?e.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Up(r,i),emitsOptions:tv(r,i),emit:null,emitted:null,propsDefaults:At,inheritAttrs:r.inheritAttrs,ctx:At,data:At,props:At,attrs:At,slots:At,refs:At,setupState:At,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return o.ctx={_:o},o.root=e?e.root:o,o.emit=V1.bind(null,o),t.ce&&t.ce(o),o}let se=null;const zr=()=>se||re;let Ia,Ql;{const t=hs(),e=(n,r)=>{let i;return(i=t[n])||(i=t[n]=[]),i.push(r),o=>{i.length>1?i.forEach(a=>a(o)):i[0](o)}};Ia=e("__VUE_INSTANCE_SETTERS__",n=>se=n),Ql=e("__VUE_SSR_SETTERS__",n=>ro=n)}const So=t=>{const e=se;return Ia(t),t.scope.on(),()=>{t.scope.off(),Ia(e)}},Af=()=>{se&&se.scope.off(),Ia(null)};function iv(t){return t.vnode.shapeFlag&4}let ro=!1;function Q1(t,e=!1,n=!1){e&&Ql(e);const{props:r,children:i}=t.vnode,o=iv(t);D1(t,r,o,e),N1(t,i,n||e);const a=o?ty(t,e):void 0;return e&&Ql(!1),a}function ty(t,e){const n=t.type;t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,y1);const{setup:r}=n;if(r){kn();const i=t.setupContext=r.length>1?av(t):null,o=So(t),a=xo(r,t,0,[t.props,i]),s=Uh(a);if(Bn(),o(),(s||t.sp)&&!ni(t)&&Pp(t),s){if(a.then(Af,Af),e)return a.then(l=>{kf(t,l)}).catch(l=>{ms(l,t,0)});t.asyncDep=a}else kf(t,a)}else ov(t)}function kf(t,e,n){yt(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:Lt(e)&&(t.setupState=mp(e)),ov(t)}function ov(t,e,n){const r=t.type;t.render||(t.render=r.render||dn);{const i=So(t);kn();try{b1(t)}finally{Bn(),i()}}}const ey={get(t,e){return ce(t,"get",""),t[e]}};function av(t){const e=n=>{t.exposed=n||{}};return{attrs:new Proxy(t.attrs,ey),slots:t.slots,emit:t.emit,expose:e}}function Es(t){return t.exposed?t.exposeProxy||(t.exposeProxy=new Proxy(mp(fn(t.exposed)),{get(e,n){if(n in e)return e[n];if(n in Yi)return Yi[n](t)},has(e,n){return n in e||n in Yi}})):t.proxy}function ny(t,e=!0){return yt(t)?t.displayName||t.name:t.name||e&&t.__name}function ry(t){return yt(t)&&"__vccOpts"in t}const vt=(t,e)=>Jm(t,e,ro);function It(t,e,n){const r=arguments.length;return r===2?Lt(e)&&!gt(e)?no(e)?_t(t,null,[e]):_t(t,e):_t(t,null,e):(r>3?n=Array.prototype.slice.call(arguments,2):r===3&&no(n)&&(n=[n]),_t(t,e,n))}function iy(t,e){const n=t.memo;if(n.length!=e.length)return!1;for(let r=0;r<n.length;r++)if(In(n[r],e[r]))return!1;return ui>0&&xe&&xe.push(t),!0}const oy="3.5.15";/**
* @vue/runtime-dom v3.5.15
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let tu;const Bf=typeof window<"u"&&window.trustedTypes;if(Bf)try{tu=Bf.createPolicy("vue",{createHTML:t=>t})}catch{}const sv=tu?t=>tu.createHTML(t):t=>t,ay="http://www.w3.org/2000/svg",sy="http://www.w3.org/1998/Math/MathML",Dn=typeof document<"u"?document:null,zf=Dn&&Dn.createElement("template"),ly={insert:(t,e,n)=>{e.insertBefore(t,n||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,n,r)=>{const i=e==="svg"?Dn.createElementNS(ay,t):e==="mathml"?Dn.createElementNS(sy,t):n?Dn.createElement(t,{is:n}):Dn.createElement(t);return t==="select"&&r&&r.multiple!=null&&i.setAttribute("multiple",r.multiple),i},createText:t=>Dn.createTextNode(t),createComment:t=>Dn.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>Dn.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,n,r,i,o){const a=n?n.previousSibling:e.lastChild;if(i&&(i===o||i.nextSibling))for(;e.insertBefore(i.cloneNode(!0),n),!(i===o||!(i=i.nextSibling)););else{zf.innerHTML=sv(r==="svg"?`<svg>${t}</svg>`:r==="mathml"?`<math>${t}</math>`:t);const s=zf.content;if(r==="svg"||r==="mathml"){const l=s.firstChild;for(;l.firstChild;)s.appendChild(l.firstChild);s.removeChild(l)}e.insertBefore(s,n)}return[a?a.nextSibling:e.firstChild,n?n.previousSibling:e.lastChild]}},Xn="transition",Ei="animation",io=Symbol("_vtc"),lv={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},uy=ie({},Cp,lv),cy=t=>(t.displayName="Transition",t.props=uy,t),fy=cy((t,{slots:e})=>It(l1,dy(t),e)),gr=(t,e=[])=>{gt(t)?t.forEach(n=>n(...e)):t&&t(...e)},Ff=t=>t?gt(t)?t.some(e=>e.length>1):t.length>1:!1;function dy(t){const e={};for(const S in t)S in lv||(e[S]=t[S]);if(t.css===!1)return e;const{name:n="v",type:r,duration:i,enterFromClass:o=`${n}-enter-from`,enterActiveClass:a=`${n}-enter-active`,enterToClass:s=`${n}-enter-to`,appearFromClass:l=o,appearActiveClass:u=a,appearToClass:c=s,leaveFromClass:f=`${n}-leave-from`,leaveActiveClass:d=`${n}-leave-active`,leaveToClass:h=`${n}-leave-to`}=t,p=hy(i),v=p&&p[0],m=p&&p[1],{onBeforeEnter:g,onEnter:b,onEnterCancelled:_,onLeave:w,onLeaveCancelled:D,onBeforeAppear:$=g,onAppear:E=b,onAppearCancelled:A=_}=e,O=(S,G,y,R)=>{S._enterCancelled=R,mr(S,G?c:s),mr(S,G?u:a),y&&y()},N=(S,G)=>{S._isLeaving=!1,mr(S,f),mr(S,h),mr(S,d),G&&G()},F=S=>(G,y)=>{const R=S?E:b,M=()=>O(G,S,y);gr(R,[G,M]),Gf(()=>{mr(G,S?l:o),En(G,S?c:s),Ff(R)||Lf(G,r,v,M)})};return ie(e,{onBeforeEnter(S){gr(g,[S]),En(S,o),En(S,a)},onBeforeAppear(S){gr($,[S]),En(S,l),En(S,u)},onEnter:F(!1),onAppear:F(!0),onLeave(S,G){S._isLeaving=!0;const y=()=>N(S,G);En(S,f),S._enterCancelled?(En(S,d),Yf()):(Yf(),En(S,d)),Gf(()=>{S._isLeaving&&(mr(S,f),En(S,h),Ff(w)||Lf(S,r,m,y))}),gr(w,[S,y])},onEnterCancelled(S){O(S,!1,void 0,!0),gr(_,[S])},onAppearCancelled(S){O(S,!0,void 0,!0),gr(A,[S])},onLeaveCancelled(S){N(S),gr(D,[S])}})}function hy(t){if(t==null)return null;if(Lt(t))return[fl(t.enter),fl(t.leave)];{const e=fl(t);return[e,e]}}function fl(t){return mm(t)}function En(t,e){e.split(/\s+/).forEach(n=>n&&t.classList.add(n)),(t[io]||(t[io]=new Set)).add(e)}function mr(t,e){e.split(/\s+/).forEach(r=>r&&t.classList.remove(r));const n=t[io];n&&(n.delete(e),n.size||(t[io]=void 0))}function Gf(t){requestAnimationFrame(()=>{requestAnimationFrame(t)})}let py=0;function Lf(t,e,n,r){const i=t._endId=++py,o=()=>{i===t._endId&&r()};if(n!=null)return setTimeout(o,n);const{type:a,timeout:s,propCount:l}=vy(t,e);if(!a)return r();const u=a+"end";let c=0;const f=()=>{t.removeEventListener(u,d),o()},d=h=>{h.target===t&&++c>=l&&f()};setTimeout(()=>{c<l&&f()},s+1),t.addEventListener(u,d)}function vy(t,e){const n=window.getComputedStyle(t),r=p=>(n[p]||"").split(", "),i=r(`${Xn}Delay`),o=r(`${Xn}Duration`),a=Vf(i,o),s=r(`${Ei}Delay`),l=r(`${Ei}Duration`),u=Vf(s,l);let c=null,f=0,d=0;e===Xn?a>0&&(c=Xn,f=a,d=o.length):e===Ei?u>0&&(c=Ei,f=u,d=l.length):(f=Math.max(a,u),c=f>0?a>u?Xn:Ei:null,d=c?c===Xn?o.length:l.length:0);const h=c===Xn&&/\b(transform|all)(,|$)/.test(r(`${Xn}Property`).toString());return{type:c,timeout:f,propCount:d,hasTransform:h}}function Vf(t,e){for(;t.length<e.length;)t=t.concat(t);return Math.max(...e.map((n,r)=>Hf(n)+Hf(t[r])))}function Hf(t){return t==="auto"?0:Number(t.slice(0,-1).replace(",","."))*1e3}function Yf(){return document.body.offsetHeight}function gy(t,e,n){const r=t[io];r&&(e=(e?[e,...r]:[...r]).join(" ")),e==null?t.removeAttribute("class"):n?t.setAttribute("class",e):t.className=e}const Xf=Symbol("_vod"),my=Symbol("_vsh"),yy=Symbol(""),_y=/(^|;)\s*display\s*:/;function by(t,e,n){const r=t.style,i=Xt(n);let o=!1;if(n&&!i){if(e)if(Xt(e))for(const a of e.split(";")){const s=a.slice(0,a.indexOf(":")).trim();n[s]==null&&ha(r,s,"")}else for(const a in e)n[a]==null&&ha(r,a,"");for(const a in n)a==="display"&&(o=!0),ha(r,a,n[a])}else if(i){if(e!==n){const a=r[yy];a&&(n+=";"+a),r.cssText=n,o=_y.test(n)}}else e&&t.removeAttribute("style");Xf in t&&(t[Xf]=o?r.display:"",t[my]&&(r.display="none"))}const Wf=/\s*!important$/;function ha(t,e,n){if(gt(n))n.forEach(r=>ha(t,e,r));else if(n==null&&(n=""),e.startsWith("--"))t.setProperty(e,n);else{const r=wy(t,e);Wf.test(n)?t.setProperty(Br(r),n.replace(Wf,""),"important"):t[r]=n}}const Uf=["Webkit","Moz","ms"],dl={};function wy(t,e){const n=dl[e];if(n)return n;let r=Ve(e);if(r!=="filter"&&r in t)return dl[e]=r;r=ds(r);for(let i=0;i<Uf.length;i++){const o=Uf[i]+r;if(o in t)return dl[e]=o}return e}const qf="http://www.w3.org/1999/xlink";function jf(t,e,n,r,i,o=Sm(e)){r&&e.startsWith("xlink:")?n==null?t.removeAttributeNS(qf,e.slice(6,e.length)):t.setAttributeNS(qf,e,n):n==null||o&&!Zh(n)?t.removeAttribute(e):t.setAttribute(e,o?"":Vn(n)?String(n):n)}function Kf(t,e,n,r,i){if(e==="innerHTML"||e==="textContent"){n!=null&&(t[e]=e==="innerHTML"?sv(n):n);return}const o=t.tagName;if(e==="value"&&o!=="PROGRESS"&&!o.includes("-")){const s=o==="OPTION"?t.getAttribute("value")||"":t.value,l=n==null?t.type==="checkbox"?"on":"":String(n);(s!==l||!("_value"in t))&&(t.value=l),n==null&&t.removeAttribute(e),t._value=n;return}let a=!1;if(n===""||n==null){const s=typeof t[e];s==="boolean"?n=Zh(n):n==null&&s==="string"?(n="",a=!0):s==="number"&&(n=0,a=!0)}try{t[e]=n}catch{}a&&t.removeAttribute(i||e)}function Ur(t,e,n,r){t.addEventListener(e,n,r)}function xy(t,e,n,r){t.removeEventListener(e,n,r)}const Zf=Symbol("_vei");function Sy(t,e,n,r,i=null){const o=t[Zf]||(t[Zf]={}),a=o[e];if(r&&a)a.value=r;else{const[s,l]=Ey(e);if(r){const u=o[e]=Dy(r,i);Ur(t,s,u,l)}else a&&(xy(t,s,a,l),o[e]=void 0)}}const Jf=/(?:Once|Passive|Capture)$/;function Ey(t){let e;if(Jf.test(t)){e={};let r;for(;r=t.match(Jf);)t=t.slice(0,t.length-r[0].length),e[r[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):Br(t.slice(2)),e]}let hl=0;const Cy=Promise.resolve(),My=()=>hl||(Cy.then(()=>hl=0),hl=Date.now());function Dy(t,e){const n=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=n.attached)return;Qe($y(r,n.value),e,5,[r])};return n.value=t,n.attached=My(),n}function $y(t,e){if(gt(e)){const n=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{n.call(t),t._stopped=!0},e.map(r=>i=>!i._stopped&&r&&r(i))}else return e}const Qf=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,Ty=(t,e,n,r,i,o)=>{const a=i==="svg";e==="class"?gy(t,r,a):e==="style"?by(t,n,r):us(e)?tc(e)||Sy(t,e,n,r,o):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):Py(t,e,r,a))?(Kf(t,e,r),!t.tagName.includes("-")&&(e==="value"||e==="checked"||e==="selected")&&jf(t,e,r,a,o,e!=="value")):t._isVueCE&&(/[A-Z]/.test(e)||!Xt(r))?Kf(t,Ve(e),r,o,e):(e==="true-value"?t._trueValue=r:e==="false-value"&&(t._falseValue=r),jf(t,e,r,a))};function Py(t,e,n,r){if(r)return!!(e==="innerHTML"||e==="textContent"||e in t&&Qf(e)&&yt(n));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="autocorrect"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const i=t.tagName;if(i==="IMG"||i==="VIDEO"||i==="CANVAS"||i==="SOURCE")return!1}return Qf(e)&&Xt(n)?!1:e in t}const td=t=>{const e=t.props["onUpdate:modelValue"]||!1;return gt(e)?n=>ca(e,n):e};function Ny(t){t.target.composing=!0}function ed(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const pl=Symbol("_assign"),Ry={created(t,{modifiers:{lazy:e,trim:n,number:r}},i){t[pl]=td(i);const o=r||i.props&&i.props.type==="number";Ur(t,e?"change":"input",a=>{if(a.target.composing)return;let s=t.value;n&&(s=s.trim()),o&&(s=Yl(s)),t[pl](s)}),n&&Ur(t,"change",()=>{t.value=t.value.trim()}),e||(Ur(t,"compositionstart",Ny),Ur(t,"compositionend",ed),Ur(t,"change",ed))},mounted(t,{value:e}){t.value=e??""},beforeUpdate(t,{value:e,oldValue:n,modifiers:{lazy:r,trim:i,number:o}},a){if(t[pl]=td(a),t.composing)return;const s=(o||t.type==="number")&&!/^0\d/.test(t.value)?Yl(t.value):t.value,l=e??"";s!==l&&(document.activeElement===t&&t.type!=="range"&&(r&&e===n||i&&t.value.trim()===l)||(t.value=l))}},Oy=ie({patchProp:Ty},ly);let nd;function Iy(){return nd||(nd=O1(Oy))}const Ay=(...t)=>{const e=Iy().createApp(...t),{mount:n}=e;return e.mount=r=>{const i=By(r);if(!i)return;const o=e._component;!yt(o)&&!o.render&&!o.template&&(o.template=i.innerHTML),i.nodeType===1&&(i.textContent="");const a=n(i,!1,ky(i));return i instanceof Element&&(i.removeAttribute("v-cloak"),i.setAttribute("data-v-app","")),a},e};function ky(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function By(t){return Xt(t)?document.querySelector(t):t}function Cs(t){return rc()?(fa(t),!0):!1}function Pn(t){return typeof t=="function"?t():et(t)}const zy=typeof window<"u"&&typeof document<"u",Fy=t=>typeof t<"u",Gy=Object.prototype.toString,Ly=t=>Gy.call(t)==="[object Object]",Vy=()=>{};function Hy(t,e){function n(...r){return new Promise((i,o)=>{Promise.resolve(t(()=>e.apply(this,r),{fn:e,thisArg:this,args:r})).then(i).catch(o)})}return n}const uv=t=>t();function Yy(t=uv){const e=bt(!0);function n(){e.value=!1}function r(){e.value=!0}const i=(...o)=>{e.value&&t(...o)};return{isActive:lc(e),pause:n,resume:r,eventFilter:i}}function rd(t,e=!1,n="Timeout"){return new Promise((r,i)=>{setTimeout(e?()=>i(n):r,t)})}function Xy(t,e,n={}){const{eventFilter:r=uv,...i}=n;return Rt(t,Hy(r,e),i)}function Yr(t,e,n={}){const{eventFilter:r,...i}=n,{eventFilter:o,pause:a,resume:s,isActive:l}=Yy(r);return{stop:Xy(t,e,{...i,eventFilter:o}),pause:a,resume:s,isActive:l}}function Wy(t,e={}){if(!qt(t))return qm(t);const n=Array.isArray(t.value)?Array.from({length:t.value.length}):{};for(const r in t.value)n[r]=Um(()=>({get(){return t.value[r]},set(i){var o;if((o=Pn(e.replaceRef))!=null?o:!0)if(Array.isArray(t.value)){const s=[...t.value];s[r]=i,t.value=s}else{const s={...t.value,[r]:i};Object.setPrototypeOf(s,Object.getPrototypeOf(t.value)),t.value=s}else t.value[r]=i}}));return n}function eu(t,e=!1){function n(f,{flush:d="sync",deep:h=!1,timeout:p,throwOnTimeout:v}={}){let m=null;const b=[new Promise(_=>{m=Rt(t,w=>{f(w)!==e&&(m==null||m(),_(w))},{flush:d,deep:h,immediate:!0})})];return p!=null&&b.push(rd(p,v).then(()=>Pn(t)).finally(()=>m==null?void 0:m())),Promise.race(b)}function r(f,d){if(!qt(f))return n(w=>w===f,d);const{flush:h="sync",deep:p=!1,timeout:v,throwOnTimeout:m}=d??{};let g=null;const _=[new Promise(w=>{g=Rt([t,f],([D,$])=>{e!==(D===$)&&(g==null||g(),w(D))},{flush:h,deep:p,immediate:!0})})];return v!=null&&_.push(rd(v,m).then(()=>Pn(t)).finally(()=>(g==null||g(),Pn(t)))),Promise.race(_)}function i(f){return n(d=>!!d,f)}function o(f){return r(null,f)}function a(f){return r(void 0,f)}function s(f){return n(Number.isNaN,f)}function l(f,d){return n(h=>{const p=Array.from(h);return p.includes(f)||p.includes(Pn(f))},d)}function u(f){return c(1,f)}function c(f=1,d){let h=-1;return n(()=>(h+=1,h>=f),d)}return Array.isArray(Pn(t))?{toMatch:n,toContains:l,changed:u,changedTimes:c,get not(){return eu(t,!e)}}:{toMatch:n,toBe:r,toBeTruthy:i,toBeNull:o,toBeNaN:s,toBeUndefined:a,changed:u,changedTimes:c,get not(){return eu(t,!e)}}}function nu(t){return eu(t)}function Uy(t){var e;const n=Pn(t);return(e=n==null?void 0:n.$el)!=null?e:n}const cv=zy?window:void 0;function fv(...t){let e,n,r,i;if(typeof t[0]=="string"||Array.isArray(t[0])?([n,r,i]=t,e=cv):[e,n,r,i]=t,!e)return Vy;Array.isArray(n)||(n=[n]),Array.isArray(r)||(r=[r]);const o=[],a=()=>{o.forEach(c=>c()),o.length=0},s=(c,f,d,h)=>(c.addEventListener(f,d,h),()=>c.removeEventListener(f,d,h)),l=Rt(()=>[Uy(e),Pn(i)],([c,f])=>{if(a(),!c)return;const d=Ly(f)?{...f}:f;o.push(...n.flatMap(h=>r.map(p=>s(c,h,p,d))))},{immediate:!0,flush:"post"}),u=()=>{l(),a()};return Cs(u),u}function qy(t){return typeof t=="function"?t:typeof t=="string"?e=>e.key===t:Array.isArray(t)?e=>t.includes(e.key):()=>!0}function id(...t){let e,n,r={};t.length===3?(e=t[0],n=t[1],r=t[2]):t.length===2?typeof t[1]=="object"?(e=!0,n=t[0],r=t[1]):(e=t[0],n=t[1]):(e=!0,n=t[0]);const{target:i=cv,eventName:o="keydown",passive:a=!1,dedupe:s=!1}=r,l=qy(e);return fv(i,o,c=>{c.repeat&&Pn(s)||l(c)&&n(c)},a)}function jy(t){return JSON.parse(JSON.stringify(t))}function vl(t,e,n,r={}){var i,o,a;const{clone:s=!1,passive:l=!1,eventName:u,deep:c=!1,defaultValue:f,shouldEmit:d}=r,h=zr(),p=n||(h==null?void 0:h.emit)||((i=h==null?void 0:h.$emit)==null?void 0:i.bind(h))||((a=(o=h==null?void 0:h.proxy)==null?void 0:o.$emit)==null?void 0:a.bind(h==null?void 0:h.proxy));let v=u;e||(e="modelValue"),v=v||`update:${e.toString()}`;const m=_=>s?typeof s=="function"?s(_):jy(_):_,g=()=>Fy(t[e])?m(t[e]):f,b=_=>{d?d(_)&&p(v,_):p(v,_)};if(l){const _=g(),w=bt(_);let D=!1;return Rt(()=>t[e],$=>{D||(D=!0,w.value=m($),Ze(()=>D=!1))}),Rt(w,$=>{!D&&($!==t[e]||c)&&b($)},{deep:c}),w}else return vt({get(){return g()},set(_){b(_)}})}var Ky={value:()=>{}};function Ms(){for(var t=0,e=arguments.length,n={},r;t<e;++t){if(!(r=arguments[t]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new pa(n)}function pa(t){this._=t}function Zy(t,e){return t.trim().split(/^|\s+/).map(function(n){var r="",i=n.indexOf(".");if(i>=0&&(r=n.slice(i+1),n=n.slice(0,i)),n&&!e.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}pa.prototype=Ms.prototype={constructor:pa,on:function(t,e){var n=this._,r=Zy(t+"",n),i,o=-1,a=r.length;if(arguments.length<2){for(;++o<a;)if((i=(t=r[o]).type)&&(i=Jy(n[i],t.name)))return i;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++o<a;)if(i=(t=r[o]).type)n[i]=od(n[i],t.name,e);else if(e==null)for(i in n)n[i]=od(n[i],t.name,null);return this},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new pa(t)},call:function(t,e){if((i=arguments.length-2)>0)for(var n=new Array(i),r=0,i,o;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(o=this._[t],r=0,i=o.length;r<i;++r)o[r].value.apply(e,n)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,o=r.length;i<o;++i)r[i].value.apply(e,n)}};function Jy(t,e){for(var n=0,r=t.length,i;n<r;++n)if((i=t[n]).name===e)return i.value}function od(t,e,n){for(var r=0,i=t.length;r<i;++r)if(t[r].name===e){t[r]=Ky,t=t.slice(0,r).concat(t.slice(r+1));break}return n!=null&&t.push({name:e,value:n}),t}var ru="http://www.w3.org/1999/xhtml";const ad={svg:"http://www.w3.org/2000/svg",xhtml:ru,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Ds(t){var e=t+="",n=e.indexOf(":");return n>=0&&(e=t.slice(0,n))!=="xmlns"&&(t=t.slice(n+1)),ad.hasOwnProperty(e)?{space:ad[e],local:t}:t}function Qy(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===ru&&e.documentElement.namespaceURI===ru?e.createElement(t):e.createElementNS(n,t)}}function t_(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function dv(t){var e=Ds(t);return(e.local?t_:Qy)(e)}function e_(){}function bc(t){return t==null?e_:function(){return this.querySelector(t)}}function n_(t){typeof t!="function"&&(t=bc(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o=e[i],a=o.length,s=r[i]=new Array(a),l,u,c=0;c<a;++c)(l=o[c])&&(u=t.call(l,l.__data__,c,o))&&("__data__"in l&&(u.__data__=l.__data__),s[c]=u);return new Re(r,this._parents)}function r_(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function i_(){return[]}function hv(t){return t==null?i_:function(){return this.querySelectorAll(t)}}function o_(t){return function(){return r_(t.apply(this,arguments))}}function a_(t){typeof t=="function"?t=o_(t):t=hv(t);for(var e=this._groups,n=e.length,r=[],i=[],o=0;o<n;++o)for(var a=e[o],s=a.length,l,u=0;u<s;++u)(l=a[u])&&(r.push(t.call(l,l.__data__,u,a)),i.push(l));return new Re(r,i)}function pv(t){return function(){return this.matches(t)}}function vv(t){return function(e){return e.matches(t)}}var s_=Array.prototype.find;function l_(t){return function(){return s_.call(this.children,t)}}function u_(){return this.firstElementChild}function c_(t){return this.select(t==null?u_:l_(typeof t=="function"?t:vv(t)))}var f_=Array.prototype.filter;function d_(){return Array.from(this.children)}function h_(t){return function(){return f_.call(this.children,t)}}function p_(t){return this.selectAll(t==null?d_:h_(typeof t=="function"?t:vv(t)))}function v_(t){typeof t!="function"&&(t=pv(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o=e[i],a=o.length,s=r[i]=[],l,u=0;u<a;++u)(l=o[u])&&t.call(l,l.__data__,u,o)&&s.push(l);return new Re(r,this._parents)}function gv(t){return new Array(t.length)}function g_(){return new Re(this._enter||this._groups.map(gv),this._parents)}function Aa(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}Aa.prototype={constructor:Aa,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function m_(t){return function(){return t}}function y_(t,e,n,r,i,o){for(var a=0,s,l=e.length,u=o.length;a<u;++a)(s=e[a])?(s.__data__=o[a],r[a]=s):n[a]=new Aa(t,o[a]);for(;a<l;++a)(s=e[a])&&(i[a]=s)}function __(t,e,n,r,i,o,a){var s,l,u=new Map,c=e.length,f=o.length,d=new Array(c),h;for(s=0;s<c;++s)(l=e[s])&&(d[s]=h=a.call(l,l.__data__,s,e)+"",u.has(h)?i[s]=l:u.set(h,l));for(s=0;s<f;++s)h=a.call(t,o[s],s,o)+"",(l=u.get(h))?(r[s]=l,l.__data__=o[s],u.delete(h)):n[s]=new Aa(t,o[s]);for(s=0;s<c;++s)(l=e[s])&&u.get(d[s])===l&&(i[s]=l)}function b_(t){return t.__data__}function w_(t,e){if(!arguments.length)return Array.from(this,b_);var n=e?__:y_,r=this._parents,i=this._groups;typeof t!="function"&&(t=m_(t));for(var o=i.length,a=new Array(o),s=new Array(o),l=new Array(o),u=0;u<o;++u){var c=r[u],f=i[u],d=f.length,h=x_(t.call(c,c&&c.__data__,u,r)),p=h.length,v=s[u]=new Array(p),m=a[u]=new Array(p),g=l[u]=new Array(d);n(c,f,v,m,g,h,e);for(var b=0,_=0,w,D;b<p;++b)if(w=v[b]){for(b>=_&&(_=b+1);!(D=m[_])&&++_<p;);w._next=D||null}}return a=new Re(a,r),a._enter=s,a._exit=l,a}function x_(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function S_(){return new Re(this._exit||this._groups.map(gv),this._parents)}function E_(t,e,n){var r=this.enter(),i=this,o=this.exit();return typeof t=="function"?(r=t(r),r&&(r=r.selection())):r=r.append(t+""),e!=null&&(i=e(i),i&&(i=i.selection())),n==null?o.remove():n(o),r&&i?r.merge(i).order():i}function C_(t){for(var e=t.selection?t.selection():t,n=this._groups,r=e._groups,i=n.length,o=r.length,a=Math.min(i,o),s=new Array(i),l=0;l<a;++l)for(var u=n[l],c=r[l],f=u.length,d=s[l]=new Array(f),h,p=0;p<f;++p)(h=u[p]||c[p])&&(d[p]=h);for(;l<i;++l)s[l]=n[l];return new Re(s,this._parents)}function M_(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r=t[e],i=r.length-1,o=r[i],a;--i>=0;)(a=r[i])&&(o&&a.compareDocumentPosition(o)^4&&o.parentNode.insertBefore(a,o),o=a);return this}function D_(t){t||(t=$_);function e(f,d){return f&&d?t(f.__data__,d.__data__):!f-!d}for(var n=this._groups,r=n.length,i=new Array(r),o=0;o<r;++o){for(var a=n[o],s=a.length,l=i[o]=new Array(s),u,c=0;c<s;++c)(u=a[c])&&(l[c]=u);l.sort(e)}return new Re(i,this._parents).order()}function $_(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function T_(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function P_(){return Array.from(this)}function N_(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,o=r.length;i<o;++i){var a=r[i];if(a)return a}return null}function R_(){let t=0;for(const e of this)++t;return t}function O_(){return!this.node()}function I_(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var i=e[n],o=0,a=i.length,s;o<a;++o)(s=i[o])&&t.call(s,s.__data__,o,i);return this}function A_(t){return function(){this.removeAttribute(t)}}function k_(t){return function(){this.removeAttributeNS(t.space,t.local)}}function B_(t,e){return function(){this.setAttribute(t,e)}}function z_(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function F_(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttribute(t):this.setAttribute(t,n)}}function G_(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function L_(t,e){var n=Ds(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((e==null?n.local?k_:A_:typeof e=="function"?n.local?G_:F_:n.local?z_:B_)(n,e))}function mv(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function V_(t){return function(){this.style.removeProperty(t)}}function H_(t,e,n){return function(){this.style.setProperty(t,e,n)}}function Y_(t,e,n){return function(){var r=e.apply(this,arguments);r==null?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}function X_(t,e,n){return arguments.length>1?this.each((e==null?V_:typeof e=="function"?Y_:H_)(t,e,n??"")):fi(this.node(),t)}function fi(t,e){return t.style.getPropertyValue(e)||mv(t).getComputedStyle(t,null).getPropertyValue(e)}function W_(t){return function(){delete this[t]}}function U_(t,e){return function(){this[t]=e}}function q_(t,e){return function(){var n=e.apply(this,arguments);n==null?delete this[t]:this[t]=n}}function j_(t,e){return arguments.length>1?this.each((e==null?W_:typeof e=="function"?q_:U_)(t,e)):this.node()[t]}function yv(t){return t.trim().split(/^|\s+/)}function wc(t){return t.classList||new _v(t)}function _v(t){this._node=t,this._names=yv(t.getAttribute("class")||"")}_v.prototype={add:function(t){var e=this._names.indexOf(t);e<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function bv(t,e){for(var n=wc(t),r=-1,i=e.length;++r<i;)n.add(e[r])}function wv(t,e){for(var n=wc(t),r=-1,i=e.length;++r<i;)n.remove(e[r])}function K_(t){return function(){bv(this,t)}}function Z_(t){return function(){wv(this,t)}}function J_(t,e){return function(){(e.apply(this,arguments)?bv:wv)(this,t)}}function Q_(t,e){var n=yv(t+"");if(arguments.length<2){for(var r=wc(this.node()),i=-1,o=n.length;++i<o;)if(!r.contains(n[i]))return!1;return!0}return this.each((typeof e=="function"?J_:e?K_:Z_)(n,e))}function tb(){this.textContent=""}function eb(t){return function(){this.textContent=t}}function nb(t){return function(){var e=t.apply(this,arguments);this.textContent=e??""}}function rb(t){return arguments.length?this.each(t==null?tb:(typeof t=="function"?nb:eb)(t)):this.node().textContent}function ib(){this.innerHTML=""}function ob(t){return function(){this.innerHTML=t}}function ab(t){return function(){var e=t.apply(this,arguments);this.innerHTML=e??""}}function sb(t){return arguments.length?this.each(t==null?ib:(typeof t=="function"?ab:ob)(t)):this.node().innerHTML}function lb(){this.nextSibling&&this.parentNode.appendChild(this)}function ub(){return this.each(lb)}function cb(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function fb(){return this.each(cb)}function db(t){var e=typeof t=="function"?t:dv(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function hb(){return null}function pb(t,e){var n=typeof t=="function"?t:dv(t),r=e==null?hb:typeof e=="function"?e:bc(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function vb(){var t=this.parentNode;t&&t.removeChild(this)}function gb(){return this.each(vb)}function mb(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function yb(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function _b(t){return this.select(t?yb:mb)}function bb(t){return arguments.length?this.property("__data__",t):this.node().__data__}function wb(t){return function(e){t.call(this,e,this.__data__)}}function xb(t){return t.trim().split(/^|\s+/).map(function(e){var n="",r=e.indexOf(".");return r>=0&&(n=e.slice(r+1),e=e.slice(0,r)),{type:e,name:n}})}function Sb(t){return function(){var e=this.__on;if(e){for(var n=0,r=-1,i=e.length,o;n<i;++n)o=e[n],(!t.type||o.type===t.type)&&o.name===t.name?this.removeEventListener(o.type,o.listener,o.options):e[++r]=o;++r?e.length=r:delete this.__on}}}function Eb(t,e,n){return function(){var r=this.__on,i,o=wb(e);if(r){for(var a=0,s=r.length;a<s;++a)if((i=r[a]).type===t.type&&i.name===t.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=o,i.options=n),i.value=e;return}}this.addEventListener(t.type,o,n),i={type:t.type,name:t.name,value:e,listener:o,options:n},r?r.push(i):this.__on=[i]}}function Cb(t,e,n){var r=xb(t+""),i,o=r.length,a;if(arguments.length<2){var s=this.node().__on;if(s){for(var l=0,u=s.length,c;l<u;++l)for(i=0,c=s[l];i<o;++i)if((a=r[i]).type===c.type&&a.name===c.name)return c.value}return}for(s=e?Eb:Sb,i=0;i<o;++i)this.each(s(r[i],e,n));return this}function xv(t,e,n){var r=mv(t),i=r.CustomEvent;typeof i=="function"?i=new i(e,n):(i=r.document.createEvent("Event"),n?(i.initEvent(e,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}function Mb(t,e){return function(){return xv(this,t,e)}}function Db(t,e){return function(){return xv(this,t,e.apply(this,arguments))}}function $b(t,e){return this.each((typeof e=="function"?Db:Mb)(t,e))}function*Tb(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,o=r.length,a;i<o;++i)(a=r[i])&&(yield a)}var Sv=[null];function Re(t,e){this._groups=t,this._parents=e}function Eo(){return new Re([[document.documentElement]],Sv)}function Pb(){return this}Re.prototype=Eo.prototype={constructor:Re,select:n_,selectAll:a_,selectChild:c_,selectChildren:p_,filter:v_,data:w_,enter:g_,exit:S_,join:E_,merge:C_,selection:Pb,order:M_,sort:D_,call:T_,nodes:P_,node:N_,size:R_,empty:O_,each:I_,attr:L_,style:X_,property:j_,classed:Q_,text:rb,html:sb,raise:ub,lower:fb,append:db,insert:pb,remove:gb,clone:_b,datum:bb,on:Cb,dispatch:$b,[Symbol.iterator]:Tb};function We(t){return typeof t=="string"?new Re([[document.querySelector(t)]],[document.documentElement]):new Re([[t]],Sv)}function Nb(t){let e;for(;e=t.sourceEvent;)t=e;return t}function sn(t,e){if(t=Nb(t),e===void 0&&(e=t.currentTarget),e){var n=e.ownerSVGElement||e;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=t.clientX,r.y=t.clientY,r=r.matrixTransform(e.getScreenCTM().inverse()),[r.x,r.y]}if(e.getBoundingClientRect){var i=e.getBoundingClientRect();return[t.clientX-i.left-e.clientLeft,t.clientY-i.top-e.clientTop]}}return[t.pageX,t.pageY]}const Rb={passive:!1},oo={capture:!0,passive:!1};function gl(t){t.stopImmediatePropagation()}function ii(t){t.preventDefault(),t.stopImmediatePropagation()}function Ev(t){var e=t.document.documentElement,n=We(t).on("dragstart.drag",ii,oo);"onselectstart"in e?n.on("selectstart.drag",ii,oo):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")}function Cv(t,e){var n=t.document.documentElement,r=We(t).on("dragstart.drag",null);e&&(r.on("click.drag",ii,oo),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}const Lo=t=>()=>t;function iu(t,{sourceEvent:e,subject:n,target:r,identifier:i,active:o,x:a,y:s,dx:l,dy:u,dispatch:c}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},identifier:{value:i,enumerable:!0,configurable:!0},active:{value:o,enumerable:!0,configurable:!0},x:{value:a,enumerable:!0,configurable:!0},y:{value:s,enumerable:!0,configurable:!0},dx:{value:l,enumerable:!0,configurable:!0},dy:{value:u,enumerable:!0,configurable:!0},_:{value:c}})}iu.prototype.on=function(){var t=this._.on.apply(this._,arguments);return t===this._?this:t};function Ob(t){return!t.ctrlKey&&!t.button}function Ib(){return this.parentNode}function Ab(t,e){return e??{x:t.x,y:t.y}}function kb(){return navigator.maxTouchPoints||"ontouchstart"in this}function Bb(){var t=Ob,e=Ib,n=Ab,r=kb,i={},o=Ms("start","drag","end"),a=0,s,l,u,c,f=0;function d(w){w.on("mousedown.drag",h).filter(r).on("touchstart.drag",m).on("touchmove.drag",g,Rb).on("touchend.drag touchcancel.drag",b).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function h(w,D){if(!(c||!t.call(this,w,D))){var $=_(this,e.call(this,w,D),w,D,"mouse");$&&(We(w.view).on("mousemove.drag",p,oo).on("mouseup.drag",v,oo),Ev(w.view),gl(w),u=!1,s=w.clientX,l=w.clientY,$("start",w))}}function p(w){if(ii(w),!u){var D=w.clientX-s,$=w.clientY-l;u=D*D+$*$>f}i.mouse("drag",w)}function v(w){We(w.view).on("mousemove.drag mouseup.drag",null),Cv(w.view,u),ii(w),i.mouse("end",w)}function m(w,D){if(t.call(this,w,D)){var $=w.changedTouches,E=e.call(this,w,D),A=$.length,O,N;for(O=0;O<A;++O)(N=_(this,E,w,D,$[O].identifier,$[O]))&&(gl(w),N("start",w,$[O]))}}function g(w){var D=w.changedTouches,$=D.length,E,A;for(E=0;E<$;++E)(A=i[D[E].identifier])&&(ii(w),A("drag",w,D[E]))}function b(w){var D=w.changedTouches,$=D.length,E,A;for(c&&clearTimeout(c),c=setTimeout(function(){c=null},500),E=0;E<$;++E)(A=i[D[E].identifier])&&(gl(w),A("end",w,D[E]))}function _(w,D,$,E,A,O){var N=o.copy(),F=sn(O||$,D),S,G,y;if((y=n.call(w,new iu("beforestart",{sourceEvent:$,target:d,identifier:A,active:a,x:F[0],y:F[1],dx:0,dy:0,dispatch:N}),E))!=null)return S=y.x-F[0]||0,G=y.y-F[1]||0,function R(M,L,k){var z=F,V;switch(M){case"start":i[A]=R,V=a++;break;case"end":delete i[A],--a;case"drag":F=sn(k||L,D),V=a;break}N.call(M,w,new iu(M,{sourceEvent:L,subject:y,target:d,identifier:A,active:V,x:F[0]+S,y:F[1]+G,dx:F[0]-z[0],dy:F[1]-z[1],dispatch:N}),E)}}return d.filter=function(w){return arguments.length?(t=typeof w=="function"?w:Lo(!!w),d):t},d.container=function(w){return arguments.length?(e=typeof w=="function"?w:Lo(w),d):e},d.subject=function(w){return arguments.length?(n=typeof w=="function"?w:Lo(w),d):n},d.touchable=function(w){return arguments.length?(r=typeof w=="function"?w:Lo(!!w),d):r},d.on=function(){var w=o.on.apply(o,arguments);return w===o?d:w},d.clickDistance=function(w){return arguments.length?(f=(w=+w)*w,d):Math.sqrt(f)},d}function xc(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function Mv(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function Co(){}var ao=.7,ka=1/ao,oi="\\s*([+-]?\\d+)\\s*",so="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",hn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",zb=/^#([0-9a-f]{3,8})$/,Fb=new RegExp(`^rgb\\(${oi},${oi},${oi}\\)$`),Gb=new RegExp(`^rgb\\(${hn},${hn},${hn}\\)$`),Lb=new RegExp(`^rgba\\(${oi},${oi},${oi},${so}\\)$`),Vb=new RegExp(`^rgba\\(${hn},${hn},${hn},${so}\\)$`),Hb=new RegExp(`^hsl\\(${so},${hn},${hn}\\)$`),Yb=new RegExp(`^hsla\\(${so},${hn},${hn},${so}\\)$`),sd={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};xc(Co,Or,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:ld,formatHex:ld,formatHex8:Xb,formatHsl:Wb,formatRgb:ud,toString:ud});function ld(){return this.rgb().formatHex()}function Xb(){return this.rgb().formatHex8()}function Wb(){return Dv(this).formatHsl()}function ud(){return this.rgb().formatRgb()}function Or(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=zb.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?cd(e):n===3?new De(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?Vo(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?Vo(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=Fb.exec(t))?new De(e[1],e[2],e[3],1):(e=Gb.exec(t))?new De(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=Lb.exec(t))?Vo(e[1],e[2],e[3],e[4]):(e=Vb.exec(t))?Vo(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=Hb.exec(t))?hd(e[1],e[2]/100,e[3]/100,1):(e=Yb.exec(t))?hd(e[1],e[2]/100,e[3]/100,e[4]):sd.hasOwnProperty(t)?cd(sd[t]):t==="transparent"?new De(NaN,NaN,NaN,0):null}function cd(t){return new De(t>>16&255,t>>8&255,t&255,1)}function Vo(t,e,n,r){return r<=0&&(t=e=n=NaN),new De(t,e,n,r)}function Ub(t){return t instanceof Co||(t=Or(t)),t?(t=t.rgb(),new De(t.r,t.g,t.b,t.opacity)):new De}function ou(t,e,n,r){return arguments.length===1?Ub(t):new De(t,e,n,r??1)}function De(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}xc(De,ou,Mv(Co,{brighter(t){return t=t==null?ka:Math.pow(ka,t),new De(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?ao:Math.pow(ao,t),new De(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new De(Pr(this.r),Pr(this.g),Pr(this.b),Ba(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:fd,formatHex:fd,formatHex8:qb,formatRgb:dd,toString:dd}));function fd(){return`#${Mr(this.r)}${Mr(this.g)}${Mr(this.b)}`}function qb(){return`#${Mr(this.r)}${Mr(this.g)}${Mr(this.b)}${Mr((isNaN(this.opacity)?1:this.opacity)*255)}`}function dd(){const t=Ba(this.opacity);return`${t===1?"rgb(":"rgba("}${Pr(this.r)}, ${Pr(this.g)}, ${Pr(this.b)}${t===1?")":`, ${t})`}`}function Ba(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Pr(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Mr(t){return t=Pr(t),(t<16?"0":"")+t.toString(16)}function hd(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Ue(t,e,n,r)}function Dv(t){if(t instanceof Ue)return new Ue(t.h,t.s,t.l,t.opacity);if(t instanceof Co||(t=Or(t)),!t)return new Ue;if(t instanceof Ue)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),o=Math.max(e,n,r),a=NaN,s=o-i,l=(o+i)/2;return s?(e===o?a=(n-r)/s+(n<r)*6:n===o?a=(r-e)/s+2:a=(e-n)/s+4,s/=l<.5?o+i:2-o-i,a*=60):s=l>0&&l<1?0:a,new Ue(a,s,l,t.opacity)}function jb(t,e,n,r){return arguments.length===1?Dv(t):new Ue(t,e,n,r??1)}function Ue(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}xc(Ue,jb,Mv(Co,{brighter(t){return t=t==null?ka:Math.pow(ka,t),new Ue(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?ao:Math.pow(ao,t),new Ue(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new De(ml(t>=240?t-240:t+120,i,r),ml(t,i,r),ml(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new Ue(pd(this.h),Ho(this.s),Ho(this.l),Ba(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Ba(this.opacity);return`${t===1?"hsl(":"hsla("}${pd(this.h)}, ${Ho(this.s)*100}%, ${Ho(this.l)*100}%${t===1?")":`, ${t})`}`}}));function pd(t){return t=(t||0)%360,t<0?t+360:t}function Ho(t){return Math.max(0,Math.min(1,t||0))}function ml(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const Sc=t=>()=>t;function Kb(t,e){return function(n){return t+n*e}}function Zb(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function Jb(t){return(t=+t)==1?$v:function(e,n){return n-e?Zb(e,n,t):Sc(isNaN(e)?n:e)}}function $v(t,e){var n=e-t;return n?Kb(t,n):Sc(isNaN(t)?e:t)}const za=function t(e){var n=Jb(e);function r(i,o){var a=n((i=ou(i)).r,(o=ou(o)).r),s=n(i.g,o.g),l=n(i.b,o.b),u=$v(i.opacity,o.opacity);return function(c){return i.r=a(c),i.g=s(c),i.b=l(c),i.opacity=u(c),i+""}}return r.gamma=t,r}(1);function Qb(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(o){for(i=0;i<n;++i)r[i]=t[i]*(1-o)+e[i]*o;return r}}function tw(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function ew(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),o=new Array(n),a;for(a=0;a<r;++a)i[a]=Wi(t[a],e[a]);for(;a<n;++a)o[a]=e[a];return function(s){for(a=0;a<r;++a)o[a]=i[a](s);return o}}function nw(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function un(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function rw(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=Wi(t[i],e[i]):r[i]=e[i];return function(o){for(i in n)r[i]=n[i](o);return r}}var au=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,yl=new RegExp(au.source,"g");function iw(t){return function(){return t}}function ow(t){return function(e){return t(e)+""}}function Tv(t,e){var n=au.lastIndex=yl.lastIndex=0,r,i,o,a=-1,s=[],l=[];for(t=t+"",e=e+"";(r=au.exec(t))&&(i=yl.exec(e));)(o=i.index)>n&&(o=e.slice(n,o),s[a]?s[a]+=o:s[++a]=o),(r=r[0])===(i=i[0])?s[a]?s[a]+=i:s[++a]=i:(s[++a]=null,l.push({i:a,x:un(r,i)})),n=yl.lastIndex;return n<e.length&&(o=e.slice(n),s[a]?s[a]+=o:s[++a]=o),s.length<2?l[0]?ow(l[0].x):iw(e):(e=l.length,function(u){for(var c=0,f;c<e;++c)s[(f=l[c]).i]=f.x(u);return s.join("")})}function Wi(t,e){var n=typeof e,r;return e==null||n==="boolean"?Sc(e):(n==="number"?un:n==="string"?(r=Or(e))?(e=r,za):Tv:e instanceof Or?za:e instanceof Date?nw:tw(e)?Qb:Array.isArray(e)?ew:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?rw:un)(t,e)}var vd=180/Math.PI,su={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Pv(t,e,n,r,i,o){var a,s,l;return(a=Math.sqrt(t*t+e*e))&&(t/=a,e/=a),(l=t*n+e*r)&&(n-=t*l,r-=e*l),(s=Math.sqrt(n*n+r*r))&&(n/=s,r/=s,l/=s),t*r<e*n&&(t=-t,e=-e,l=-l,a=-a),{translateX:i,translateY:o,rotate:Math.atan2(e,t)*vd,skewX:Math.atan(l)*vd,scaleX:a,scaleY:s}}var Yo;function aw(t){const e=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?su:Pv(e.a,e.b,e.c,e.d,e.e,e.f)}function sw(t){return t==null||(Yo||(Yo=document.createElementNS("http://www.w3.org/2000/svg","g")),Yo.setAttribute("transform",t),!(t=Yo.transform.baseVal.consolidate()))?su:(t=t.matrix,Pv(t.a,t.b,t.c,t.d,t.e,t.f))}function Nv(t,e,n,r){function i(u){return u.length?u.pop()+" ":""}function o(u,c,f,d,h,p){if(u!==f||c!==d){var v=h.push("translate(",null,e,null,n);p.push({i:v-4,x:un(u,f)},{i:v-2,x:un(c,d)})}else(f||d)&&h.push("translate("+f+e+d+n)}function a(u,c,f,d){u!==c?(u-c>180?c+=360:c-u>180&&(u+=360),d.push({i:f.push(i(f)+"rotate(",null,r)-2,x:un(u,c)})):c&&f.push(i(f)+"rotate("+c+r)}function s(u,c,f,d){u!==c?d.push({i:f.push(i(f)+"skewX(",null,r)-2,x:un(u,c)}):c&&f.push(i(f)+"skewX("+c+r)}function l(u,c,f,d,h,p){if(u!==f||c!==d){var v=h.push(i(h)+"scale(",null,",",null,")");p.push({i:v-4,x:un(u,f)},{i:v-2,x:un(c,d)})}else(f!==1||d!==1)&&h.push(i(h)+"scale("+f+","+d+")")}return function(u,c){var f=[],d=[];return u=t(u),c=t(c),o(u.translateX,u.translateY,c.translateX,c.translateY,f,d),a(u.rotate,c.rotate,f,d),s(u.skewX,c.skewX,f,d),l(u.scaleX,u.scaleY,c.scaleX,c.scaleY,f,d),u=c=null,function(h){for(var p=-1,v=d.length,m;++p<v;)f[(m=d[p]).i]=m.x(h);return f.join("")}}}var lw=Nv(aw,"px, ","px)","deg)"),uw=Nv(sw,", ",")",")"),cw=1e-12;function gd(t){return((t=Math.exp(t))+1/t)/2}function fw(t){return((t=Math.exp(t))-1/t)/2}function dw(t){return((t=Math.exp(2*t))-1)/(t+1)}const va=function t(e,n,r){function i(o,a){var s=o[0],l=o[1],u=o[2],c=a[0],f=a[1],d=a[2],h=c-s,p=f-l,v=h*h+p*p,m,g;if(v<cw)g=Math.log(d/u)/e,m=function(E){return[s+E*h,l+E*p,u*Math.exp(e*E*g)]};else{var b=Math.sqrt(v),_=(d*d-u*u+r*v)/(2*u*n*b),w=(d*d-u*u-r*v)/(2*d*n*b),D=Math.log(Math.sqrt(_*_+1)-_),$=Math.log(Math.sqrt(w*w+1)-w);g=($-D)/e,m=function(E){var A=E*g,O=gd(D),N=u/(n*b)*(O*dw(e*A+D)-fw(D));return[s+N*h,l+N*p,u*O/gd(e*A+D)]}}return m.duration=g*1e3*e/Math.SQRT2,m}return i.rho=function(o){var a=Math.max(.001,+o),s=a*a,l=s*s;return t(a,s,l)},i}(Math.SQRT2,2,4);var di=0,Ri=0,Ci=0,Rv=1e3,Fa,Oi,Ga=0,Ir=0,$s=0,lo=typeof performance=="object"&&performance.now?performance:Date,Ov=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function Ec(){return Ir||(Ov(hw),Ir=lo.now()+$s)}function hw(){Ir=0}function La(){this._call=this._time=this._next=null}La.prototype=Iv.prototype={constructor:La,restart:function(t,e,n){if(typeof t!="function")throw new TypeError("callback is not a function");n=(n==null?Ec():+n)+(e==null?0:+e),!this._next&&Oi!==this&&(Oi?Oi._next=this:Fa=this,Oi=this),this._call=t,this._time=n,lu()},stop:function(){this._call&&(this._call=null,this._time=1/0,lu())}};function Iv(t,e,n){var r=new La;return r.restart(t,e,n),r}function pw(){Ec(),++di;for(var t=Fa,e;t;)(e=Ir-t._time)>=0&&t._call.call(void 0,e),t=t._next;--di}function md(){Ir=(Ga=lo.now())+$s,di=Ri=0;try{pw()}finally{di=0,gw(),Ir=0}}function vw(){var t=lo.now(),e=t-Ga;e>Rv&&($s-=e,Ga=t)}function gw(){for(var t,e=Fa,n,r=1/0;e;)e._call?(r>e._time&&(r=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:Fa=n);Oi=t,lu(r)}function lu(t){if(!di){Ri&&(Ri=clearTimeout(Ri));var e=t-Ir;e>24?(t<1/0&&(Ri=setTimeout(md,t-lo.now()-$s)),Ci&&(Ci=clearInterval(Ci))):(Ci||(Ga=lo.now(),Ci=setInterval(vw,Rv)),di=1,Ov(md))}}function yd(t,e,n){var r=new La;return e=e==null?0:+e,r.restart(i=>{r.stop(),t(i+e)},e,n),r}var mw=Ms("start","end","cancel","interrupt"),yw=[],Av=0,_d=1,uu=2,ga=3,bd=4,cu=5,ma=6;function Ts(t,e,n,r,i,o){var a=t.__transition;if(!a)t.__transition={};else if(n in a)return;_w(t,n,{name:e,index:r,group:i,on:mw,tween:yw,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:Av})}function Cc(t,e){var n=nn(t,e);if(n.state>Av)throw new Error("too late; already scheduled");return n}function bn(t,e){var n=nn(t,e);if(n.state>ga)throw new Error("too late; already running");return n}function nn(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function _w(t,e,n){var r=t.__transition,i;r[e]=n,n.timer=Iv(o,0,n.time);function o(u){n.state=_d,n.timer.restart(a,n.delay,n.time),n.delay<=u&&a(u-n.delay)}function a(u){var c,f,d,h;if(n.state!==_d)return l();for(c in r)if(h=r[c],h.name===n.name){if(h.state===ga)return yd(a);h.state===bd?(h.state=ma,h.timer.stop(),h.on.call("interrupt",t,t.__data__,h.index,h.group),delete r[c]):+c<e&&(h.state=ma,h.timer.stop(),h.on.call("cancel",t,t.__data__,h.index,h.group),delete r[c])}if(yd(function(){n.state===ga&&(n.state=bd,n.timer.restart(s,n.delay,n.time),s(u))}),n.state=uu,n.on.call("start",t,t.__data__,n.index,n.group),n.state===uu){for(n.state=ga,i=new Array(d=n.tween.length),c=0,f=-1;c<d;++c)(h=n.tween[c].value.call(t,t.__data__,n.index,n.group))&&(i[++f]=h);i.length=f+1}}function s(u){for(var c=u<n.duration?n.ease.call(null,u/n.duration):(n.timer.restart(l),n.state=cu,1),f=-1,d=i.length;++f<d;)i[f].call(t,c);n.state===cu&&(n.on.call("end",t,t.__data__,n.index,n.group),l())}function l(){n.state=ma,n.timer.stop(),delete r[e];for(var u in r)return;delete t.__transition}}function ya(t,e){var n=t.__transition,r,i,o=!0,a;if(n){e=e==null?null:e+"";for(a in n){if((r=n[a]).name!==e){o=!1;continue}i=r.state>uu&&r.state<cu,r.state=ma,r.timer.stop(),r.on.call(i?"interrupt":"cancel",t,t.__data__,r.index,r.group),delete n[a]}o&&delete t.__transition}}function bw(t){return this.each(function(){ya(this,t)})}function ww(t,e){var n,r;return function(){var i=bn(this,t),o=i.tween;if(o!==n){r=n=o;for(var a=0,s=r.length;a<s;++a)if(r[a].name===e){r=r.slice(),r.splice(a,1);break}}i.tween=r}}function xw(t,e,n){var r,i;if(typeof n!="function")throw new Error;return function(){var o=bn(this,t),a=o.tween;if(a!==r){i=(r=a).slice();for(var s={name:e,value:n},l=0,u=i.length;l<u;++l)if(i[l].name===e){i[l]=s;break}l===u&&i.push(s)}o.tween=i}}function Sw(t,e){var n=this._id;if(t+="",arguments.length<2){for(var r=nn(this.node(),n).tween,i=0,o=r.length,a;i<o;++i)if((a=r[i]).name===t)return a.value;return null}return this.each((e==null?ww:xw)(n,t,e))}function Mc(t,e,n){var r=t._id;return t.each(function(){var i=bn(this,r);(i.value||(i.value={}))[e]=n.apply(this,arguments)}),function(i){return nn(i,r).value[e]}}function kv(t,e){var n;return(typeof e=="number"?un:e instanceof Or?za:(n=Or(e))?(e=n,za):Tv)(t,e)}function Ew(t){return function(){this.removeAttribute(t)}}function Cw(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Mw(t,e,n){var r,i=n+"",o;return function(){var a=this.getAttribute(t);return a===i?null:a===r?o:o=e(r=a,n)}}function Dw(t,e,n){var r,i=n+"",o;return function(){var a=this.getAttributeNS(t.space,t.local);return a===i?null:a===r?o:o=e(r=a,n)}}function $w(t,e,n){var r,i,o;return function(){var a,s=n(this),l;return s==null?void this.removeAttribute(t):(a=this.getAttribute(t),l=s+"",a===l?null:a===r&&l===i?o:(i=l,o=e(r=a,s)))}}function Tw(t,e,n){var r,i,o;return function(){var a,s=n(this),l;return s==null?void this.removeAttributeNS(t.space,t.local):(a=this.getAttributeNS(t.space,t.local),l=s+"",a===l?null:a===r&&l===i?o:(i=l,o=e(r=a,s)))}}function Pw(t,e){var n=Ds(t),r=n==="transform"?uw:kv;return this.attrTween(t,typeof e=="function"?(n.local?Tw:$w)(n,r,Mc(this,"attr."+t,e)):e==null?(n.local?Cw:Ew)(n):(n.local?Dw:Mw)(n,r,e))}function Nw(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}function Rw(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}function Ow(t,e){var n,r;function i(){var o=e.apply(this,arguments);return o!==r&&(n=(r=o)&&Rw(t,o)),n}return i._value=e,i}function Iw(t,e){var n,r;function i(){var o=e.apply(this,arguments);return o!==r&&(n=(r=o)&&Nw(t,o)),n}return i._value=e,i}function Aw(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(e==null)return this.tween(n,null);if(typeof e!="function")throw new Error;var r=Ds(t);return this.tween(n,(r.local?Ow:Iw)(r,e))}function kw(t,e){return function(){Cc(this,t).delay=+e.apply(this,arguments)}}function Bw(t,e){return e=+e,function(){Cc(this,t).delay=e}}function zw(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?kw:Bw)(e,t)):nn(this.node(),e).delay}function Fw(t,e){return function(){bn(this,t).duration=+e.apply(this,arguments)}}function Gw(t,e){return e=+e,function(){bn(this,t).duration=e}}function Lw(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?Fw:Gw)(e,t)):nn(this.node(),e).duration}function Vw(t,e){if(typeof e!="function")throw new Error;return function(){bn(this,t).ease=e}}function Hw(t){var e=this._id;return arguments.length?this.each(Vw(e,t)):nn(this.node(),e).ease}function Yw(t,e){return function(){var n=e.apply(this,arguments);if(typeof n!="function")throw new Error;bn(this,t).ease=n}}function Xw(t){if(typeof t!="function")throw new Error;return this.each(Yw(this._id,t))}function Ww(t){typeof t!="function"&&(t=pv(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o=e[i],a=o.length,s=r[i]=[],l,u=0;u<a;++u)(l=o[u])&&t.call(l,l.__data__,u,o)&&s.push(l);return new Fn(r,this._parents,this._name,this._id)}function Uw(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,r=e.length,i=n.length,o=Math.min(r,i),a=new Array(r),s=0;s<o;++s)for(var l=e[s],u=n[s],c=l.length,f=a[s]=new Array(c),d,h=0;h<c;++h)(d=l[h]||u[h])&&(f[h]=d);for(;s<r;++s)a[s]=e[s];return new Fn(a,this._parents,this._name,this._id)}function qw(t){return(t+"").trim().split(/^|\s+/).every(function(e){var n=e.indexOf(".");return n>=0&&(e=e.slice(0,n)),!e||e==="start"})}function jw(t,e,n){var r,i,o=qw(e)?Cc:bn;return function(){var a=o(this,t),s=a.on;s!==r&&(i=(r=s).copy()).on(e,n),a.on=i}}function Kw(t,e){var n=this._id;return arguments.length<2?nn(this.node(),n).on.on(t):this.each(jw(n,t,e))}function Zw(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}function Jw(){return this.on("end.remove",Zw(this._id))}function Qw(t){var e=this._name,n=this._id;typeof t!="function"&&(t=bc(t));for(var r=this._groups,i=r.length,o=new Array(i),a=0;a<i;++a)for(var s=r[a],l=s.length,u=o[a]=new Array(l),c,f,d=0;d<l;++d)(c=s[d])&&(f=t.call(c,c.__data__,d,s))&&("__data__"in c&&(f.__data__=c.__data__),u[d]=f,Ts(u[d],e,n,d,u,nn(c,n)));return new Fn(o,this._parents,e,n)}function tx(t){var e=this._name,n=this._id;typeof t!="function"&&(t=hv(t));for(var r=this._groups,i=r.length,o=[],a=[],s=0;s<i;++s)for(var l=r[s],u=l.length,c,f=0;f<u;++f)if(c=l[f]){for(var d=t.call(c,c.__data__,f,l),h,p=nn(c,n),v=0,m=d.length;v<m;++v)(h=d[v])&&Ts(h,e,n,v,d,p);o.push(d),a.push(c)}return new Fn(o,a,e,n)}var ex=Eo.prototype.constructor;function nx(){return new ex(this._groups,this._parents)}function rx(t,e){var n,r,i;return function(){var o=fi(this,t),a=(this.style.removeProperty(t),fi(this,t));return o===a?null:o===n&&a===r?i:i=e(n=o,r=a)}}function Bv(t){return function(){this.style.removeProperty(t)}}function ix(t,e,n){var r,i=n+"",o;return function(){var a=fi(this,t);return a===i?null:a===r?o:o=e(r=a,n)}}function ox(t,e,n){var r,i,o;return function(){var a=fi(this,t),s=n(this),l=s+"";return s==null&&(l=s=(this.style.removeProperty(t),fi(this,t))),a===l?null:a===r&&l===i?o:(i=l,o=e(r=a,s))}}function ax(t,e){var n,r,i,o="style."+e,a="end."+o,s;return function(){var l=bn(this,t),u=l.on,c=l.value[o]==null?s||(s=Bv(e)):void 0;(u!==n||i!==c)&&(r=(n=u).copy()).on(a,i=c),l.on=r}}function sx(t,e,n){var r=(t+="")=="transform"?lw:kv;return e==null?this.styleTween(t,rx(t,r)).on("end.style."+t,Bv(t)):typeof e=="function"?this.styleTween(t,ox(t,r,Mc(this,"style."+t,e))).each(ax(this._id,t)):this.styleTween(t,ix(t,r,e),n).on("end.style."+t,null)}function lx(t,e,n){return function(r){this.style.setProperty(t,e.call(this,r),n)}}function ux(t,e,n){var r,i;function o(){var a=e.apply(this,arguments);return a!==i&&(r=(i=a)&&lx(t,a,n)),r}return o._value=e,o}function cx(t,e,n){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(e==null)return this.tween(r,null);if(typeof e!="function")throw new Error;return this.tween(r,ux(t,e,n??""))}function fx(t){return function(){this.textContent=t}}function dx(t){return function(){var e=t(this);this.textContent=e??""}}function hx(t){return this.tween("text",typeof t=="function"?dx(Mc(this,"text",t)):fx(t==null?"":t+""))}function px(t){return function(e){this.textContent=t.call(this,e)}}function vx(t){var e,n;function r(){var i=t.apply(this,arguments);return i!==n&&(e=(n=i)&&px(i)),e}return r._value=t,r}function gx(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(t==null)return this.tween(e,null);if(typeof t!="function")throw new Error;return this.tween(e,vx(t))}function mx(){for(var t=this._name,e=this._id,n=zv(),r=this._groups,i=r.length,o=0;o<i;++o)for(var a=r[o],s=a.length,l,u=0;u<s;++u)if(l=a[u]){var c=nn(l,e);Ts(l,t,n,u,a,{time:c.time+c.delay+c.duration,delay:0,duration:c.duration,ease:c.ease})}return new Fn(r,this._parents,t,n)}function yx(){var t,e,n=this,r=n._id,i=n.size();return new Promise(function(o,a){var s={value:a},l={value:function(){--i===0&&o()}};n.each(function(){var u=bn(this,r),c=u.on;c!==t&&(e=(t=c).copy(),e._.cancel.push(s),e._.interrupt.push(s),e._.end.push(l)),u.on=e}),i===0&&o()})}var _x=0;function Fn(t,e,n,r){this._groups=t,this._parents=e,this._name=n,this._id=r}function zv(){return++_x}var Cn=Eo.prototype;Fn.prototype={constructor:Fn,select:Qw,selectAll:tx,selectChild:Cn.selectChild,selectChildren:Cn.selectChildren,filter:Ww,merge:Uw,selection:nx,transition:mx,call:Cn.call,nodes:Cn.nodes,node:Cn.node,size:Cn.size,empty:Cn.empty,each:Cn.each,on:Kw,attr:Pw,attrTween:Aw,style:sx,styleTween:cx,text:hx,textTween:gx,remove:Jw,tween:Sw,delay:zw,duration:Lw,ease:Hw,easeVarying:Xw,end:yx,[Symbol.iterator]:Cn[Symbol.iterator]};function bx(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var wx={time:null,delay:0,duration:250,ease:bx};function xx(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return n}function Sx(t){var e,n;t instanceof Fn?(e=t._id,t=t._name):(e=zv(),(n=wx).time=Ec(),t=t==null?null:t+"");for(var r=this._groups,i=r.length,o=0;o<i;++o)for(var a=r[o],s=a.length,l,u=0;u<s;++u)(l=a[u])&&Ts(l,t,e,u,a,n||xx(l,e));return new Fn(r,this._parents,t,e)}Eo.prototype.interrupt=bw;Eo.prototype.transition=Sx;const Xo=t=>()=>t;function Ex(t,{sourceEvent:e,target:n,transform:r,dispatch:i}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:i}})}function Nn(t,e,n){this.k=t,this.x=e,this.y=n}Nn.prototype={constructor:Nn,scale:function(t){return t===1?this:new Nn(this.k*t,this.x,this.y)},translate:function(t,e){return t===0&e===0?this:new Nn(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var hi=new Nn(1,0,0);Nn.prototype;function _l(t){t.stopImmediatePropagation()}function Mi(t){t.preventDefault(),t.stopImmediatePropagation()}function Cx(t){return(!t.ctrlKey||t.type==="wheel")&&!t.button}function Mx(){var t=this;return t instanceof SVGElement?(t=t.ownerSVGElement||t,t.hasAttribute("viewBox")?(t=t.viewBox.baseVal,[[t.x,t.y],[t.x+t.width,t.y+t.height]]):[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]):[[0,0],[t.clientWidth,t.clientHeight]]}function wd(){return this.__zoom||hi}function Dx(t){return-t.deltaY*(t.deltaMode===1?.05:t.deltaMode?1:.002)*(t.ctrlKey?10:1)}function $x(){return navigator.maxTouchPoints||"ontouchstart"in this}function Tx(t,e,n){var r=t.invertX(e[0][0])-n[0][0],i=t.invertX(e[1][0])-n[1][0],o=t.invertY(e[0][1])-n[0][1],a=t.invertY(e[1][1])-n[1][1];return t.translate(i>r?(r+i)/2:Math.min(0,r)||Math.max(0,i),a>o?(o+a)/2:Math.min(0,o)||Math.max(0,a))}function Px(){var t=Cx,e=Mx,n=Tx,r=Dx,i=$x,o=[0,1/0],a=[[-1/0,-1/0],[1/0,1/0]],s=250,l=va,u=Ms("start","zoom","end"),c,f,d,h=500,p=150,v=0,m=10;function g(y){y.property("__zoom",wd).on("wheel.zoom",A,{passive:!1}).on("mousedown.zoom",O).on("dblclick.zoom",N).filter(i).on("touchstart.zoom",F).on("touchmove.zoom",S).on("touchend.zoom touchcancel.zoom",G).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}g.transform=function(y,R,M,L){var k=y.selection?y.selection():y;k.property("__zoom",wd),y!==k?D(y,R,M,L):k.interrupt().each(function(){$(this,arguments).event(L).start().zoom(null,typeof R=="function"?R.apply(this,arguments):R).end()})},g.scaleBy=function(y,R,M,L){g.scaleTo(y,function(){var k=this.__zoom.k,z=typeof R=="function"?R.apply(this,arguments):R;return k*z},M,L)},g.scaleTo=function(y,R,M,L){g.transform(y,function(){var k=e.apply(this,arguments),z=this.__zoom,V=M==null?w(k):typeof M=="function"?M.apply(this,arguments):M,Y=z.invert(V),j=typeof R=="function"?R.apply(this,arguments):R;return n(_(b(z,j),V,Y),k,a)},M,L)},g.translateBy=function(y,R,M,L){g.transform(y,function(){return n(this.__zoom.translate(typeof R=="function"?R.apply(this,arguments):R,typeof M=="function"?M.apply(this,arguments):M),e.apply(this,arguments),a)},null,L)},g.translateTo=function(y,R,M,L,k){g.transform(y,function(){var z=e.apply(this,arguments),V=this.__zoom,Y=L==null?w(z):typeof L=="function"?L.apply(this,arguments):L;return n(hi.translate(Y[0],Y[1]).scale(V.k).translate(typeof R=="function"?-R.apply(this,arguments):-R,typeof M=="function"?-M.apply(this,arguments):-M),z,a)},L,k)};function b(y,R){return R=Math.max(o[0],Math.min(o[1],R)),R===y.k?y:new Nn(R,y.x,y.y)}function _(y,R,M){var L=R[0]-M[0]*y.k,k=R[1]-M[1]*y.k;return L===y.x&&k===y.y?y:new Nn(y.k,L,k)}function w(y){return[(+y[0][0]+ +y[1][0])/2,(+y[0][1]+ +y[1][1])/2]}function D(y,R,M,L){y.on("start.zoom",function(){$(this,arguments).event(L).start()}).on("interrupt.zoom end.zoom",function(){$(this,arguments).event(L).end()}).tween("zoom",function(){var k=this,z=arguments,V=$(k,z).event(L),Y=e.apply(k,z),j=M==null?w(Y):typeof M=="function"?M.apply(k,z):M,rt=Math.max(Y[1][0]-Y[0][0],Y[1][1]-Y[0][1]),Z=k.__zoom,J=typeof R=="function"?R.apply(k,z):R,tt=l(Z.invert(j).concat(rt/Z.k),J.invert(j).concat(rt/J.k));return function(it){if(it===1)it=J;else{var at=tt(it),ot=rt/at[2];it=new Nn(ot,j[0]-at[0]*ot,j[1]-at[1]*ot)}V.zoom(null,it)}})}function $(y,R,M){return!M&&y.__zooming||new E(y,R)}function E(y,R){this.that=y,this.args=R,this.active=0,this.sourceEvent=null,this.extent=e.apply(y,R),this.taps=0}E.prototype={event:function(y){return y&&(this.sourceEvent=y),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(y,R){return this.mouse&&y!=="mouse"&&(this.mouse[1]=R.invert(this.mouse[0])),this.touch0&&y!=="touch"&&(this.touch0[1]=R.invert(this.touch0[0])),this.touch1&&y!=="touch"&&(this.touch1[1]=R.invert(this.touch1[0])),this.that.__zoom=R,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(y){var R=We(this.that).datum();u.call(y,this.that,new Ex(y,{sourceEvent:this.sourceEvent,target:g,transform:this.that.__zoom,dispatch:u}),R)}};function A(y,...R){if(!t.apply(this,arguments))return;var M=$(this,R).event(y),L=this.__zoom,k=Math.max(o[0],Math.min(o[1],L.k*Math.pow(2,r.apply(this,arguments)))),z=sn(y);if(M.wheel)(M.mouse[0][0]!==z[0]||M.mouse[0][1]!==z[1])&&(M.mouse[1]=L.invert(M.mouse[0]=z)),clearTimeout(M.wheel);else{if(L.k===k)return;M.mouse=[z,L.invert(z)],ya(this),M.start()}Mi(y),M.wheel=setTimeout(V,p),M.zoom("mouse",n(_(b(L,k),M.mouse[0],M.mouse[1]),M.extent,a));function V(){M.wheel=null,M.end()}}function O(y,...R){if(d||!t.apply(this,arguments))return;var M=y.currentTarget,L=$(this,R,!0).event(y),k=We(y.view).on("mousemove.zoom",j,!0).on("mouseup.zoom",rt,!0),z=sn(y,M),V=y.clientX,Y=y.clientY;Ev(y.view),_l(y),L.mouse=[z,this.__zoom.invert(z)],ya(this),L.start();function j(Z){if(Mi(Z),!L.moved){var J=Z.clientX-V,tt=Z.clientY-Y;L.moved=J*J+tt*tt>v}L.event(Z).zoom("mouse",n(_(L.that.__zoom,L.mouse[0]=sn(Z,M),L.mouse[1]),L.extent,a))}function rt(Z){k.on("mousemove.zoom mouseup.zoom",null),Cv(Z.view,L.moved),Mi(Z),L.event(Z).end()}}function N(y,...R){if(t.apply(this,arguments)){var M=this.__zoom,L=sn(y.changedTouches?y.changedTouches[0]:y,this),k=M.invert(L),z=M.k*(y.shiftKey?.5:2),V=n(_(b(M,z),L,k),e.apply(this,R),a);Mi(y),s>0?We(this).transition().duration(s).call(D,V,L,y):We(this).call(g.transform,V,L,y)}}function F(y,...R){if(t.apply(this,arguments)){var M=y.touches,L=M.length,k=$(this,R,y.changedTouches.length===L).event(y),z,V,Y,j;for(_l(y),V=0;V<L;++V)Y=M[V],j=sn(Y,this),j=[j,this.__zoom.invert(j),Y.identifier],k.touch0?!k.touch1&&k.touch0[2]!==j[2]&&(k.touch1=j,k.taps=0):(k.touch0=j,z=!0,k.taps=1+!!c);c&&(c=clearTimeout(c)),z&&(k.taps<2&&(f=j[0],c=setTimeout(function(){c=null},h)),ya(this),k.start())}}function S(y,...R){if(this.__zooming){var M=$(this,R).event(y),L=y.changedTouches,k=L.length,z,V,Y,j;for(Mi(y),z=0;z<k;++z)V=L[z],Y=sn(V,this),M.touch0&&M.touch0[2]===V.identifier?M.touch0[0]=Y:M.touch1&&M.touch1[2]===V.identifier&&(M.touch1[0]=Y);if(V=M.that.__zoom,M.touch1){var rt=M.touch0[0],Z=M.touch0[1],J=M.touch1[0],tt=M.touch1[1],it=(it=J[0]-rt[0])*it+(it=J[1]-rt[1])*it,at=(at=tt[0]-Z[0])*at+(at=tt[1]-Z[1])*at;V=b(V,Math.sqrt(it/at)),Y=[(rt[0]+J[0])/2,(rt[1]+J[1])/2],j=[(Z[0]+tt[0])/2,(Z[1]+tt[1])/2]}else if(M.touch0)Y=M.touch0[0],j=M.touch0[1];else return;M.zoom("touch",n(_(V,Y,j),M.extent,a))}}function G(y,...R){if(this.__zooming){var M=$(this,R).event(y),L=y.changedTouches,k=L.length,z,V;for(_l(y),d&&clearTimeout(d),d=setTimeout(function(){d=null},h),z=0;z<k;++z)V=L[z],M.touch0&&M.touch0[2]===V.identifier?delete M.touch0:M.touch1&&M.touch1[2]===V.identifier&&delete M.touch1;if(M.touch1&&!M.touch0&&(M.touch0=M.touch1,delete M.touch1),M.touch0)M.touch0[1]=this.__zoom.invert(M.touch0[0]);else if(M.end(),M.taps===2&&(V=sn(V,this),Math.hypot(f[0]-V[0],f[1]-V[1])<m)){var Y=We(this).on("dblclick.zoom");Y&&Y.apply(this,arguments)}}}return g.wheelDelta=function(y){return arguments.length?(r=typeof y=="function"?y:Xo(+y),g):r},g.filter=function(y){return arguments.length?(t=typeof y=="function"?y:Xo(!!y),g):t},g.touchable=function(y){return arguments.length?(i=typeof y=="function"?y:Xo(!!y),g):i},g.extent=function(y){return arguments.length?(e=typeof y=="function"?y:Xo([[+y[0][0],+y[0][1]],[+y[1][0],+y[1][1]]]),g):e},g.scaleExtent=function(y){return arguments.length?(o[0]=+y[0],o[1]=+y[1],g):[o[0],o[1]]},g.translateExtent=function(y){return arguments.length?(a[0][0]=+y[0][0],a[1][0]=+y[1][0],a[0][1]=+y[0][1],a[1][1]=+y[1][1],g):[[a[0][0],a[0][1]],[a[1][0],a[1][1]]]},g.constrain=function(y){return arguments.length?(n=y,g):n},g.duration=function(y){return arguments.length?(s=+y,g):s},g.interpolate=function(y){return arguments.length?(l=y,g):l},g.on=function(){var y=u.on.apply(u,arguments);return y===u?g:y},g.clickDistance=function(y){return arguments.length?(v=(y=+y)*y,g):Math.sqrt(v)},g.tapDistance=function(y){return arguments.length?(m=+y,g):m},g}var ft=(t=>(t.Left="left",t.Top="top",t.Right="right",t.Bottom="bottom",t))(ft||{}),Dc=(t=>(t.Partial="partial",t.Full="full",t))(Dc||{}),br=(t=>(t.Bezier="default",t.SimpleBezier="simple-bezier",t.Straight="straight",t.Step="step",t.SmoothStep="smoothstep",t))(br||{}),lr=(t=>(t.Strict="strict",t.Loose="loose",t))(lr||{}),Va=(t=>(t.Arrow="arrow",t.ArrowClosed="arrowclosed",t))(Va||{}),Ui=(t=>(t.Free="free",t.Vertical="vertical",t.Horizontal="horizontal",t))(Ui||{});const Nx=["INPUT","SELECT","TEXTAREA"],Rx=typeof document<"u"?document:null;function fu(t){var e,n;const r=((n=(e=t.composedPath)==null?void 0:e.call(t))==null?void 0:n[0])||t.target,i=typeof(r==null?void 0:r.hasAttribute)=="function"?r.hasAttribute("contenteditable"):!1,o=typeof(r==null?void 0:r.closest)=="function"?r.closest(".nokey"):null;return Nx.includes(r==null?void 0:r.nodeName)||i||!!o}function Ox(t){return t.ctrlKey||t.metaKey||t.shiftKey||t.altKey}function xd(t,e,n,r){const i=e.replace("+",`
`).replace(`

`,`
+`).split(`
`).map(a=>a.trim().toLowerCase());if(i.length===1)return t.toLowerCase()===e.toLowerCase();r||n.add(t.toLowerCase());const o=i.every((a,s)=>n.has(a)&&Array.from(n.values())[s]===i[s]);return r&&n.delete(t.toLowerCase()),o}function Ix(t,e){return n=>{if(!n.code&&!n.key)return!1;const r=Ax(n.code,t);return Array.isArray(t)?t.some(i=>xd(n[r],i,e,n.type==="keyup")):xd(n[r],t,e,n.type==="keyup")}}function Ax(t,e){return e.includes(t)?"code":"key"}function qi(t,e){const n=vt(()=>Mt(e==null?void 0:e.target)??Rx),r=$a(Mt(t)===!0);let i=!1;const o=new Set;let a=l(Mt(t));Rt(()=>Mt(t),(u,c)=>{typeof c=="boolean"&&typeof u!="boolean"&&s(),a=l(u)},{immediate:!0}),fv(["blur","contextmenu"],s),id((...u)=>a(...u),u=>{var c,f;const d=Mt(e==null?void 0:e.actInsideInputWithModifier)??!0,h=Mt(e==null?void 0:e.preventDefault)??!1;if(i=Ox(u),(!i||i&&!d)&&fu(u))return;const v=((f=(c=u.composedPath)==null?void 0:c.call(u))==null?void 0:f[0])||u.target,m=(v==null?void 0:v.nodeName)==="BUTTON"||(v==null?void 0:v.nodeName)==="A";!h&&(i||!m)&&u.preventDefault(),r.value=!0},{eventName:"keydown",target:n}),id((...u)=>a(...u),u=>{const c=Mt(e==null?void 0:e.actInsideInputWithModifier)??!0;if(r.value){if((!i||i&&!c)&&fu(u))return;i=!1,r.value=!1}},{eventName:"keyup",target:n});function s(){i=!1,o.clear(),r.value=Mt(t)===!0}function l(u){return u===null?(s(),()=>!1):typeof u=="boolean"?(s(),r.value=u,()=>!1):Array.isArray(u)||typeof u=="string"?Ix(u,o):u}return r}const Fv="vue-flow__node-desc",Gv="vue-flow__edge-desc",kx="vue-flow__aria-live",Lv=["Enter"," ","Escape"],ai={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}};function Ha(t){return{...t.computedPosition||{x:0,y:0},width:t.dimensions.width||0,height:t.dimensions.height||0}}function Ya(t,e){const n=Math.max(0,Math.min(t.x+t.width,e.x+e.width)-Math.max(t.x,e.x)),r=Math.max(0,Math.min(t.y+t.height,e.y+e.height)-Math.max(t.y,e.y));return Math.ceil(n*r)}function Ps(t){return{width:t.offsetWidth,height:t.offsetHeight}}function Ar(t,e=0,n=1){return Math.min(Math.max(t,e),n)}function Vv(t,e){return{x:Ar(t.x,e[0][0],e[1][0]),y:Ar(t.y,e[0][1],e[1][1])}}function Sd(t){const e=t.getRootNode();return"elementFromPoint"in e?e:window.document}function ur(t){return t&&typeof t=="object"&&"id"in t&&"source"in t&&"target"in t}function Nr(t){return t&&typeof t=="object"&&"id"in t&&"position"in t&&!ur(t)}function Ii(t){return Nr(t)&&"computedPosition"in t}function Wo(t){return!Number.isNaN(t)&&Number.isFinite(t)}function Bx(t){return Wo(t.width)&&Wo(t.height)&&Wo(t.x)&&Wo(t.y)}function zx(t,e,n){const r={id:t.id.toString(),type:t.type??"default",dimensions:fn({width:0,height:0}),computedPosition:fn({z:0,...t.position}),handleBounds:{source:[],target:[]},draggable:void 0,selectable:void 0,connectable:void 0,focusable:void 0,selected:!1,dragging:!1,resizing:!1,initialized:!1,isParent:!1,position:{x:0,y:0},data:Zt(t.data)?t.data:{},events:fn(Zt(t.events)?t.events:{})};return Object.assign(e??r,t,{id:t.id.toString(),parentNode:n})}function Hv(t,e,n){var r,i;const o={id:t.id.toString(),type:t.type??(e==null?void 0:e.type)??"default",source:t.source.toString(),target:t.target.toString(),sourceHandle:(r=t.sourceHandle)==null?void 0:r.toString(),targetHandle:(i=t.targetHandle)==null?void 0:i.toString(),updatable:t.updatable??(n==null?void 0:n.updatable),selectable:t.selectable??(n==null?void 0:n.selectable),focusable:t.focusable??(n==null?void 0:n.focusable),data:Zt(t.data)?t.data:{},events:fn(Zt(t.events)?t.events:{}),label:t.label??"",interactionWidth:t.interactionWidth??(n==null?void 0:n.interactionWidth),...n??{}};return Object.assign(e??o,t,{id:t.id.toString()})}function Yv(t,e,n,r){const i=typeof t=="string"?t:t.id,o=new Set,a=r==="source"?"target":"source";for(const s of n)s[a]===i&&o.add(s[r]);return e.filter(s=>o.has(s.id))}function Fx(...t){if(t.length===3){const[o,a,s]=t;return Yv(o,a,s,"target")}const[e,n]=t,r=typeof e=="string"?e:e.id;return n.filter(o=>ur(o)&&o.source===r).map(o=>n.find(a=>Nr(a)&&a.id===o.target))}function Gx(...t){if(t.length===3){const[o,a,s]=t;return Yv(o,a,s,"source")}const[e,n]=t,r=typeof e=="string"?e:e.id;return n.filter(o=>ur(o)&&o.target===r).map(o=>n.find(a=>Nr(a)&&a.id===o.source))}function Xv({source:t,sourceHandle:e,target:n,targetHandle:r}){return`vueflow__edge-${t}${e??""}-${n}${r??""}`}function Lx(t,e){return e.some(n=>ur(n)&&n.source===t.source&&n.target===t.target&&(n.sourceHandle===t.sourceHandle||!n.sourceHandle&&!t.sourceHandle)&&(n.targetHandle===t.targetHandle||!n.targetHandle&&!t.targetHandle))}function du({x:t,y:e},{x:n,y:r,zoom:i}){return{x:t*i+n,y:e*i+r}}function uo({x:t,y:e},{x:n,y:r,zoom:i},o=!1,a=[1,1]){const s={x:(t-n)/i,y:(e-r)/i};return o?Ns(s,a):s}function Wv(t,e){return{x:Math.min(t.x,e.x),y:Math.min(t.y,e.y),x2:Math.max(t.x2,e.x2),y2:Math.max(t.y2,e.y2)}}function Xa({x:t,y:e,width:n,height:r}){return{x:t,y:e,x2:t+n,y2:e+r}}function Uv({x:t,y:e,x2:n,y2:r}){return{x:t,y:e,width:n-t,height:r-e}}function Vx(t,e){return Uv(Wv(Xa(t),Xa(e)))}function $c(t){let e={x:Number.POSITIVE_INFINITY,y:Number.POSITIVE_INFINITY,x2:Number.NEGATIVE_INFINITY,y2:Number.NEGATIVE_INFINITY};for(let n=0;n<t.length;n++){const r=t[n];e=Wv(e,Xa({...r.computedPosition,...r.dimensions}))}return Uv(e)}function qv(t,e,n={x:0,y:0,zoom:1},r=!1,i=!1){const o={...uo(e,n),width:e.width/n.zoom,height:e.height/n.zoom},a=[];for(const s of t){const{dimensions:l,selectable:u=!0,hidden:c=!1}=s,f=l.width??s.width??null,d=l.height??s.height??null;if(i&&!u||c)continue;const h=Ya(o,Ha(s)),p=f===null||d===null,v=r&&h>0,m=(f??0)*(d??0);(p||v||h>=m||s.dragging)&&a.push(s)}return a}function wr(t,e){const n=new Set;if(typeof t=="string")n.add(t);else if(t.length>=1)for(const r of t)n.add(r.id);return e.filter(r=>n.has(r.source)||n.has(r.target))}function Ed(t,e,n,r,i,o=.1,a={x:0,y:0}){const s=e/(t.width*(1+o)),l=n/(t.height*(1+o)),u=Math.min(s,l),c=Ar(u,r,i),f=t.x+t.width/2,d=t.y+t.height/2,h=e/2-f*c+(a.x??0),p=n/2-d*c+(a.y??0);return{x:h,y:p,zoom:c}}function Hx(t,e){return{x:e.x+t.x,y:e.y+t.y,z:(t.z>e.z?t.z:e.z)+1}}function jv(t,e){if(!t.parentNode)return!1;const n=e(t.parentNode);return n?n.selected?!0:jv(n,e):!1}function co(t,e){return typeof t>"u"?"":typeof t=="string"?t:`${e?`${e}__`:""}${Object.keys(t).sort().map(r=>`${r}=${t[r]}`).join("&")}`}function Cd(t,e,n){return t<e?Ar(Math.abs(t-e),1,e)/e:t>n?-Ar(Math.abs(t-n),1,e)/e:0}function Kv(t,e,n=15,r=40){const i=Cd(t.x,r,e.width-r)*n,o=Cd(t.y,r,e.height-r)*n;return[i,o]}function bl(t,e){if(e){const n=t.position.x+t.dimensions.width-e.dimensions.width,r=t.position.y+t.dimensions.height-e.dimensions.height;if(n>0||r>0||t.position.x<0||t.position.y<0){let i={};if(typeof e.style=="function"?i={...e.style(e)}:e.style&&(i={...e.style}),i.width=i.width??`${e.dimensions.width}px`,i.height=i.height??`${e.dimensions.height}px`,n>0)if(typeof i.width=="string"){const o=Number(i.width.replace("px",""));i.width=`${o+n}px`}else i.width+=n;if(r>0)if(typeof i.height=="string"){const o=Number(i.height.replace("px",""));i.height=`${o+r}px`}else i.height+=r;if(t.position.x<0){const o=Math.abs(t.position.x);if(e.position.x=e.position.x-o,typeof i.width=="string"){const a=Number(i.width.replace("px",""));i.width=`${a+o}px`}else i.width+=o;t.position.x=0}if(t.position.y<0){const o=Math.abs(t.position.y);if(e.position.y=e.position.y-o,typeof i.height=="string"){const a=Number(i.height.replace("px",""));i.height=`${a+o}px`}else i.height+=o;t.position.y=0}e.dimensions.width=Number(i.width.toString().replace("px","")),e.dimensions.height=Number(i.height.toString().replace("px","")),typeof e.style=="function"?e.style=o=>{const a=e.style;return{...a(o),...i}}:e.style={...e.style,...i}}}}function Wa(t,e){var n,r;const i=t.filter(a=>a.type==="add"||a.type==="remove");for(const a of i)if(a.type==="add")e.findIndex(l=>l.id===a.item.id)===-1&&e.push(a.item);else if(a.type==="remove"){const s=e.findIndex(l=>l.id===a.id);s!==-1&&e.splice(s,1)}const o=e.map(a=>a.id);for(const a of e)for(const s of t)if(s.id===a.id)switch(s.type){case"select":a.selected=s.selected;break;case"position":if(Ii(a)&&(typeof s.position<"u"&&(a.position=s.position),typeof s.dragging<"u"&&(a.dragging=s.dragging),a.expandParent&&a.parentNode)){const l=e[o.indexOf(a.parentNode)];l&&Ii(l)&&bl(a,l)}break;case"dimensions":if(Ii(a)&&(typeof s.dimensions<"u"&&(a.dimensions=s.dimensions),typeof s.updateStyle<"u"&&s.updateStyle&&(a.style={...a.style||{},width:`${(n=s.dimensions)==null?void 0:n.width}px`,height:`${(r=s.dimensions)==null?void 0:r.height}px`}),typeof s.resizing<"u"&&(a.resizing=s.resizing),a.expandParent&&a.parentNode)){const l=e[o.indexOf(a.parentNode)];l&&Ii(l)&&(!!l.dimensions.width&&!!l.dimensions.height?bl(a,l):Ze(()=>{bl(a,l)}))}break}return e}function Yx(t,e){return Wa(t,e)}function Xx(t,e){return Wa(t,e)}function qn(t,e){return{id:t,type:"select",selected:e}}function Md(t){return{item:t,type:"add"}}function Dd(t){return{id:t,type:"remove"}}function $d(t,e,n,r,i){return{id:t,source:e,target:n,sourceHandle:r||null,targetHandle:i||null,type:"remove"}}function Qn(t,e=new Set,n=!1){const r=[];for(const[i,o]of t){const a=e.has(i);!(o.selected===void 0&&!a)&&o.selected!==a&&(n&&(o.selected=a),r.push(qn(o.id,a)))}return r}function ut(t){const e=new Set;let n=!1;const r=()=>e.size>0;t&&(n=!0,e.add(t));const i=s=>{e.delete(s)};return{on:s=>{t&&n&&e.delete(t),e.add(s);const l=()=>{i(s),t&&n&&e.add(t)};return Cs(l),{off:l}},off:i,trigger:s=>Promise.all(Array.from(e).map(l=>l(s))),hasListeners:r,fns:e}}function Td(t,e,n){let r=t;do{if(r&&r.matches(e))return!0;if(r===n)return!1;r=r.parentElement}while(r);return!1}function Wx(t,e,n,r,i){var o,a;const s=[];for(const l of t)(l.selected||l.id===i)&&(!l.parentNode||!jv(l,r))&&(l.draggable||e&&typeof l.draggable>"u")&&s.push(fn({id:l.id,position:l.position||{x:0,y:0},distance:{x:n.x-((o=l.computedPosition)==null?void 0:o.x)||0,y:n.y-((a=l.computedPosition)==null?void 0:a.y)||0},from:l.computedPosition,extent:l.extent,parentNode:l.parentNode,dimensions:l.dimensions,expandParent:l.expandParent}));return s}function wl({id:t,dragItems:e,findNode:n}){const r=[];for(const i of e){const o=n(i.id);o&&r.push(o)}return[t?r.find(i=>i.id===t):r[0],r]}function Zv(t){if(Array.isArray(t))switch(t.length){case 1:return[t[0],t[0],t[0],t[0]];case 2:return[t[0],t[1],t[0],t[1]];case 3:return[t[0],t[1],t[2],t[1]];case 4:return t;default:return[0,0,0,0]}return[t,t,t,t]}function Ux(t,e,n){const[r,i,o,a]=typeof t!="string"?Zv(t.padding):[0,0,0,0];return n&&typeof n.computedPosition.x<"u"&&typeof n.computedPosition.y<"u"&&typeof n.dimensions.width<"u"&&typeof n.dimensions.height<"u"?[[n.computedPosition.x+a,n.computedPosition.y+r],[n.computedPosition.x+n.dimensions.width-i,n.computedPosition.y+n.dimensions.height-o]]:!1}function qx(t,e,n,r){let i=t.extent||n;if((i==="parent"||!Array.isArray(i)&&(i==null?void 0:i.range)==="parent")&&!t.expandParent)if(t.parentNode&&r&&t.dimensions.width&&t.dimensions.height){const o=Ux(i,t,r);o&&(i=o)}else e(new ee(te.NODE_EXTENT_INVALID,t.id)),i=n;else if(Array.isArray(i)){const o=(r==null?void 0:r.computedPosition.x)||0,a=(r==null?void 0:r.computedPosition.y)||0;i=[[i[0][0]+o,i[0][1]+a],[i[1][0]+o,i[1][1]+a]]}else if(i!=="parent"&&(i!=null&&i.range)&&Array.isArray(i.range)){const[o,a,s,l]=Zv(i.padding),u=(r==null?void 0:r.computedPosition.x)||0,c=(r==null?void 0:r.computedPosition.y)||0;i=[[i.range[0][0]+u+l,i.range[0][1]+c+o],[i.range[1][0]+u-a,i.range[1][1]+c-s]]}return i==="parent"?[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]]:i}function jx({width:t,height:e},n){return[n[0],[n[1][0]-(t||0),n[1][1]-(e||0)]]}function Tc(t,e,n,r,i){const o=jx(t.dimensions,qx(t,n,r,i)),a=Vv(e,o);return{position:{x:a.x-((i==null?void 0:i.computedPosition.x)||0),y:a.y-((i==null?void 0:i.computedPosition.y)||0)},computedPosition:a}}function pi(t,e,n=ft.Left,r=!1){const i=((e==null?void 0:e.x)??0)+t.computedPosition.x,o=((e==null?void 0:e.y)??0)+t.computedPosition.y,{width:a,height:s}=e??Qx(t);if(r)return{x:i+a/2,y:o+s/2};switch((e==null?void 0:e.position)??n){case ft.Top:return{x:i+a/2,y:o};case ft.Right:return{x:i+a,y:o+s/2};case ft.Bottom:return{x:i+a/2,y:o+s};case ft.Left:return{x:i,y:o+s/2}}}function Pd(t,e){return t&&(e?t.find(n=>n.id===e):t[0])||null}function Kx({sourcePos:t,targetPos:e,sourceWidth:n,sourceHeight:r,targetWidth:i,targetHeight:o,width:a,height:s,viewport:l}){const u={x:Math.min(t.x,e.x),y:Math.min(t.y,e.y),x2:Math.max(t.x+n,e.x+i),y2:Math.max(t.y+r,e.y+o)};u.x===u.x2&&(u.x2+=1),u.y===u.y2&&(u.y2+=1);const c=Xa({x:(0-l.x)/l.zoom,y:(0-l.y)/l.zoom,width:a/l.zoom,height:s/l.zoom}),f=Math.max(0,Math.min(c.x2,u.x2)-Math.max(c.x,u.x)),d=Math.max(0,Math.min(c.y2,u.y2)-Math.max(c.y,u.y));return Math.ceil(f*d)>0}function Zx(t,e,n=!1){const r=typeof t.zIndex=="number";let i=r?t.zIndex:0;const o=e(t.source),a=e(t.target);return!o||!a?0:(n&&(i=r?t.zIndex:Math.max(o.computedPosition.z||0,a.computedPosition.z||0)),i)}var te=(t=>(t.MISSING_STYLES="MISSING_STYLES",t.MISSING_VIEWPORT_DIMENSIONS="MISSING_VIEWPORT_DIMENSIONS",t.NODE_INVALID="NODE_INVALID",t.NODE_NOT_FOUND="NODE_NOT_FOUND",t.NODE_MISSING_PARENT="NODE_MISSING_PARENT",t.NODE_TYPE_MISSING="NODE_TYPE_MISSING",t.NODE_EXTENT_INVALID="NODE_EXTENT_INVALID",t.EDGE_INVALID="EDGE_INVALID",t.EDGE_NOT_FOUND="EDGE_NOT_FOUND",t.EDGE_SOURCE_MISSING="EDGE_SOURCE_MISSING",t.EDGE_TARGET_MISSING="EDGE_TARGET_MISSING",t.EDGE_TYPE_MISSING="EDGE_TYPE_MISSING",t.EDGE_SOURCE_TARGET_SAME="EDGE_SOURCE_TARGET_SAME",t.EDGE_SOURCE_TARGET_MISSING="EDGE_SOURCE_TARGET_MISSING",t.EDGE_ORPHANED="EDGE_ORPHANED",t.USEVUEFLOW_OPTIONS="USEVUEFLOW_OPTIONS",t))(te||{});const Nd={MISSING_STYLES:()=>"It seems that you haven't loaded the necessary styles. Please import '@vue-flow/core/dist/style.css' to ensure that the graph is rendered correctly",MISSING_VIEWPORT_DIMENSIONS:()=>"The Vue Flow parent container needs a width and a height to render the graph",NODE_INVALID:t=>`Node is invalid
Node: ${t}`,NODE_NOT_FOUND:t=>`Node not found
Node: ${t}`,NODE_MISSING_PARENT:(t,e)=>`Node is missing a parent
Node: ${t}
Parent: ${e}`,NODE_TYPE_MISSING:t=>`Node type is missing
Type: ${t}`,NODE_EXTENT_INVALID:t=>`Only child nodes can use a parent extent
Node: ${t}`,EDGE_INVALID:t=>`An edge needs a source and a target
Edge: ${t}`,EDGE_SOURCE_MISSING:(t,e)=>`Edge source is missing
Edge: ${t} 
Source: ${e}`,EDGE_TARGET_MISSING:(t,e)=>`Edge target is missing
Edge: ${t} 
Target: ${e}`,EDGE_TYPE_MISSING:t=>`Edge type is missing
Type: ${t}`,EDGE_SOURCE_TARGET_SAME:(t,e,n)=>`Edge source and target are the same
Edge: ${t} 
Source: ${e} 
Target: ${n}`,EDGE_SOURCE_TARGET_MISSING:(t,e,n)=>`Edge source or target is missing
Edge: ${t} 
Source: ${e} 
Target: ${n}`,EDGE_ORPHANED:t=>`Edge was orphaned (suddenly missing source or target) and has been removed
Edge: ${t}`,EDGE_NOT_FOUND:t=>`Edge not found
Edge: ${t}`,USEVUEFLOW_OPTIONS:()=>"The options parameter is deprecated and will be removed in the next major version. Please use the id parameter instead"};class ee extends Error{constructor(e,...n){var r;super((r=Nd[e])==null?void 0:r.call(Nd,...n)),this.name="VueFlowError",this.code=e,this.args=n}}function Pc(t){return"clientX"in t}function Jx(t){return"sourceEvent"in t}function cn(t,e){const n=Pc(t);let r,i;return n?(r=t.clientX,i=t.clientY):"touches"in t&&t.touches.length>0?(r=t.touches[0].clientX,i=t.touches[0].clientY):"changedTouches"in t&&t.changedTouches.length>0?(r=t.changedTouches[0].clientX,i=t.changedTouches[0].clientY):(r=0,i=0),{x:r-((e==null?void 0:e.left)??0),y:i-((e==null?void 0:e.top)??0)}}const Ua=()=>{var t;return typeof navigator<"u"&&((t=navigator==null?void 0:navigator.userAgent)==null?void 0:t.indexOf("Mac"))>=0};function Qx(t){var e,n;return{width:((e=t.dimensions)==null?void 0:e.width)??t.width??0,height:((n=t.dimensions)==null?void 0:n.height)??t.height??0}}function Ns(t,e=[1,1]){return{x:e[0]*Math.round(t.x/e[0]),y:e[1]*Math.round(t.y/e[1])}}const tS=()=>!0;function xl(t){t==null||t.classList.remove("valid","connecting","vue-flow__handle-valid","vue-flow__handle-connecting")}function eS(t,e,n){const r=[],i={x:t.x-n,y:t.y-n,width:n*2,height:n*2};for(const o of e.values())Ya(i,Ha(o))>0&&r.push(o);return r}const nS=250;function rS(t,e,n,r){var i,o;let a=[],s=Number.POSITIVE_INFINITY;const l=eS(t,n,e+nS);for(const u of l){const c=[...((i=u.handleBounds)==null?void 0:i.source)??[],...((o=u.handleBounds)==null?void 0:o.target)??[]];for(const f of c){if(r.nodeId===f.nodeId&&r.type===f.type&&r.id===f.id)continue;const{x:d,y:h}=pi(u,f,f.position,!0),p=Math.sqrt((d-t.x)**2+(h-t.y)**2);p>e||(p<s?(a=[{...f,x:d,y:h}],s=p):p===s&&a.push({...f,x:d,y:h}))}}if(!a.length)return null;if(a.length>1){const u=r.type==="source"?"target":"source";return a.find(c=>c.type===u)??a[0]}return a[0]}function Rd(t,{handle:e,connectionMode:n,fromNodeId:r,fromHandleId:i,fromType:o,doc:a,lib:s,flowId:l,isValidConnection:u=tS},c,f,d){const h=o==="target",p=e?a.querySelector(`.${s}-flow__handle[data-id="${l}-${e==null?void 0:e.nodeId}-${e==null?void 0:e.id}-${e==null?void 0:e.type}"]`):null,{x:v,y:m}=cn(t),g=a.elementFromPoint(v,m),b=g!=null&&g.classList.contains(`${s}-flow__handle`)?g:p,_={handleDomNode:b,isValid:!1,connection:null,toHandle:null};if(b){const w=Jv(void 0,b),D=b.getAttribute("data-nodeid"),$=b.getAttribute("data-handleid"),E=b.classList.contains("connectable"),A=b.classList.contains("connectableend");if(!D||!w)return _;const O={source:h?D:r,sourceHandle:h?$:i,target:h?r:D,targetHandle:h?i:$};_.connection=O;const F=E&&A&&(n===lr.Strict?h&&w==="source"||!h&&w==="target":D!==r||$!==i);_.isValid=F&&u(O,{nodes:f,edges:c,sourceNode:d(r),targetNode:d(D)}),_.toHandle=e}return _}function Jv(t,e){return t||(e!=null&&e.classList.contains("target")?"target":e!=null&&e.classList.contains("source")?"source":null)}function iS(t,e){let n=null;return e?n="valid":t&&!e&&(n="invalid"),n}function oS(t,e){let n=null;return e?n=!0:t&&!e&&(n=!1),n}function aS(t,e,n,r,i,o=!1){var a,s,l;const u=r.get(t);if(!u)return null;const c=i===lr.Strict?(a=u.handleBounds)==null?void 0:a[e]:[...((s=u.handleBounds)==null?void 0:s.source)??[],...((l=u.handleBounds)==null?void 0:l.target)??[]],f=(n?c==null?void 0:c.find(d=>d.id===n):c==null?void 0:c[0])??null;return f&&o?{...f,...pi(u,f,f.position,!0)}:f}const hu={[ft.Left]:ft.Right,[ft.Right]:ft.Left,[ft.Top]:ft.Bottom,[ft.Bottom]:ft.Top},sS=["production","prod"];function Rs(t,...e){Qv()&&console.warn(`[Vue Flow]: ${t}`,...e)}function Qv(){return!sS.includes("production")}function Od(t,e,n,r,i){const o=e.querySelectorAll(`.vue-flow__handle.${t}`);return o!=null&&o.length?Array.from(o).map(a=>{const s=a.getBoundingClientRect();return{id:a.getAttribute("data-handleid"),type:t,nodeId:i,position:a.getAttribute("data-handlepos"),x:(s.left-n.left)/r,y:(s.top-n.top)/r,...Ps(a)}}):null}function pu(t,e,n,r,i,o=!1,a){i.value=!1,t.selected?(o||t.selected&&e)&&(r([t]),Ze(()=>{a.blur()})):n([t])}function Zt(t){return typeof et(t)<"u"}function lS(t,e,n,r){if(!t||!t.source||!t.target)return n(new ee(te.EDGE_INVALID,(t==null?void 0:t.id)??"[ID UNKNOWN]")),!1;let i;return ur(t)?i=t:i={...t,id:Xv(t)},i=Hv(i,void 0,r),Lx(i,e)?!1:i}function uS(t,e,n,r,i){if(!e.source||!e.target)return i(new ee(te.EDGE_INVALID,t.id)),!1;if(!n)return i(new ee(te.EDGE_NOT_FOUND,t.id)),!1;const{id:o,...a}=t;return{...a,id:r?Xv(e):o,source:e.source,target:e.target,sourceHandle:e.sourceHandle,targetHandle:e.targetHandle}}function Id(t,e,n){const r={},i=[];for(let o=0;o<t.length;++o){const a=t[o];if(!Nr(a)){n(new ee(te.NODE_INVALID,a==null?void 0:a.id)||`[ID UNKNOWN|INDEX ${o}]`);continue}const s=zx(a,e(a.id),a.parentNode);a.parentNode&&(r[a.parentNode]=!0),i[o]=s}for(const o of i){const a=e(o.parentNode)||i.find(s=>s.id===o.parentNode);o.parentNode&&!a&&n(new ee(te.NODE_MISSING_PARENT,o.id,o.parentNode)),(o.parentNode||r[o.id])&&(r[o.id]&&(o.isParent=!0),a&&(a.isParent=!0))}return i}function Ad(t,e,n,r,i,o){let a=i;const s=r.get(a)||new Map;r.set(a,s.set(n,e)),a=`${i}-${t}`;const l=r.get(a)||new Map;if(r.set(a,l.set(n,e)),o){a=`${i}-${t}-${o}`;const u=r.get(a)||new Map;r.set(a,u.set(n,e))}}function Sl(t,e,n){t.clear();for(const r of n){const{source:i,target:o,sourceHandle:a=null,targetHandle:s=null}=r,l={edgeId:r.id,source:i,target:o,sourceHandle:a,targetHandle:s},u=`${i}-${a}--${o}-${s}`,c=`${o}-${s}--${i}-${a}`;Ad("source",l,c,t,i,a),Ad("target",l,u,t,o,s)}}function kd(t,e){if(t.size!==e.size)return!1;for(const n of t)if(!e.has(n))return!1;return!0}function El(t,e,n,r,i,o,a,s){const l=[];for(const u of t){const c=ur(u)?u:lS(u,s,i,o);if(!c)continue;const f=n(c.source),d=n(c.target);if(!f||!d){i(new ee(te.EDGE_SOURCE_TARGET_MISSING,c.id,c.source,c.target));continue}if(!f){i(new ee(te.EDGE_SOURCE_MISSING,c.id,c.source));continue}if(!d){i(new ee(te.EDGE_TARGET_MISSING,c.id,c.target));continue}if(e&&!e(c,{edges:s,nodes:a,sourceNode:f,targetNode:d})){i(new ee(te.EDGE_INVALID,c.id));continue}const h=r(c.id);l.push({...Hv(c,h,o),sourceNode:f,targetNode:d})}return l}const Bd=Symbol("vueFlow"),tg=Symbol("nodeId"),eg=Symbol("nodeRef"),cS=Symbol("edgeId"),fS=Symbol("edgeRef"),Os=Symbol("slots");function ng(t){const{vueFlowRef:e,snapToGrid:n,snapGrid:r,noDragClassName:i,nodes:o,nodeExtent:a,nodeDragThreshold:s,viewport:l,autoPanOnNodeDrag:u,autoPanSpeed:c,nodesDraggable:f,panBy:d,findNode:h,multiSelectionActive:p,nodesSelectionActive:v,selectNodesOnDrag:m,removeSelectedElements:g,addSelectedNodes:b,updateNodePositions:_,emits:w}=Bt(),{onStart:D,onDrag:$,onStop:E,onClick:A,el:O,disabled:N,id:F,selectable:S,dragHandle:G}=t,y=$a(!1);let R=[],M,L=null,k={x:void 0,y:void 0},z={x:0,y:0},V=null,Y=!1,j=0,rt=!1;const Z=pS(),J=({x:lt,y:I})=>{k={x:lt,y:I};let B=!1;if(R=R.map(x=>{const C={x:lt-x.distance.x,y:I-x.distance.y},{computedPosition:P}=Tc(x,n.value?Ns(C,r.value):C,w.error,a.value,x.parentNode?h(x.parentNode):void 0);return B=B||x.position.x!==P.x||x.position.y!==P.y,x.position=P,x}),!!B&&(_(R,!0,!0),y.value=!0,V)){const[x,C]=wl({id:F,dragItems:R,findNode:h});$({event:V,node:x,nodes:C})}},tt=()=>{if(!L)return;const[lt,I]=Kv(z,L,c.value);if(lt!==0||I!==0){const B={x:(k.x??0)-lt/l.value.zoom,y:(k.y??0)-I/l.value.zoom};d({x:lt,y:I})&&J(B)}j=requestAnimationFrame(tt)},it=(lt,I)=>{Y=!0;const B=h(F);!m.value&&!p.value&&B&&(B.selected||g()),B&&Mt(S)&&m.value&&pu(B,p.value,b,g,v,!1,I);const x=Z(lt.sourceEvent);if(k=x,R=Wx(o.value,f.value,x,h,F),R.length){const[C,P]=wl({id:F,dragItems:R,findNode:h});D({event:lt.sourceEvent,node:C,nodes:P})}},at=(lt,I)=>{var B;lt.sourceEvent.type==="touchmove"&&lt.sourceEvent.touches.length>1||(s.value===0&&it(lt,I),k=Z(lt.sourceEvent),L=((B=e.value)==null?void 0:B.getBoundingClientRect())||null,z=cn(lt.sourceEvent,L))},ot=(lt,I)=>{const B=Z(lt.sourceEvent);if(!rt&&Y&&u.value&&(rt=!0,tt()),!Y){const x=B.xSnapped-(k.x??0),C=B.ySnapped-(k.y??0);Math.sqrt(x*x+C*C)>s.value&&it(lt,I)}(k.x!==B.xSnapped||k.y!==B.ySnapped)&&R.length&&Y&&(V=lt.sourceEvent,z=cn(lt.sourceEvent,L),J(B))},dt=lt=>{let I=!1;if(!Y&&!y.value&&!p.value){const B=lt.sourceEvent,x=Z(B),C=x.xSnapped-(k.x??0),P=x.ySnapped-(k.y??0),T=Math.sqrt(C*C+P*P);T!==0&&T<=s.value&&(A==null||A(B),I=!0)}if(R.length&&!I){_(R,!1,!1);const[B,x]=wl({id:F,dragItems:R,findNode:h});E({event:lt.sourceEvent,node:B,nodes:x})}R=[],y.value=!1,rt=!1,Y=!1,k={x:void 0,y:void 0},cancelAnimationFrame(j)};return Rt([()=>Mt(N),O],([lt,I],B,x)=>{if(I){const C=We(I);lt||(M=Bb().on("start",P=>at(P,I)).on("drag",P=>ot(P,I)).on("end",P=>dt(P)).filter(P=>{const T=P.target,H=Mt(G);return!P.button&&(!i.value||!Td(T,`.${i.value}`,I)&&(!H||Td(T,H,I)))}),C.call(M)),x(()=>{C.on(".drag",null),M&&(M.on("start",null),M.on("drag",null),M.on("end",null))})}}),y}function dS(){return{doubleClick:ut(),click:ut(),mouseEnter:ut(),mouseMove:ut(),mouseLeave:ut(),contextMenu:ut(),updateStart:ut(),update:ut(),updateEnd:ut()}}function hS(t,e){const n=dS();return n.doubleClick.on(r=>{var i,o;e.edgeDoubleClick(r),(o=(i=t.events)==null?void 0:i.doubleClick)==null||o.call(i,r)}),n.click.on(r=>{var i,o;e.edgeClick(r),(o=(i=t.events)==null?void 0:i.click)==null||o.call(i,r)}),n.mouseEnter.on(r=>{var i,o;e.edgeMouseEnter(r),(o=(i=t.events)==null?void 0:i.mouseEnter)==null||o.call(i,r)}),n.mouseMove.on(r=>{var i,o;e.edgeMouseMove(r),(o=(i=t.events)==null?void 0:i.mouseMove)==null||o.call(i,r)}),n.mouseLeave.on(r=>{var i,o;e.edgeMouseLeave(r),(o=(i=t.events)==null?void 0:i.mouseLeave)==null||o.call(i,r)}),n.contextMenu.on(r=>{var i,o;e.edgeContextMenu(r),(o=(i=t.events)==null?void 0:i.contextMenu)==null||o.call(i,r)}),n.updateStart.on(r=>{var i,o;e.edgeUpdateStart(r),(o=(i=t.events)==null?void 0:i.updateStart)==null||o.call(i,r)}),n.update.on(r=>{var i,o;e.edgeUpdate(r),(o=(i=t.events)==null?void 0:i.update)==null||o.call(i,r)}),n.updateEnd.on(r=>{var i,o;e.edgeUpdateEnd(r),(o=(i=t.events)==null?void 0:i.updateEnd)==null||o.call(i,r)}),Object.entries(n).reduce((r,[i,o])=>(r.emit[i]=o.trigger,r.on[i]=o.on,r),{emit:{},on:{}})}function pS(){const{viewport:t,snapGrid:e,snapToGrid:n,vueFlowRef:r}=Bt();return i=>{var o;const a=((o=r.value)==null?void 0:o.getBoundingClientRect())??{left:0,top:0},s=Jx(i)?i.sourceEvent:i,{x:l,y:u}=cn(s,a),c=uo({x:l,y:u},t.value),{x:f,y:d}=n.value?Ns(c,e.value):c;return{xSnapped:f,ySnapped:d,...c}}}function Uo(){return!0}function rg({handleId:t,nodeId:e,type:n,isValidConnection:r,edgeUpdaterType:i,onEdgeUpdate:o,onEdgeUpdateEnd:a}){const{id:s,vueFlowRef:l,connectionMode:u,connectionRadius:c,connectOnClick:f,connectionClickStartHandle:d,nodesConnectable:h,autoPanOnConnect:p,autoPanSpeed:v,findNode:m,panBy:g,startConnection:b,updateConnection:_,endConnection:w,emits:D,viewport:$,edges:E,nodes:A,isValidConnection:O,nodeLookup:N}=Bt();let F=null,S=!1,G=null;function y(M){var L;const k=Mt(n)==="target",z=Pc(M),V=Sd(M.target);if(z&&M.button===0||!z){let Y=function(Q){x=cn(Q,lt),J=rS(uo(x,$.value,!1,[1,1]),c.value,N.value,T),C||(P(),C=!0);const K=Rd(Q,{handle:J,connectionMode:u.value,fromNodeId:Mt(e),fromHandleId:Mt(t),fromType:k?"target":"source",isValidConnection:Z,doc:V,lib:"vue",flowId:s,nodeLookup:N.value},E.value,A.value,m);G=K.handleDomNode,F=K.connection,S=oS(!!J,K.isValid);const nt={...W,isValid:S,to:K.toHandle&&S?du({x:K.toHandle.x,y:K.toHandle.y},$.value):x,toHandle:K.toHandle,toPosition:S&&K.toHandle?K.toHandle.position:hu[T.position],toNode:K.toHandle?N.value.get(K.toHandle.nodeId):null};if(!(S&&J&&(W!=null&&W.toHandle)&&nt.toHandle&&W.toHandle.type===nt.toHandle.type&&W.toHandle.nodeId===nt.toHandle.nodeId&&W.toHandle.id===nt.toHandle.id&&W.to.x===nt.to.x&&W.to.y===nt.to.y)){if(_(J&&S?du({x:J.x,y:J.y},$.value):x,K.toHandle,iS(!!J,S)),W=nt,!J&&!S&&!G)return xl(B);F&&F.source!==F.target&&G&&(xl(B),B=G,G.classList.add("connecting","vue-flow__handle-connecting"),G.classList.toggle("valid",!!S),G.classList.toggle("vue-flow__handle-valid",!!S))}},j=function(Q){(J||G)&&F&&S&&(o?o(Q,F):D.connect(F)),D.connectEnd(Q),i&&(a==null||a(Q)),xl(B),cancelAnimationFrame(tt),w(Q),C=!1,S=!1,F=null,G=null,V.removeEventListener("mousemove",Y),V.removeEventListener("mouseup",j),V.removeEventListener("touchmove",Y),V.removeEventListener("touchend",j)};const rt=m(Mt(e));let Z=Mt(r)||O.value||Uo;!Z&&rt&&(Z=(k?rt.isValidSourcePos:rt.isValidTargetPos)||Uo);let J,tt=0;const{x:it,y:at}=cn(M),ot=V==null?void 0:V.elementFromPoint(it,at),dt=Jv(Mt(i),ot),lt=(L=l.value)==null?void 0:L.getBoundingClientRect();if(!lt||!dt)return;const I=aS(Mt(e),dt,Mt(t),N.value,u.value);if(!I)return;let B,x=cn(M,lt),C=!1;const P=()=>{if(!p.value)return;const[Q,K]=Kv(x,lt,v.value);g({x:Q,y:K}),tt=requestAnimationFrame(P)},T={...I,nodeId:Mt(e),type:dt,position:I.position},H=N.value.get(Mt(e)),U={inProgress:!0,isValid:null,from:pi(H,T,ft.Left,!0),fromHandle:T,fromPosition:T.position,fromNode:H,to:x,toHandle:null,toPosition:hu[T.position],toNode:null};b({nodeId:Mt(e),id:Mt(t),type:dt,position:(ot==null?void 0:ot.getAttribute("data-handlepos"))||ft.Top,...x},{x:it-lt.left,y:at-lt.top}),D.connectStart({event:M,nodeId:Mt(e),handleId:Mt(t),handleType:dt});let W=U;V.addEventListener("mousemove",Y),V.addEventListener("mouseup",j),V.addEventListener("touchmove",Y),V.addEventListener("touchend",j)}}function R(M){var L,k;if(!f.value)return;const z=Mt(n)==="target";if(!d.value){D.clickConnectStart({event:M,nodeId:Mt(e),handleId:Mt(t)}),b({nodeId:Mt(e),type:Mt(n),id:Mt(t),position:ft.Top,...cn(M)},void 0,!0);return}let V=Mt(r)||O.value||Uo;const Y=m(Mt(e));if(!V&&Y&&(V=(z?Y.isValidSourcePos:Y.isValidTargetPos)||Uo),Y&&(typeof Y.connectable>"u"?h.value:Y.connectable)===!1)return;const j=Sd(M.target),rt=Rd(M,{handle:{nodeId:Mt(e),id:Mt(t),type:Mt(n),position:ft.Top,...cn(M)},connectionMode:u.value,fromNodeId:d.value.nodeId,fromHandleId:d.value.id??null,fromType:d.value.type,isValidConnection:V,doc:j,lib:"vue",flowId:s,nodeLookup:N.value},E.value,A.value,m),Z=((L=rt.connection)==null?void 0:L.source)===((k=rt.connection)==null?void 0:k.target);rt.isValid&&rt.connection&&!Z&&D.connect(rt.connection),D.clickConnectEnd(M),w(M,!0)}return{handlePointerDown:y,handleClick:R}}function vS(){return Je(tg,"")}function ig(t){const e=t??vS()??"",n=Je(eg,bt(null)),{findNode:r,edges:i,emits:o}=Bt(),a=r(e);return a||o.error(new ee(te.NODE_NOT_FOUND,e)),{id:e,nodeEl:n,node:a,parentNode:vt(()=>r(a.parentNode)),connectedEdges:vt(()=>wr([a],i.value))}}function gS(){return{doubleClick:ut(),click:ut(),mouseEnter:ut(),mouseMove:ut(),mouseLeave:ut(),contextMenu:ut(),dragStart:ut(),drag:ut(),dragStop:ut()}}function mS(t,e){const n=gS();return n.doubleClick.on(r=>{var i,o;e.nodeDoubleClick(r),(o=(i=t.events)==null?void 0:i.doubleClick)==null||o.call(i,r)}),n.click.on(r=>{var i,o;e.nodeClick(r),(o=(i=t.events)==null?void 0:i.click)==null||o.call(i,r)}),n.mouseEnter.on(r=>{var i,o;e.nodeMouseEnter(r),(o=(i=t.events)==null?void 0:i.mouseEnter)==null||o.call(i,r)}),n.mouseMove.on(r=>{var i,o;e.nodeMouseMove(r),(o=(i=t.events)==null?void 0:i.mouseMove)==null||o.call(i,r)}),n.mouseLeave.on(r=>{var i,o;e.nodeMouseLeave(r),(o=(i=t.events)==null?void 0:i.mouseLeave)==null||o.call(i,r)}),n.contextMenu.on(r=>{var i,o;e.nodeContextMenu(r),(o=(i=t.events)==null?void 0:i.contextMenu)==null||o.call(i,r)}),n.dragStart.on(r=>{var i,o;e.nodeDragStart(r),(o=(i=t.events)==null?void 0:i.dragStart)==null||o.call(i,r)}),n.drag.on(r=>{var i,o;e.nodeDrag(r),(o=(i=t.events)==null?void 0:i.drag)==null||o.call(i,r)}),n.dragStop.on(r=>{var i,o;e.nodeDragStop(r),(o=(i=t.events)==null?void 0:i.dragStop)==null||o.call(i,r)}),Object.entries(n).reduce((r,[i,o])=>(r.emit[i]=o.trigger,r.on[i]=o.on,r),{emit:{},on:{}})}function og(){const{getSelectedNodes:t,nodeExtent:e,updateNodePositions:n,findNode:r,snapGrid:i,snapToGrid:o,nodesDraggable:a,emits:s}=Bt();return(l,u=!1)=>{const c=o.value?i.value[0]:5,f=o.value?i.value[1]:5,d=u?4:1,h=l.x*c*d,p=l.y*f*d,v=[];for(const m of t.value)if(m.draggable||a&&typeof m.draggable>"u"){const g={x:m.computedPosition.x+h,y:m.computedPosition.y+p},{computedPosition:b}=Tc(m,g,s.error,e.value,m.parentNode?r(m.parentNode):void 0);v.push({id:m.id,position:b,from:m.position,distance:{x:l.x,y:l.y},dimensions:m.dimensions})}n(v,!0,!1)}}const Cl=.1,yS=t=>((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2;function Wn(){return Rs("Viewport not initialized yet."),Promise.resolve(!1)}const _S={zoomIn:Wn,zoomOut:Wn,zoomTo:Wn,fitView:Wn,setCenter:Wn,fitBounds:Wn,project:t=>t,screenToFlowCoordinate:t=>t,flowToScreenCoordinate:t=>t,setViewport:Wn,setTransform:Wn,getViewport:()=>({x:0,y:0,zoom:1}),getTransform:()=>({x:0,y:0,zoom:1}),viewportInitialized:!1};function bS(t){function e(r,i){return new Promise(o=>{t.d3Selection&&t.d3Zoom?t.d3Zoom.interpolate((i==null?void 0:i.interpolate)==="linear"?Wi:va).scaleBy(Ml(t.d3Selection,i==null?void 0:i.duration,i==null?void 0:i.ease,()=>{o(!0)}),r):o(!1)})}function n(r,i,o,a){return new Promise(s=>{var l;const{x:u,y:c}=Vv({x:-r,y:-i},t.translateExtent),f=hi.translate(-u,-c).scale(o);t.d3Selection&&t.d3Zoom?(l=t.d3Zoom)==null||l.interpolate((a==null?void 0:a.interpolate)==="linear"?Wi:va).transform(Ml(t.d3Selection,a==null?void 0:a.duration,a==null?void 0:a.ease,()=>{s(!0)}),f):s(!1)})}return vt(()=>t.d3Zoom&&t.d3Selection&&t.dimensions.width&&t.dimensions.height?{viewportInitialized:!0,zoomIn:i=>e(1.2,i),zoomOut:i=>e(1/1.2,i),zoomTo:(i,o)=>new Promise(a=>{t.d3Selection&&t.d3Zoom?t.d3Zoom.interpolate((o==null?void 0:o.interpolate)==="linear"?Wi:va).scaleTo(Ml(t.d3Selection,o==null?void 0:o.duration,o==null?void 0:o.ease,()=>{a(!0)}),i):a(!1)}),setViewport:(i,o)=>n(i.x,i.y,i.zoom,o),setTransform:(i,o)=>n(i.x,i.y,i.zoom,o),getViewport:()=>({x:t.viewport.x,y:t.viewport.y,zoom:t.viewport.zoom}),getTransform:()=>({x:t.viewport.x,y:t.viewport.y,zoom:t.viewport.zoom}),fitView:(i={padding:Cl,includeHiddenNodes:!1,duration:0})=>{var o,a;const s=[];for(const d of t.nodes)d.dimensions.width&&d.dimensions.height&&((i==null?void 0:i.includeHiddenNodes)||!d.hidden)&&(!((o=i.nodes)!=null&&o.length)||(a=i.nodes)!=null&&a.length&&i.nodes.includes(d.id))&&s.push(d);if(!s.length)return Promise.resolve(!1);const l=$c(s),{x:u,y:c,zoom:f}=Ed(l,t.dimensions.width,t.dimensions.height,i.minZoom??t.minZoom,i.maxZoom??t.maxZoom,i.padding??Cl,i.offset);return n(u,c,f,i)},setCenter:(i,o,a)=>{const s=typeof(a==null?void 0:a.zoom)<"u"?a.zoom:t.maxZoom,l=t.dimensions.width/2-i*s,u=t.dimensions.height/2-o*s;return n(l,u,s,a)},fitBounds:(i,o={padding:Cl})=>{const{x:a,y:s,zoom:l}=Ed(i,t.dimensions.width,t.dimensions.height,t.minZoom,t.maxZoom,o.padding);return n(a,s,l,o)},project:i=>uo(i,t.viewport,t.snapToGrid,t.snapGrid),screenToFlowCoordinate:i=>{if(t.vueFlowRef){const{x:o,y:a}=t.vueFlowRef.getBoundingClientRect(),s={x:i.x-o,y:i.y-a};return uo(s,t.viewport,t.snapToGrid,t.snapGrid)}return{x:0,y:0}},flowToScreenCoordinate:i=>{if(t.vueFlowRef){const{x:o,y:a}=t.vueFlowRef.getBoundingClientRect(),s={x:i.x+o,y:i.y+a};return du(s,t.viewport)}return{x:0,y:0}}}:_S)}function Ml(t,e=0,n=yS,r=()=>{}){const i=typeof e=="number"&&e>0;return i||r(),i?t.transition().duration(e).ease(n).on("end",r):t}function wS(t,e,n){const r=ep(!0);return r.run(()=>{const i=()=>{r.run(()=>{let v,m,g=!!(n.nodes.value.length||n.edges.value.length);v=Yr([t.modelValue,()=>{var b,_;return(_=(b=t.modelValue)==null?void 0:b.value)==null?void 0:_.length}],([b])=>{b&&Array.isArray(b)&&(m==null||m.pause(),n.setElements(b),!m&&!g&&b.length?g=!0:m==null||m.resume())}),m=Yr([n.nodes,n.edges,()=>n.edges.value.length,()=>n.nodes.value.length],([b,_])=>{var w;(w=t.modelValue)!=null&&w.value&&Array.isArray(t.modelValue.value)&&(v==null||v.pause(),t.modelValue.value=[...b,..._],Ze(()=>{v==null||v.resume()}))},{immediate:g}),fa(()=>{v==null||v.stop(),m==null||m.stop()})})},o=()=>{r.run(()=>{let v,m,g=!!n.nodes.value.length;v=Yr([t.nodes,()=>{var b,_;return(_=(b=t.nodes)==null?void 0:b.value)==null?void 0:_.length}],([b])=>{b&&Array.isArray(b)&&(m==null||m.pause(),n.setNodes(b),!m&&!g&&b.length?g=!0:m==null||m.resume())}),m=Yr([n.nodes,()=>n.nodes.value.length],([b])=>{var _;(_=t.nodes)!=null&&_.value&&Array.isArray(t.nodes.value)&&(v==null||v.pause(),t.nodes.value=[...b],Ze(()=>{v==null||v.resume()}))},{immediate:g}),fa(()=>{v==null||v.stop(),m==null||m.stop()})})},a=()=>{r.run(()=>{let v,m,g=!!n.edges.value.length;v=Yr([t.edges,()=>{var b,_;return(_=(b=t.edges)==null?void 0:b.value)==null?void 0:_.length}],([b])=>{b&&Array.isArray(b)&&(m==null||m.pause(),n.setEdges(b),!m&&!g&&b.length?g=!0:m==null||m.resume())}),m=Yr([n.edges,()=>n.edges.value.length],([b])=>{var _;(_=t.edges)!=null&&_.value&&Array.isArray(t.edges.value)&&(v==null||v.pause(),t.edges.value=[...b],Ze(()=>{v==null||v.resume()}))},{immediate:g}),fa(()=>{v==null||v.stop(),m==null||m.stop()})})},s=()=>{r.run(()=>{Rt(()=>e.maxZoom,()=>{e.maxZoom&&Zt(e.maxZoom)&&n.setMaxZoom(e.maxZoom)},{immediate:!0})})},l=()=>{r.run(()=>{Rt(()=>e.minZoom,()=>{e.minZoom&&Zt(e.minZoom)&&n.setMinZoom(e.minZoom)},{immediate:!0})})},u=()=>{r.run(()=>{Rt(()=>e.translateExtent,()=>{e.translateExtent&&Zt(e.translateExtent)&&n.setTranslateExtent(e.translateExtent)},{immediate:!0})})},c=()=>{r.run(()=>{Rt(()=>e.nodeExtent,()=>{e.nodeExtent&&Zt(e.nodeExtent)&&n.setNodeExtent(e.nodeExtent)},{immediate:!0})})},f=()=>{r.run(()=>{Rt(()=>e.applyDefault,()=>{Zt(e.applyDefault)&&(n.applyDefault.value=e.applyDefault)},{immediate:!0})})},d=()=>{r.run(()=>{const v=async m=>{let g=m;typeof e.autoConnect=="function"&&(g=await e.autoConnect(m)),g!==!1&&n.addEdges([g])};Rt(()=>e.autoConnect,()=>{Zt(e.autoConnect)&&(n.autoConnect.value=e.autoConnect)},{immediate:!0}),Rt(n.autoConnect,(m,g,b)=>{m?n.onConnect(v):n.hooks.value.connect.off(v),b(()=>{n.hooks.value.connect.off(v)})},{immediate:!0})})},h=()=>{const v=["id","modelValue","translateExtent","nodeExtent","edges","nodes","maxZoom","minZoom","applyDefault","autoConnect"];for(const m of Object.keys(e)){const g=m;if(!v.includes(g)){const b=Ht(()=>e[g]),_=n[g];qt(_)&&r.run(()=>{Rt(b,w=>{Zt(w)&&(_.value=w)},{immediate:!0})})}}};(()=>{i(),o(),a(),l(),s(),u(),c(),f(),d(),h()})()}),()=>r.stop()}function xS(){return{edgesChange:ut(),nodesChange:ut(),nodeDoubleClick:ut(),nodeClick:ut(),nodeMouseEnter:ut(),nodeMouseMove:ut(),nodeMouseLeave:ut(),nodeContextMenu:ut(),nodeDragStart:ut(),nodeDrag:ut(),nodeDragStop:ut(),nodesInitialized:ut(),miniMapNodeClick:ut(),miniMapNodeDoubleClick:ut(),miniMapNodeMouseEnter:ut(),miniMapNodeMouseMove:ut(),miniMapNodeMouseLeave:ut(),connect:ut(),connectStart:ut(),connectEnd:ut(),clickConnectStart:ut(),clickConnectEnd:ut(),paneReady:ut(),init:ut(),move:ut(),moveStart:ut(),moveEnd:ut(),selectionDragStart:ut(),selectionDrag:ut(),selectionDragStop:ut(),selectionContextMenu:ut(),selectionStart:ut(),selectionEnd:ut(),viewportChangeStart:ut(),viewportChange:ut(),viewportChangeEnd:ut(),paneScroll:ut(),paneClick:ut(),paneContextMenu:ut(),paneMouseEnter:ut(),paneMouseMove:ut(),paneMouseLeave:ut(),edgeContextMenu:ut(),edgeMouseEnter:ut(),edgeMouseMove:ut(),edgeMouseLeave:ut(),edgeDoubleClick:ut(),edgeClick:ut(),edgeUpdateStart:ut(),edgeUpdate:ut(),edgeUpdateEnd:ut(),updateNodeInternals:ut(),error:ut(t=>Rs(t.message))}}function SS(t,e){dc(()=>{for(const[n,r]of Object.entries(e.value)){const i=o=>{t(n,o)};r.fns.add(i),Cs(()=>{r.off(i)})}})}function ag(){return{vueFlowRef:null,viewportRef:null,nodes:[],edges:[],connectionLookup:new Map,nodeTypes:{},edgeTypes:{},initialized:!1,dimensions:{width:0,height:0},viewport:{x:0,y:0,zoom:1},d3Zoom:null,d3Selection:null,d3ZoomHandler:null,minZoom:.5,maxZoom:2,translateExtent:[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],nodeExtent:[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],selectionMode:Dc.Full,paneDragging:!1,preventScrolling:!0,zoomOnScroll:!0,zoomOnPinch:!0,zoomOnDoubleClick:!0,panOnScroll:!1,panOnScrollSpeed:.5,panOnScrollMode:Ui.Free,paneClickDistance:0,panOnDrag:!0,edgeUpdaterRadius:10,onlyRenderVisibleElements:!1,defaultViewport:{x:0,y:0,zoom:1},nodesSelectionActive:!1,userSelectionActive:!1,userSelectionRect:null,defaultMarkerColor:"#b1b1b7",connectionLineStyle:{},connectionLineType:null,connectionLineOptions:{type:br.Bezier,style:{}},connectionMode:lr.Loose,connectionStartHandle:null,connectionEndHandle:null,connectionClickStartHandle:null,connectionPosition:{x:Number.NaN,y:Number.NaN},connectionRadius:20,connectOnClick:!0,connectionStatus:null,isValidConnection:null,snapGrid:[15,15],snapToGrid:!1,edgesUpdatable:!1,edgesFocusable:!0,nodesFocusable:!0,nodesConnectable:!0,nodesDraggable:!0,nodeDragThreshold:1,elementsSelectable:!0,selectNodesOnDrag:!0,multiSelectionActive:!1,selectionKeyCode:"Shift",multiSelectionKeyCode:Ua()?"Meta":"Control",zoomActivationKeyCode:Ua()?"Meta":"Control",deleteKeyCode:"Backspace",panActivationKeyCode:"Space",hooks:xS(),applyDefault:!0,autoConnect:!1,fitViewOnInit:!1,fitViewOnInitDone:!1,noDragClassName:"nodrag",noWheelClassName:"nowheel",noPanClassName:"nopan",defaultEdgeOptions:void 0,elevateEdgesOnSelect:!1,elevateNodesOnSelect:!0,autoPanOnNodeDrag:!0,autoPanOnConnect:!0,autoPanSpeed:15,disableKeyboardA11y:!1,ariaLiveMessage:""}}const ES=["id","vueFlowRef","viewportRef","initialized","modelValue","nodes","edges","maxZoom","minZoom","translateExtent","hooks","defaultEdgeOptions"];function CS(t,e,n){const r=bS(t),i=x=>{const C=x??[];t.hooks.updateNodeInternals.trigger(C)},o=x=>Gx(x,t.nodes,t.edges),a=x=>Fx(x,t.nodes,t.edges),s=x=>wr(x,t.edges),l=({id:x,type:C,nodeId:P})=>{var T;return Array.from(((T=t.connectionLookup.get(`${P}-${C}-${x??null}`))==null?void 0:T.values())??[])},u=x=>{if(x)return e.value.get(x)},c=x=>{if(x)return n.value.get(x)},f=(x,C,P)=>{var T,H;const X=[];for(const U of x){const W={id:U.id,type:"position",dragging:P,from:U.from};if(C&&(W.position=U.position,U.parentNode)){const Q=u(U.parentNode);W.position={x:W.position.x-(((T=Q==null?void 0:Q.computedPosition)==null?void 0:T.x)??0),y:W.position.y-(((H=Q==null?void 0:Q.computedPosition)==null?void 0:H.y)??0)}}X.push(W)}X!=null&&X.length&&t.hooks.nodesChange.trigger(X)},d=x=>{if(!t.vueFlowRef)return;const C=t.vueFlowRef.querySelector(".vue-flow__transformationpane");if(!C)return;const P=window.getComputedStyle(C),{m22:T}=new window.DOMMatrixReadOnly(P.transform),H=[];for(const X of x){const U=X,W=u(U.id);if(W){const Q=Ps(U.nodeElement);if(!!(Q.width&&Q.height&&(W.dimensions.width!==Q.width||W.dimensions.height!==Q.height||U.forceUpdate))){const nt=U.nodeElement.getBoundingClientRect();W.dimensions=Q,W.handleBounds.source=Od("source",U.nodeElement,nt,T,W.id),W.handleBounds.target=Od("target",U.nodeElement,nt,T,W.id),H.push({id:W.id,type:"dimensions",dimensions:Q})}}}!t.fitViewOnInitDone&&t.fitViewOnInit&&r.value.fitView().then(()=>{t.fitViewOnInitDone=!0}),H.length&&t.hooks.nodesChange.trigger(H)},h=(x,C)=>{const P=new Set,T=new Set;for(const U of x)Nr(U)?P.add(U.id):ur(U)&&T.add(U.id);const H=Qn(e.value,P,!0),X=Qn(n.value,T);if(t.multiSelectionActive){for(const U of P)H.push(qn(U,C));for(const U of T)X.push(qn(U,C))}H.length&&t.hooks.nodesChange.trigger(H),X.length&&t.hooks.edgesChange.trigger(X)},p=x=>{if(t.multiSelectionActive){const C=x.map(P=>qn(P.id,!0));t.hooks.nodesChange.trigger(C);return}t.hooks.nodesChange.trigger(Qn(e.value,new Set(x.map(C=>C.id)),!0)),t.hooks.edgesChange.trigger(Qn(n.value))},v=x=>{if(t.multiSelectionActive){const C=x.map(P=>qn(P.id,!0));t.hooks.edgesChange.trigger(C);return}t.hooks.edgesChange.trigger(Qn(n.value,new Set(x.map(C=>C.id)))),t.hooks.nodesChange.trigger(Qn(e.value,new Set,!0))},m=x=>{h(x,!0)},g=x=>{const P=(x||t.nodes).map(T=>(T.selected=!1,qn(T.id,!1)));t.hooks.nodesChange.trigger(P)},b=x=>{const P=(x||t.edges).map(T=>(T.selected=!1,qn(T.id,!1)));t.hooks.edgesChange.trigger(P)},_=x=>{if(!x||!x.length)return h([],!1);const C=x.reduce((P,T)=>{const H=qn(T.id,!1);return Nr(T)?P.nodes.push(H):P.edges.push(H),P},{nodes:[],edges:[]});C.nodes.length&&t.hooks.nodesChange.trigger(C.nodes),C.edges.length&&t.hooks.edgesChange.trigger(C.edges)},w=x=>{var C;(C=t.d3Zoom)==null||C.scaleExtent([x,t.maxZoom]),t.minZoom=x},D=x=>{var C;(C=t.d3Zoom)==null||C.scaleExtent([t.minZoom,x]),t.maxZoom=x},$=x=>{var C;(C=t.d3Zoom)==null||C.translateExtent(x),t.translateExtent=x},E=x=>{t.nodeExtent=x,i()},A=x=>{var C;(C=t.d3Zoom)==null||C.clickDistance(x)},O=x=>{t.nodesDraggable=x,t.nodesConnectable=x,t.elementsSelectable=x},N=x=>{const C=x instanceof Function?x(t.nodes):x;!t.initialized&&!C.length||(t.nodes=Id(C,u,t.hooks.error.trigger))},F=x=>{const C=x instanceof Function?x(t.edges):x;if(!t.initialized&&!C.length)return;const P=El(C,t.isValidConnection,u,c,t.hooks.error.trigger,t.defaultEdgeOptions,t.nodes,t.edges);Sl(t.connectionLookup,n.value,P),t.edges=P},S=x=>{const C=x instanceof Function?x([...t.nodes,...t.edges]):x;!t.initialized&&!C.length||(N(C.filter(Nr)),F(C.filter(ur)))},G=x=>{let C=x instanceof Function?x(t.nodes):x;C=Array.isArray(C)?C:[C];const P=Id(C,u,t.hooks.error.trigger),T=[];for(const H of P)T.push(Md(H));T.length&&t.hooks.nodesChange.trigger(T)},y=x=>{let C=x instanceof Function?x(t.edges):x;C=Array.isArray(C)?C:[C];const P=El(C,t.isValidConnection,u,c,t.hooks.error.trigger,t.defaultEdgeOptions,t.nodes,t.edges),T=[];for(const H of P)T.push(Md(H));T.length&&t.hooks.edgesChange.trigger(T)},R=(x,C=!0,P=!1)=>{const T=x instanceof Function?x(t.nodes):x,H=Array.isArray(T)?T:[T],X=[],U=[];function W(K){const nt=s(K);for(const st of nt)(!Zt(st.deletable)||st.deletable)&&U.push($d(st.id,st.source,st.target,st.sourceHandle,st.targetHandle))}function Q(K){const nt=[];for(const st of t.nodes)st.parentNode===K&&nt.push(st);if(nt.length){for(const st of nt)X.push(Dd(st.id));C&&W(nt);for(const st of nt)Q(st.id)}}for(const K of H){const nt=typeof K=="string"?u(K):K;nt&&(Zt(nt.deletable)&&!nt.deletable||(X.push(Dd(nt.id)),C&&W([nt]),P&&Q(nt.id)))}U.length&&t.hooks.edgesChange.trigger(U),X.length&&t.hooks.nodesChange.trigger(X)},M=x=>{const C=x instanceof Function?x(t.edges):x,P=Array.isArray(C)?C:[C],T=[];for(const H of P){const X=typeof H=="string"?c(H):H;X&&(Zt(X.deletable)&&!X.deletable||T.push($d(typeof H=="string"?H:H.id,X.source,X.target,X.sourceHandle,X.targetHandle)))}t.hooks.edgesChange.trigger(T)},L=(x,C,P=!0)=>{const T=c(x.id);if(!T)return!1;const H=t.edges.indexOf(T),X=uS(x,C,T,P,t.hooks.error.trigger);if(X){const[U]=El([X],t.isValidConnection,u,c,t.hooks.error.trigger,t.defaultEdgeOptions,t.nodes,t.edges);return t.edges=t.edges.map((W,Q)=>Q===H?U:W),Sl(t.connectionLookup,n.value,[U]),U}return!1},k=(x,C,P={replace:!1})=>{const T=c(x);if(!T)return;const H=typeof C=="function"?C(T):C;T.data=P.replace?H:{...T.data,...H}},z=x=>Wa(x,t.nodes),V=x=>{const C=Wa(x,t.edges);return Sl(t.connectionLookup,n.value,C),C},Y=(x,C,P={replace:!1})=>{const T=u(x);if(!T)return;const H=typeof C=="function"?C(T):C;P.replace?t.nodes.splice(t.nodes.indexOf(T),1,H):Object.assign(T,H)},j=(x,C,P={replace:!1})=>{const T=u(x);if(!T)return;const H=typeof C=="function"?C(T):C;T.data=P.replace?H:{...T.data,...H}},rt=(x,C,P=!1)=>{P?t.connectionClickStartHandle=x:t.connectionStartHandle=x,t.connectionEndHandle=null,t.connectionStatus=null,C&&(t.connectionPosition=C)},Z=(x,C=null,P=null)=>{t.connectionStartHandle&&(t.connectionPosition=x,t.connectionEndHandle=C,t.connectionStatus=P)},J=(x,C)=>{t.connectionPosition={x:Number.NaN,y:Number.NaN},t.connectionEndHandle=null,t.connectionStatus=null,C?t.connectionClickStartHandle=null:t.connectionStartHandle=null},tt=x=>{const C=Bx(x),P=C?null:Ii(x)?x:u(x.id);return!C&&!P?[null,null,C]:[C?x:Ha(P),P,C]},it=(x,C=!0,P=t.nodes)=>{const[T,H,X]=tt(x);if(!T)return[];const U=[];for(const W of P||t.nodes){if(!X&&(W.id===H.id||!W.computedPosition))continue;const Q=Ha(W),K=Ya(Q,T);(C&&K>0||K>=Number(T.width)*Number(T.height))&&U.push(W)}return U},at=(x,C,P=!0)=>{const[T]=tt(x);if(!T)return!1;const H=Ya(T,C);return P&&H>0||H>=Number(T.width)*Number(T.height)},ot=x=>{const{viewport:C,dimensions:P,d3Zoom:T,d3Selection:H,translateExtent:X}=t;if(!T||!H||!x.x&&!x.y)return!1;const U=hi.translate(C.x+x.x,C.y+x.y).scale(C.zoom),W=[[0,0],[P.width,P.height]],Q=T.constrain()(U,W,X),K=t.viewport.x!==Q.x||t.viewport.y!==Q.y||t.viewport.zoom!==Q.k;return T.transform(H,Q),K},dt=x=>{const C=x instanceof Function?x(t):x,P=["d3Zoom","d3Selection","d3ZoomHandler","viewportRef","vueFlowRef","dimensions","hooks"];Zt(C.defaultEdgeOptions)&&(t.defaultEdgeOptions=C.defaultEdgeOptions);const T=C.modelValue||C.nodes||C.edges?[]:void 0;T&&(C.modelValue&&T.push(...C.modelValue),C.nodes&&T.push(...C.nodes),C.edges&&T.push(...C.edges),S(T));const H=()=>{Zt(C.maxZoom)&&D(C.maxZoom),Zt(C.minZoom)&&w(C.minZoom),Zt(C.translateExtent)&&$(C.translateExtent)};for(const X of Object.keys(C)){const U=X,W=C[U];![...ES,...P].includes(U)&&Zt(W)&&(t[U]=W)}nu(()=>t.d3Zoom).not.toBeNull().then(H),t.initialized||(t.initialized=!0)};return{updateNodePositions:f,updateNodeDimensions:d,setElements:S,setNodes:N,setEdges:F,addNodes:G,addEdges:y,removeNodes:R,removeEdges:M,findNode:u,findEdge:c,updateEdge:L,updateEdgeData:k,updateNode:Y,updateNodeData:j,applyEdgeChanges:V,applyNodeChanges:z,addSelectedElements:m,addSelectedNodes:p,addSelectedEdges:v,setMinZoom:w,setMaxZoom:D,setTranslateExtent:$,setNodeExtent:E,setPaneClickDistance:A,removeSelectedElements:_,removeSelectedNodes:g,removeSelectedEdges:b,startConnection:rt,updateConnection:Z,endConnection:J,setInteractive:O,setState:dt,getIntersectingNodes:it,getIncomers:o,getOutgoers:a,getConnectedEdges:s,getHandleConnections:l,isNodeIntersecting:at,panBy:ot,fitView:x=>r.value.fitView(x),zoomIn:x=>r.value.zoomIn(x),zoomOut:x=>r.value.zoomOut(x),zoomTo:(x,C)=>r.value.zoomTo(x,C),setViewport:(x,C)=>r.value.setViewport(x,C),setTransform:(x,C)=>r.value.setTransform(x,C),getViewport:()=>r.value.getViewport(),getTransform:()=>r.value.getTransform(),setCenter:(x,C,P)=>r.value.setCenter(x,C,P),fitBounds:(x,C)=>r.value.fitBounds(x,C),project:x=>r.value.project(x),screenToFlowCoordinate:x=>r.value.screenToFlowCoordinate(x),flowToScreenCoordinate:x=>r.value.flowToScreenCoordinate(x),toObject:()=>{const x=[],C=[];for(const P of t.nodes){const{computedPosition:T,handleBounds:H,selected:X,dimensions:U,isParent:W,resizing:Q,dragging:K,events:nt,...st}=P;x.push(st)}for(const P of t.edges){const{selected:T,sourceNode:H,targetNode:X,events:U,...W}=P;C.push(W)}return JSON.parse(JSON.stringify({nodes:x,edges:C,position:[t.viewport.x,t.viewport.y],zoom:t.viewport.zoom,viewport:t.viewport}))},fromObject:x=>new Promise(C=>{const{nodes:P,edges:T,position:H,zoom:X,viewport:U}=x;if(P&&N(P),T&&F(T),U!=null&&U.x&&(U!=null&&U.y)||H){const W=(U==null?void 0:U.x)||H[0],Q=(U==null?void 0:U.y)||H[1],K=(U==null?void 0:U.zoom)||X||t.viewport.zoom;return nu(()=>r.value.viewportInitialized).toBe(!0).then(()=>{r.value.setViewport({x:W,y:Q,zoom:K}).then(()=>{C(!0)})})}else C(!0)}),updateNodeInternals:i,viewportHelper:r,$reset:()=>{const x=ag();if(t.edges=[],t.nodes=[],t.d3Zoom&&t.d3Selection){const C=hi.translate(x.defaultViewport.x??0,x.defaultViewport.y??0).scale(Ar(x.defaultViewport.zoom??1,x.minZoom,x.maxZoom)),P=t.viewportRef.getBoundingClientRect(),T=[[0,0],[P.width,P.height]],H=t.d3Zoom.constrain()(C,T,x.translateExtent);t.d3Zoom.transform(t.d3Selection,H)}dt(x)},$destroy:()=>{}}}const MS=["data-id","data-handleid","data-nodeid","data-handlepos"],DS={name:"Handle",compatConfig:{MODE:3}},de=Vt({...DS,props:{id:{default:null},type:{},position:{default:()=>ft.Top},isValidConnection:{type:Function},connectable:{type:[Boolean,Number,String,Function],default:void 0},connectableStart:{type:Boolean,default:!0},connectableEnd:{type:Boolean,default:!0}},setup(t,{expose:e}){const n=_1(t,["position","connectable","connectableStart","connectableEnd","id"]),r=Ht(()=>n.type??"source"),i=Ht(()=>n.isValidConnection??null),{id:o,connectionStartHandle:a,connectionClickStartHandle:s,connectionEndHandle:l,vueFlowRef:u,nodesConnectable:c,noDragClassName:f,noPanClassName:d}=Bt(),{id:h,node:p,nodeEl:v,connectedEdges:m}=ig(),g=bt(),b=Ht(()=>typeof t.connectableStart<"u"?t.connectableStart:!0),_=Ht(()=>typeof t.connectableEnd<"u"?t.connectableEnd:!0),w=Ht(()=>{var F,S,G,y,R,M;return((F=a.value)==null?void 0:F.nodeId)===h&&((S=a.value)==null?void 0:S.id)===t.id&&((G=a.value)==null?void 0:G.type)===r.value||((y=l.value)==null?void 0:y.nodeId)===h&&((R=l.value)==null?void 0:R.id)===t.id&&((M=l.value)==null?void 0:M.type)===r.value}),D=Ht(()=>{var F,S,G;return((F=s.value)==null?void 0:F.nodeId)===h&&((S=s.value)==null?void 0:S.id)===t.id&&((G=s.value)==null?void 0:G.type)===r.value}),{handlePointerDown:$,handleClick:E}=rg({nodeId:h,handleId:t.id,isValidConnection:i,type:r}),A=vt(()=>typeof t.connectable=="string"&&t.connectable==="single"?!m.value.some(F=>{const S=F[`${r.value}Handle`];return F[r.value]!==h?!1:S?S===t.id:!0}):typeof t.connectable=="number"?m.value.filter(F=>{const S=F[`${r.value}Handle`];return F[r.value]!==h?!1:S?S===t.id:!0}).length<t.connectable:typeof t.connectable=="function"?t.connectable(p,m.value):Zt(t.connectable)?t.connectable:c.value);en(()=>{var F;if(!p.dimensions.width||!p.dimensions.height)return;const S=(F=p.handleBounds[r.value])==null?void 0:F.find(z=>z.id===t.id);if(!u.value||S)return;const G=u.value.querySelector(".vue-flow__transformationpane");if(!v.value||!g.value||!G||!t.id)return;const y=v.value.getBoundingClientRect(),R=g.value.getBoundingClientRect(),M=window.getComputedStyle(G),{m22:L}=new window.DOMMatrixReadOnly(M.transform),k={id:t.id,position:t.position,x:(R.left-y.left)/L,y:(R.top-y.top)/L,type:r.value,nodeId:h,...Ps(g.value)};p.handleBounds[r.value]=[...p.handleBounds[r.value]??[],k]});function O(F){const S=Pc(F);A.value&&b.value&&(S&&F.button===0||!S)&&$(F)}function N(F){!h||!s.value&&!b.value||A.value&&E(F)}return e({handleClick:E,handlePointerDown:$,onClick:N,onPointerDown:O}),(F,S)=>(ht(),Ct("div",{ref_key:"handle",ref:g,"data-id":`${et(o)}-${et(h)}-${t.id}-${r.value}`,"data-handleid":t.id,"data-nodeid":et(h),"data-handlepos":F.position,class:He(["vue-flow__handle",[`vue-flow__handle-${F.position}`,`vue-flow__handle-${t.id}`,et(f),et(d),r.value,{connectable:A.value,connecting:D.value,connectablestart:b.value,connectableend:_.value,connectionindicator:A.value&&(b.value&&!w.value||_.value&&w.value)}]]),onMousedown:O,onTouchstartPassive:O,onClick:N},[zn(F.$slots,"default",{id:F.id})],42,MS))}}),Is=function({sourcePosition:t=ft.Bottom,targetPosition:e=ft.Top,label:n,connectable:r=!0,isValidTargetPos:i,isValidSourcePos:o,data:a}){const s=a.label??n;return[It(de,{type:"target",position:e,connectable:r,isValidConnection:i}),typeof s!="string"&&s?It(s):It(Gt,[s]),It(de,{type:"source",position:t,connectable:r,isValidConnection:o})]};Is.props=["sourcePosition","targetPosition","label","isValidTargetPos","isValidSourcePos","connectable","data"];Is.inheritAttrs=!1;Is.compatConfig={MODE:3};const $S=Is,As=function({targetPosition:t=ft.Top,label:e,connectable:n=!0,isValidTargetPos:r,data:i}){const o=i.label??e;return[It(de,{type:"target",position:t,connectable:n,isValidConnection:r}),typeof o!="string"&&o?It(o):It(Gt,[o])]};As.props=["targetPosition","label","isValidTargetPos","connectable","data"];As.inheritAttrs=!1;As.compatConfig={MODE:3};const TS=As,ks=function({sourcePosition:t=ft.Bottom,label:e,connectable:n=!0,isValidSourcePos:r,data:i}){const o=i.label??e;return[typeof o!="string"&&o?It(o):It(Gt,[o]),It(de,{type:"source",position:t,connectable:n,isValidConnection:r})]};ks.props=["sourcePosition","label","isValidSourcePos","connectable","data"];ks.inheritAttrs=!1;ks.compatConfig={MODE:3};const PS=ks,NS=["transform"],RS=["width","height","x","y","rx","ry"],OS=["y"],IS={name:"EdgeText",compatConfig:{MODE:3}},AS=Vt({...IS,props:{x:{},y:{},label:{},labelStyle:{default:()=>({})},labelShowBg:{type:Boolean,default:!0},labelBgStyle:{default:()=>({})},labelBgPadding:{default:()=>[2,4]},labelBgBorderRadius:{default:2}},setup(t){const e=bt({x:0,y:0,width:0,height:0}),n=bt(null),r=vt(()=>`translate(${t.x-e.value.width/2} ${t.y-e.value.height/2})`);en(i),Rt([()=>t.x,()=>t.y,n,()=>t.label],i);function i(){if(!n.value)return;const o=n.value.getBBox();(o.width!==e.value.width||o.height!==e.value.height)&&(e.value=o)}return(o,a)=>(ht(),Ct("g",{transform:r.value,class:"vue-flow__edge-textwrapper"},[o.labelShowBg?(ht(),Ct("rect",{key:0,class:"vue-flow__edge-textbg",width:`${e.value.width+2*o.labelBgPadding[0]}px`,height:`${e.value.height+2*o.labelBgPadding[1]}px`,x:-o.labelBgPadding[0],y:-o.labelBgPadding[1],style:pe(o.labelBgStyle),rx:o.labelBgBorderRadius,ry:o.labelBgBorderRadius},null,12,RS)):he("",!0),pt("text",ci(o.$attrs,{ref_key:"el",ref:n,class:"vue-flow__edge-text",y:e.value.height/2,dy:"0.3em",style:o.labelStyle}),[zn(o.$slots,"default",{},()=>[typeof o.label!="string"?(ht(),le(Ap(o.label),{key:0})):(ht(),Ct(Gt,{key:1},[yc(ve(o.label),1)],64))])],16,OS)],8,NS))}}),kS=["id","d","marker-end","marker-start"],BS=["d","stroke-width"],zS={name:"BaseEdge",inheritAttrs:!1,compatConfig:{MODE:3}},Bs=Vt({...zS,props:{id:{},labelX:{},labelY:{},path:{},label:{},markerStart:{},markerEnd:{},interactionWidth:{default:20},labelStyle:{},labelShowBg:{type:Boolean},labelBgStyle:{},labelBgPadding:{},labelBgBorderRadius:{}},setup(t,{expose:e}){const n=bt(null),r=bt(null),i=bt(null),o=pc();return e({pathEl:n,interactionEl:r,labelEl:i}),(a,s)=>(ht(),Ct(Gt,null,[pt("path",ci(et(o),{id:a.id,ref_key:"pathEl",ref:n,d:a.path,class:"vue-flow__edge-path","marker-end":a.markerEnd,"marker-start":a.markerStart}),null,16,kS),a.interactionWidth?(ht(),Ct("path",{key:0,ref_key:"interactionEl",ref:r,fill:"none",d:a.path,"stroke-width":a.interactionWidth,"stroke-opacity":0,class:"vue-flow__edge-interaction"},null,8,BS)):he("",!0),a.label&&a.labelX&&a.labelY?(ht(),le(AS,{key:1,ref_key:"labelEl",ref:i,x:a.labelX,y:a.labelY,label:a.label,"label-show-bg":a.labelShowBg,"label-bg-style":a.labelBgStyle,"label-bg-padding":a.labelBgPadding,"label-bg-border-radius":a.labelBgBorderRadius,"label-style":a.labelStyle},null,8,["x","y","label","label-show-bg","label-bg-style","label-bg-padding","label-bg-border-radius","label-style"])):he("",!0)],64))}});function sg({sourceX:t,sourceY:e,targetX:n,targetY:r}){const i=Math.abs(n-t)/2,o=n<t?n+i:n-i,a=Math.abs(r-e)/2,s=r<e?r+a:r-a;return[o,s,i,a]}function lg({sourceX:t,sourceY:e,targetX:n,targetY:r,sourceControlX:i,sourceControlY:o,targetControlX:a,targetControlY:s}){const l=t*.125+i*.375+a*.375+n*.125,u=e*.125+o*.375+s*.375+r*.125,c=Math.abs(l-t),f=Math.abs(u-e);return[l,u,c,f]}function qo(t,e){return t>=0?.5*t:e*25*Math.sqrt(-t)}function zd({pos:t,x1:e,y1:n,x2:r,y2:i,c:o}){let a,s;switch(t){case ft.Left:a=e-qo(e-r,o),s=n;break;case ft.Right:a=e+qo(r-e,o),s=n;break;case ft.Top:a=e,s=n-qo(n-i,o);break;case ft.Bottom:a=e,s=n+qo(i-n,o);break}return[a,s]}function ug(t){const{sourceX:e,sourceY:n,sourcePosition:r=ft.Bottom,targetX:i,targetY:o,targetPosition:a=ft.Top,curvature:s=.25}=t,[l,u]=zd({pos:r,x1:e,y1:n,x2:i,y2:o,c:s}),[c,f]=zd({pos:a,x1:i,y1:o,x2:e,y2:n,c:s}),[d,h,p,v]=lg({sourceX:e,sourceY:n,targetX:i,targetY:o,sourceControlX:l,sourceControlY:u,targetControlX:c,targetControlY:f});return[`M${e},${n} C${l},${u} ${c},${f} ${i},${o}`,d,h,p,v]}function Fd({pos:t,x1:e,y1:n,x2:r,y2:i}){let o,a;switch(t){case ft.Left:case ft.Right:o=.5*(e+r),a=n;break;case ft.Top:case ft.Bottom:o=e,a=.5*(n+i);break}return[o,a]}function cg(t){const{sourceX:e,sourceY:n,sourcePosition:r=ft.Bottom,targetX:i,targetY:o,targetPosition:a=ft.Top}=t,[s,l]=Fd({pos:r,x1:e,y1:n,x2:i,y2:o}),[u,c]=Fd({pos:a,x1:i,y1:o,x2:e,y2:n}),[f,d,h,p]=lg({sourceX:e,sourceY:n,targetX:i,targetY:o,sourceControlX:s,sourceControlY:l,targetControlX:u,targetControlY:c});return[`M${e},${n} C${s},${l} ${u},${c} ${i},${o}`,f,d,h,p]}const Gd={[ft.Left]:{x:-1,y:0},[ft.Right]:{x:1,y:0},[ft.Top]:{x:0,y:-1},[ft.Bottom]:{x:0,y:1}};function FS({source:t,sourcePosition:e=ft.Bottom,target:n}){return e===ft.Left||e===ft.Right?t.x<n.x?{x:1,y:0}:{x:-1,y:0}:t.y<n.y?{x:0,y:1}:{x:0,y:-1}}function Ld(t,e){return Math.sqrt((e.x-t.x)**2+(e.y-t.y)**2)}function GS({source:t,sourcePosition:e=ft.Bottom,target:n,targetPosition:r=ft.Top,center:i,offset:o}){const a=Gd[e],s=Gd[r],l={x:t.x+a.x*o,y:t.y+a.y*o},u={x:n.x+s.x*o,y:n.y+s.y*o},c=FS({source:l,sourcePosition:e,target:u}),f=c.x!==0?"x":"y",d=c[f];let h,p,v;const m={x:0,y:0},g={x:0,y:0},[b,_,w,D]=sg({sourceX:t.x,sourceY:t.y,targetX:n.x,targetY:n.y});if(a[f]*s[f]===-1){p=i.x??b,v=i.y??_;const E=[{x:p,y:l.y},{x:p,y:u.y}],A=[{x:l.x,y:v},{x:u.x,y:v}];a[f]===d?h=f==="x"?E:A:h=f==="x"?A:E}else{const E=[{x:l.x,y:u.y}],A=[{x:u.x,y:l.y}];if(f==="x"?h=a.x===d?A:E:h=a.y===d?E:A,e===r){const G=Math.abs(t[f]-n[f]);if(G<=o){const y=Math.min(o-1,o-G);a[f]===d?m[f]=(l[f]>t[f]?-1:1)*y:g[f]=(u[f]>n[f]?-1:1)*y}}if(e!==r){const G=f==="x"?"y":"x",y=a[f]===s[G],R=l[G]>u[G],M=l[G]<u[G];(a[f]===1&&(!y&&R||y&&M)||a[f]!==1&&(!y&&M||y&&R))&&(h=f==="x"?E:A)}const O={x:l.x+m.x,y:l.y+m.y},N={x:u.x+g.x,y:u.y+g.y},F=Math.max(Math.abs(O.x-h[0].x),Math.abs(N.x-h[0].x)),S=Math.max(Math.abs(O.y-h[0].y),Math.abs(N.y-h[0].y));F>=S?(p=(O.x+N.x)/2,v=h[0].y):(p=h[0].x,v=(O.y+N.y)/2)}return[[t,{x:l.x+m.x,y:l.y+m.y},...h,{x:u.x+g.x,y:u.y+g.y},n],p,v,w,D]}function LS(t,e,n,r){const i=Math.min(Ld(t,e)/2,Ld(e,n)/2,r),{x:o,y:a}=e;if(t.x===o&&o===n.x||t.y===a&&a===n.y)return`L${o} ${a}`;if(t.y===a){const u=t.x<n.x?-1:1,c=t.y<n.y?1:-1;return`L ${o+i*u},${a}Q ${o},${a} ${o},${a+i*c}`}const s=t.x<n.x?1:-1,l=t.y<n.y?-1:1;return`L ${o},${a+i*l}Q ${o},${a} ${o+i*s},${a}`}function vu(t){const{sourceX:e,sourceY:n,sourcePosition:r=ft.Bottom,targetX:i,targetY:o,targetPosition:a=ft.Top,borderRadius:s=5,centerX:l,centerY:u,offset:c=20}=t,[f,d,h,p,v]=GS({source:{x:e,y:n},sourcePosition:r,target:{x:i,y:o},targetPosition:a,center:{x:l,y:u},offset:c});return[f.reduce((g,b,_)=>{let w;return _>0&&_<f.length-1?w=LS(f[_-1],b,f[_+1],s):w=`${_===0?"M":"L"}${b.x} ${b.y}`,g+=w,g},""),d,h,p,v]}function VS(t){const{sourceX:e,sourceY:n,targetX:r,targetY:i}=t,[o,a,s,l]=sg({sourceX:e,sourceY:n,targetX:r,targetY:i});return[`M ${e},${n}L ${r},${i}`,o,a,s,l]}const HS=Vt({name:"StraightEdge",props:["label","labelStyle","labelShowBg","labelBgStyle","labelBgPadding","labelBgBorderRadius","sourceY","sourceX","targetX","targetY","markerEnd","markerStart","interactionWidth"],compatConfig:{MODE:3},setup(t,{attrs:e}){return()=>{const[n,r,i]=VS(t);return It(Bs,{path:n,labelX:r,labelY:i,...e,...t})}}}),YS=HS,XS=Vt({name:"SmoothStepEdge",props:["sourcePosition","targetPosition","label","labelStyle","labelShowBg","labelBgStyle","labelBgPadding","labelBgBorderRadius","sourceY","sourceX","targetX","targetY","borderRadius","markerEnd","markerStart","interactionWidth","offset"],compatConfig:{MODE:3},setup(t,{attrs:e}){return()=>{const[n,r,i]=vu({...t,sourcePosition:t.sourcePosition??ft.Bottom,targetPosition:t.targetPosition??ft.Top});return It(Bs,{path:n,labelX:r,labelY:i,...e,...t})}}}),fg=XS,WS=Vt({name:"StepEdge",props:["sourcePosition","targetPosition","label","labelStyle","labelShowBg","labelBgStyle","labelBgPadding","labelBgBorderRadius","sourceY","sourceX","targetX","targetY","markerEnd","markerStart","interactionWidth"],setup(t,{attrs:e}){return()=>It(fg,{...t,...e,borderRadius:0})}}),US=WS,qS=Vt({name:"BezierEdge",props:["sourcePosition","targetPosition","label","labelStyle","labelShowBg","labelBgStyle","labelBgPadding","labelBgBorderRadius","sourceY","sourceX","targetX","targetY","curvature","markerEnd","markerStart","interactionWidth"],compatConfig:{MODE:3},setup(t,{attrs:e}){return()=>{const[n,r,i]=ug({...t,sourcePosition:t.sourcePosition??ft.Bottom,targetPosition:t.targetPosition??ft.Top});return It(Bs,{path:n,labelX:r,labelY:i,...e,...t})}}}),jS=qS,KS=Vt({name:"SimpleBezierEdge",props:["sourcePosition","targetPosition","label","labelStyle","labelShowBg","labelBgStyle","labelBgPadding","labelBgBorderRadius","sourceY","sourceX","targetX","targetY","markerEnd","markerStart","interactionWidth"],compatConfig:{MODE:3},setup(t,{attrs:e}){return()=>{const[n,r,i]=cg({...t,sourcePosition:t.sourcePosition??ft.Bottom,targetPosition:t.targetPosition??ft.Top});return It(Bs,{path:n,labelX:r,labelY:i,...e,...t})}}}),ZS=KS,JS={input:PS,default:$S,output:TS},QS={default:jS,straight:YS,step:US,smoothstep:fg,simplebezier:ZS};function tE(t,e,n){const r=vt(()=>v=>e.value.get(v)),i=vt(()=>v=>n.value.get(v)),o=vt(()=>{const v={...QS,...t.edgeTypes},m=Object.keys(v);for(const g of t.edges)g.type&&!m.includes(g.type)&&(v[g.type]=g.type);return v}),a=vt(()=>{const v={...JS,...t.nodeTypes},m=Object.keys(v);for(const g of t.nodes)g.type&&!m.includes(g.type)&&(v[g.type]=g.type);return v}),s=vt(()=>t.onlyRenderVisibleElements?qv(t.nodes,{x:0,y:0,width:t.dimensions.width,height:t.dimensions.height},t.viewport,!0):t.nodes),l=vt(()=>{if(t.onlyRenderVisibleElements){const v=[];for(const m of t.edges){const g=e.value.get(m.source),b=e.value.get(m.target);Kx({sourcePos:g.computedPosition||{x:0,y:0},targetPos:b.computedPosition||{x:0,y:0},sourceWidth:g.dimensions.width,sourceHeight:g.dimensions.height,targetWidth:b.dimensions.width,targetHeight:b.dimensions.height,width:t.dimensions.width,height:t.dimensions.height,viewport:t.viewport})&&v.push(m)}return v}return t.edges}),u=vt(()=>[...s.value,...l.value]),c=vt(()=>{const v=[];for(const m of t.nodes)m.selected&&v.push(m);return v}),f=vt(()=>{const v=[];for(const m of t.edges)m.selected&&v.push(m);return v}),d=vt(()=>[...c.value,...f.value]),h=vt(()=>{const v=[];for(const m of t.nodes)m.dimensions.width&&m.dimensions.height&&m.handleBounds!==void 0&&v.push(m);return v}),p=vt(()=>s.value.length>0&&h.value.length===s.value.length);return{getNode:r,getEdge:i,getElements:u,getEdgeTypes:o,getNodeTypes:a,getEdges:l,getNodes:s,getSelectedElements:d,getSelectedNodes:c,getSelectedEdges:f,getNodesInitialized:h,areNodesInitialized:p}}class xr{constructor(){this.currentId=0,this.flows=new Map}static getInstance(){var e;const n=(e=zr())==null?void 0:e.appContext.app,r=(n==null?void 0:n.config.globalProperties.$vueFlowStorage)??xr.instance;return xr.instance=r??new xr,n&&(n.config.globalProperties.$vueFlowStorage=xr.instance),xr.instance}set(e,n){return this.flows.set(e,n)}get(e){return this.flows.get(e)}remove(e){return this.flows.delete(e)}create(e,n){const r=ag(),i=gs(r),o={};for(const[d,h]of Object.entries(i.hooks)){const p=`on${d.charAt(0).toUpperCase()+d.slice(1)}`;o[p]=h.on}const a={};for(const[d,h]of Object.entries(i.hooks))a[d]=h.trigger;const s=vt(()=>{const d=new Map;for(const h of i.nodes)d.set(h.id,h);return d}),l=vt(()=>{const d=new Map;for(const h of i.edges)d.set(h.id,h);return d}),u=tE(i,s,l),c=CS(i,s,l);c.setState({...i,...n});const f={...o,...u,...c,...Wy(i),nodeLookup:s,edgeLookup:l,emits:a,id:e,vueFlowVersion:"1.44.0",$destroy:()=>{this.remove(e)}};return this.set(e,f),f}getId(){return`vue-flow-${this.currentId++}`}}function Bt(t){const e=xr.getInstance(),n=rc(),r=typeof t=="object",i=r?t:{id:t},o=i.id,a=o??(n==null?void 0:n.vueFlowId);let s;if(n){const l=Je(Bd,null);typeof l<"u"&&l!==null&&(!a||l.id===a)&&(s=l)}if(s||a&&(s=e.get(a)),!s||a&&s.id!==a){const l=o??e.getId(),u=e.create(l,i);s=u,(n??ep(!0)).run(()=>{Rt(u.applyDefault,(f,d,h)=>{const p=m=>{u.applyNodeChanges(m)},v=m=>{u.applyEdgeChanges(m)};f?(u.onNodesChange(p),u.onEdgesChange(v)):(u.hooks.value.nodesChange.off(p),u.hooks.value.edgesChange.off(v)),h(()=>{u.hooks.value.nodesChange.off(p),u.hooks.value.edgesChange.off(v)})},{immediate:!0}),Cs(()=>{if(s){const f=e.get(s.id);f?f.$destroy():Rs(`No store instance found for id ${s.id} in storage.`)}})})}else r&&s.setState(i);if(n&&(ar(Bd,s),n.vueFlowId=s.id),r){const l=zr();(l==null?void 0:l.type.name)!=="VueFlow"&&s.emits.error(new ee(te.USEVUEFLOW_OPTIONS))}return s}function eE(t){const{emits:e,dimensions:n}=Bt();let r;en(()=>{const i=t.value,o=()=>{if(!i)return;const a=Ps(i);(a.width===0||a.height===0)&&e.error(new ee(te.MISSING_VIEWPORT_DIMENSIONS)),n.value={width:a.width||500,height:a.height||500}};o(),window.addEventListener("resize",o),i&&(r=new ResizeObserver(()=>o()),r.observe(i)),bs(()=>{window.removeEventListener("resize",o),r&&i&&r.unobserve(i)})})}const nE={name:"UserSelection",compatConfig:{MODE:3}},rE=Vt({...nE,props:{userSelectionRect:{}},setup(t){return(e,n)=>(ht(),Ct("div",{class:"vue-flow__selection vue-flow__container",style:pe({width:`${e.userSelectionRect.width}px`,height:`${e.userSelectionRect.height}px`,transform:`translate(${e.userSelectionRect.x}px, ${e.userSelectionRect.y}px)`})},null,4))}}),iE=["tabIndex"],oE={name:"NodesSelection",compatConfig:{MODE:3}},aE=Vt({...oE,setup(t){const{emits:e,viewport:n,getSelectedNodes:r,noPanClassName:i,disableKeyboardA11y:o,userSelectionActive:a}=Bt(),s=og(),l=bt(null),u=ng({el:l,onStart(p){e.selectionDragStart(p)},onDrag(p){e.selectionDrag(p)},onStop(p){e.selectionDragStop(p)}});en(()=>{var p;o.value||(p=l.value)==null||p.focus({preventScroll:!0})});const c=vt(()=>$c(r.value)),f=vt(()=>({width:`${c.value.width}px`,height:`${c.value.height}px`,top:`${c.value.y}px`,left:`${c.value.x}px`}));function d(p){e.selectionContextMenu({event:p,nodes:r.value})}function h(p){o||ai[p.key]&&(p.preventDefault(),s({x:ai[p.key].x,y:ai[p.key].y},p.shiftKey))}return(p,v)=>!et(a)&&c.value.width&&c.value.height?(ht(),Ct("div",{key:0,class:He(["vue-flow__nodesselection vue-flow__container",et(i)]),style:pe({transform:`translate(${et(n).x}px,${et(n).y}px) scale(${et(n).zoom})`})},[pt("div",{ref_key:"el",ref:l,class:He([{dragging:et(u)},"vue-flow__nodesselection-rect"]),style:pe(f.value),tabIndex:et(o)?void 0:-1,onContextmenu:d,onKeydown:h},null,46,iE)],6)):he("",!0)}});function sE(t,e){return{x:t.clientX-e.left,y:t.clientY-e.top}}const lE={name:"Pane",compatConfig:{MODE:3}},uE=Vt({...lE,props:{isSelecting:{type:Boolean},selectionKeyPressed:{type:Boolean}},setup(t){const{vueFlowRef:e,nodes:n,viewport:r,emits:i,userSelectionActive:o,removeSelectedElements:a,userSelectionRect:s,elementsSelectable:l,nodesSelectionActive:u,getSelectedEdges:c,getSelectedNodes:f,removeNodes:d,removeEdges:h,selectionMode:p,deleteKeyCode:v,multiSelectionKeyCode:m,multiSelectionActive:g,edgeLookup:b,nodeLookup:_,connectionLookup:w,defaultEdgeOptions:D,connectionStartHandle:$}=Bt(),E=bt(null),A=bt(new Set),O=bt(new Set),N=bt(),F=Ht(()=>l.value&&(t.isSelecting||o.value)),S=Ht(()=>$.value!==null);let G=!1,y=!1;const R=qi(v,{actInsideInputWithModifier:!1}),M=qi(m);Rt(R,Z=>{Z&&(d(f.value),h(c.value),u.value=!1)}),Rt(M,Z=>{g.value=Z});function L(Z,J){return tt=>{tt.target===J&&(Z==null||Z(tt))}}function k(Z){if(G||S.value){G=!1;return}i.paneClick(Z),a(),u.value=!1}function z(Z){Z.preventDefault(),Z.stopPropagation(),i.paneContextMenu(Z)}function V(Z){i.paneScroll(Z)}function Y(Z){var J,tt,it;if(N.value=(J=e.value)==null?void 0:J.getBoundingClientRect(),!l.value||!t.isSelecting||Z.button!==0||Z.target!==E.value||!N.value)return;(it=(tt=Z.target)==null?void 0:tt.setPointerCapture)==null||it.call(tt,Z.pointerId);const{x:at,y:ot}=sE(Z,N.value);y=!0,G=!1,a(),s.value={width:0,height:0,startX:at,startY:ot,x:at,y:ot},i.selectionStart(Z)}function j(Z){var J;if(!N.value||!s.value)return;G=!0;const{x:tt,y:it}=cn(Z,N.value),{startX:at=0,startY:ot=0}=s.value,dt={startX:at,startY:ot,x:tt<at?tt:at,y:it<ot?it:ot,width:Math.abs(tt-at),height:Math.abs(it-ot)},lt=A.value,I=O.value;A.value=new Set(qv(n.value,dt,r.value,p.value===Dc.Partial,!0).map(x=>x.id)),O.value=new Set;const B=((J=D.value)==null?void 0:J.selectable)??!0;for(const x of A.value){const C=w.value.get(x);if(C)for(const{edgeId:P}of C.values()){const T=b.value.get(P);T&&(T.selectable??B)&&O.value.add(P)}}if(!kd(lt,A.value)){const x=Qn(_.value,A.value,!0);i.nodesChange(x)}if(!kd(I,O.value)){const x=Qn(b.value,O.value);i.edgesChange(x)}s.value=dt,o.value=!0,u.value=!1}function rt(Z){var J;Z.button!==0||!y||((J=Z.target)==null||J.releasePointerCapture(Z.pointerId),!o.value&&s.value&&Z.target===E.value&&k(Z),o.value=!1,s.value=null,u.value=A.value.size>0,i.selectionEnd(Z),t.selectionKeyPressed&&(G=!1),y=!1)}return(Z,J)=>(ht(),Ct("div",{ref_key:"container",ref:E,class:He(["vue-flow__pane vue-flow__container",{selection:Z.isSelecting}]),onClick:J[0]||(J[0]=tt=>F.value?void 0:L(k,E.value)(tt)),onContextmenu:J[1]||(J[1]=tt=>L(z,E.value)(tt)),onWheelPassive:J[2]||(J[2]=tt=>L(V,E.value)(tt)),onPointerenter:J[3]||(J[3]=tt=>F.value?void 0:et(i).paneMouseEnter(tt)),onPointerdown:J[4]||(J[4]=tt=>F.value?Y(tt):et(i).paneMouseMove(tt)),onPointermove:J[5]||(J[5]=tt=>F.value?j(tt):et(i).paneMouseMove(tt)),onPointerup:J[6]||(J[6]=tt=>F.value?rt(tt):void 0),onPointerleave:J[7]||(J[7]=tt=>et(i).paneMouseLeave(tt))},[zn(Z.$slots,"default"),et(o)&&et(s)?(ht(),le(rE,{key:0,"user-selection-rect":et(s)},null,8,["user-selection-rect"])):he("",!0),et(u)&&et(f).length?(ht(),le(aE,{key:1})):he("",!0)],34))}}),cE={name:"Transform",compatConfig:{MODE:3}},fE=Vt({...cE,setup(t){const{viewport:e,fitViewOnInit:n,fitViewOnInitDone:r}=Bt(),i=vt(()=>n.value?!r.value:!1),o=vt(()=>`translate(${e.value.x}px,${e.value.y}px) scale(${e.value.zoom})`);return(a,s)=>(ht(),Ct("div",{class:"vue-flow__transformationpane vue-flow__container",style:pe({transform:o.value,opacity:i.value?0:void 0})},[zn(a.$slots,"default")],4))}}),dE={name:"Viewport",compatConfig:{MODE:3}},hE=Vt({...dE,setup(t){const{minZoom:e,maxZoom:n,defaultViewport:r,translateExtent:i,zoomActivationKeyCode:o,selectionKeyCode:a,panActivationKeyCode:s,panOnScroll:l,panOnScrollMode:u,panOnScrollSpeed:c,panOnDrag:f,zoomOnDoubleClick:d,zoomOnPinch:h,zoomOnScroll:p,preventScrolling:v,noWheelClassName:m,noPanClassName:g,emits:b,connectionStartHandle:_,userSelectionActive:w,paneDragging:D,d3Zoom:$,d3Selection:E,d3ZoomHandler:A,viewport:O,viewportRef:N,paneClickDistance:F}=Bt();eE(N);const S=$a(!1),G=$a(!1);let y=null,R=!1,M=0,L={x:0,y:0,zoom:0};const k=qi(s),z=qi(a),V=qi(o),Y=Ht(()=>(!z.value||z.value&&a.value===!0)&&(k.value||f.value)),j=Ht(()=>k.value||l.value),rt=Ht(()=>z.value||a.value===!0&&Y.value!==!0);en(()=>{if(!N.value){Rs("Viewport element is missing");return}const ot=N.value,dt=ot.getBoundingClientRect(),lt=Px().clickDistance(F.value).scaleExtent([e.value,n.value]).translateExtent(i.value),I=We(ot).call(lt),B=I.on("wheel.zoom"),x=hi.translate(r.value.x??0,r.value.y??0).scale(Ar(r.value.zoom??1,e.value,n.value)),C=[[0,0],[dt.width,dt.height]],P=lt.constrain()(x,C,i.value);lt.transform(I,P),lt.wheelDelta(J),$.value=lt,E.value=I,A.value=B,O.value={x:P.x,y:P.y,zoom:P.k},lt.on("start",T=>{var H;if(!T.sourceEvent)return null;M=T.sourceEvent.button,S.value=!0;const X=it(T.transform);((H=T.sourceEvent)==null?void 0:H.type)==="mousedown"&&(D.value=!0),L=X,b.viewportChangeStart(X),b.moveStart({event:T,flowTransform:X})}),lt.on("end",T=>{if(!T.sourceEvent)return null;if(S.value=!1,D.value=!1,Z(Y.value,M??0)&&!R&&b.paneContextMenu(T.sourceEvent),R=!1,tt(L,T.transform)){const H=it(T.transform);L=H,b.viewportChangeEnd(H),b.moveEnd({event:T,flowTransform:H})}}),lt.filter(T=>{var H;const X=V.value||p.value,U=h.value&&T.ctrlKey,W=T.button;if(W===1&&T.type==="mousedown"&&(at(T,"vue-flow__node")||at(T,"vue-flow__edge")))return!0;if(!Y.value&&!X&&!j.value&&!d.value&&!h.value||w.value||!d.value&&T.type==="dblclick"||at(T,m.value)&&T.type==="wheel"||at(T,g.value)&&(T.type!=="wheel"||j.value&&T.type==="wheel"&&!V.value)||!h.value&&T.ctrlKey&&T.type==="wheel"||!X&&!j.value&&!U&&T.type==="wheel")return!1;if(!h&&T.type==="touchstart"&&((H=T.touches)==null?void 0:H.length)>1)return T.preventDefault(),!1;if(!Y.value&&(T.type==="mousedown"||T.type==="touchstart")||a.value===!0&&Array.isArray(f.value)&&f.value.includes(0)&&W===0||Array.isArray(f.value)&&!f.value.includes(W)&&(T.type==="mousedown"||T.type==="touchstart"))return!1;const Q=Array.isArray(f.value)&&f.value.includes(W)||a.value===!0&&Array.isArray(f.value)&&!f.value.includes(0)||!W||W<=1;return(!T.ctrlKey||k.value||T.type==="wheel")&&Q}),Rt([w,Y],()=>{w.value&&!S.value?lt.on("zoom",null):w.value||lt.on("zoom",T=>{O.value={x:T.transform.x,y:T.transform.y,zoom:T.transform.k};const H=it(T.transform);R=Z(Y.value,M??0),b.viewportChange(H),b.move({event:T,flowTransform:H})})},{immediate:!0}),Rt([w,j,u,V,h,v,m],()=>{j.value&&!V.value&&!w.value?I.on("wheel.zoom",T=>{if(at(T,m.value))return!1;const H=V.value||p.value,X=h.value&&T.ctrlKey;if(!(!v.value||j.value||H||X))return!1;T.preventDefault(),T.stopImmediatePropagation();const W=I.property("__zoom").k||1,Q=Ua();if(!k.value&&T.ctrlKey&&h.value&&Q){const Tt=sn(T),Pt=J(T),jt=W*2**Pt;lt.scaleTo(I,jt,Tt,T);return}const K=T.deltaMode===1?20:1;let nt=u.value===Ui.Vertical?0:T.deltaX*K,st=u.value===Ui.Horizontal?0:T.deltaY*K;!Q&&T.shiftKey&&u.value!==Ui.Vertical&&!nt&&st&&(nt=st,st=0),lt.translateBy(I,-(nt/W)*c.value,-(st/W)*c.value);const mt=it(I.property("__zoom"));y&&clearTimeout(y),G.value?(b.move({event:T,flowTransform:mt}),b.viewportChange(mt),y=setTimeout(()=>{b.moveEnd({event:T,flowTransform:mt}),b.viewportChangeEnd(mt),G.value=!1},150)):(G.value=!0,b.moveStart({event:T,flowTransform:mt}),b.viewportChangeStart(mt))},{passive:!1}):typeof B<"u"&&I.on("wheel.zoom",function(T,H){const X=!v.value&&T.type==="wheel"&&!T.ctrlKey,U=V.value||p.value,W=h.value&&T.ctrlKey;if(!U&&!l.value&&!W&&T.type==="wheel"||X||at(T,m.value))return null;T.preventDefault(),B.call(this,T,H)},{passive:!1})},{immediate:!0})});function Z(ot,dt){return dt===2&&Array.isArray(ot)&&ot.includes(2)}function J(ot){const dt=ot.ctrlKey&&Ua()?10:1;return-ot.deltaY*(ot.deltaMode===1?.05:ot.deltaMode?1:.002)*dt}function tt(ot,dt){return ot.x!==dt.x&&!Number.isNaN(dt.x)||ot.y!==dt.y&&!Number.isNaN(dt.y)||ot.zoom!==dt.k&&!Number.isNaN(dt.k)}function it(ot){return{x:ot.x,y:ot.y,zoom:ot.k}}function at(ot,dt){return ot.target.closest(`.${dt}`)}return(ot,dt)=>(ht(),Ct("div",{ref_key:"viewportRef",ref:N,class:"vue-flow__viewport vue-flow__container"},[_t(uE,{"is-selecting":rt.value,"selection-key-pressed":et(z),class:He({connecting:!!et(_),dragging:et(D),draggable:et(f)===!0||Array.isArray(et(f))&&et(f).includes(0)})},{default:we(()=>[_t(fE,null,{default:we(()=>[zn(ot.$slots,"default")]),_:3})]),_:3},8,["is-selecting","selection-key-pressed","class"])],512))}}),pE=["id"],vE=["id"],gE=["id"],mE={name:"A11yDescriptions",compatConfig:{MODE:3}},yE=Vt({...mE,setup(t){const{id:e,disableKeyboardA11y:n,ariaLiveMessage:r}=Bt();return(i,o)=>(ht(),Ct(Gt,null,[pt("div",{id:`${et(Fv)}-${et(e)}`,style:{display:"none"}}," Press enter or space to select a node. "+ve(et(n)?"":"You can then use the arrow keys to move the node around.")+" You can then use the arrow keys to move the node around, press delete to remove it and press escape to cancel. ",9,pE),pt("div",{id:`${et(Gv)}-${et(e)}`,style:{display:"none"}}," Press enter or space to select an edge. You can then press delete to remove it or press escape to cancel. ",8,vE),et(n)?he("",!0):(ht(),Ct("div",{key:0,id:`${et(kx)}-${et(e)}`,"aria-live":"assertive","aria-atomic":"true",style:{position:"absolute",width:"1px",height:"1px",margin:"-1px",border:"0",padding:"0",overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)","clip-path":"inset(100%)"}},ve(et(r)),9,gE))],64))}});function _E(){const t=Bt();Rt(()=>t.viewportHelper.value.viewportInitialized,e=>{e&&setTimeout(()=>{t.emits.init(t),t.emits.paneReady(t)},1)})}function bE(t,e,n){return n===ft.Left?t-e:n===ft.Right?t+e:t}function wE(t,e,n){return n===ft.Top?t-e:n===ft.Bottom?t+e:t}const Nc=function({radius:t=10,centerX:e=0,centerY:n=0,position:r=ft.Top,type:i}){return It("circle",{class:`vue-flow__edgeupdater vue-flow__edgeupdater-${i}`,cx:bE(e,t,r),cy:wE(n,t,r),r:t,stroke:"transparent",fill:"transparent"})};Nc.props=["radius","centerX","centerY","position","type"];Nc.compatConfig={MODE:3};const Vd=Nc,xE=Vt({name:"Edge",compatConfig:{MODE:3},props:["id"],setup(t){const{id:e,addSelectedEdges:n,connectionMode:r,edgeUpdaterRadius:i,emits:o,nodesSelectionActive:a,noPanClassName:s,getEdgeTypes:l,removeSelectedEdges:u,findEdge:c,findNode:f,isValidConnection:d,multiSelectionActive:h,disableKeyboardA11y:p,elementsSelectable:v,edgesUpdatable:m,edgesFocusable:g,hooks:b}=Bt(),_=vt(()=>c(t.id)),{emit:w,on:D}=hS(_.value,o),$=Je(Os),E=zr(),A=bt(!1),O=bt(!1),N=bt(""),F=bt(null),S=bt("source"),G=bt(null),y=Ht(()=>typeof _.value.selectable>"u"?v.value:_.value.selectable),R=Ht(()=>typeof _.value.updatable>"u"?m.value:_.value.updatable),M=Ht(()=>typeof _.value.focusable>"u"?g.value:_.value.focusable);ar(cS,t.id),ar(fS,G);const L=vt(()=>_.value.class instanceof Function?_.value.class(_.value):_.value.class),k=vt(()=>_.value.style instanceof Function?_.value.style(_.value):_.value.style),z=vt(()=>{const C=_.value.type||"default",P=$==null?void 0:$[`edge-${C}`];if(P)return P;let T=_.value.template??l.value[C];if(typeof T=="string"&&E){const H=Object.keys(E.appContext.components);H&&H.includes(C)&&(T=Op(C,!1))}return T&&typeof T!="string"?T:(o.error(new ee(te.EDGE_TYPE_MISSING,T)),!1)}),{handlePointerDown:V}=rg({nodeId:N,handleId:F,type:S,isValidConnection:d,edgeUpdaterType:S,onEdgeUpdate:rt,onEdgeUpdateEnd:Z});return()=>{const C=f(_.value.source),P=f(_.value.target),T="pathOptions"in _.value?_.value.pathOptions:{};if(!C&&!P)return o.error(new ee(te.EDGE_SOURCE_TARGET_MISSING,_.value.id,_.value.source,_.value.target)),null;if(!C)return o.error(new ee(te.EDGE_SOURCE_MISSING,_.value.id,_.value.source)),null;if(!P)return o.error(new ee(te.EDGE_TARGET_MISSING,_.value.id,_.value.target)),null;if(!_.value||_.value.hidden||C.hidden||P.hidden)return null;let H;r.value===lr.Strict?H=C.handleBounds.source:H=[...C.handleBounds.source||[],...C.handleBounds.target||[]];const X=Pd(H,_.value.sourceHandle);let U;r.value===lr.Strict?U=P.handleBounds.target:U=[...P.handleBounds.target||[],...P.handleBounds.source||[]];const W=Pd(U,_.value.targetHandle),Q=(X==null?void 0:X.position)||ft.Bottom,K=(W==null?void 0:W.position)||ft.Top,{x:nt,y:st}=pi(C,X,Q),{x:mt,y:Tt}=pi(P,W,K);return _.value.sourceX=nt,_.value.sourceY=st,_.value.targetX=mt,_.value.targetY=Tt,It("g",{ref:G,key:t.id,"data-id":t.id,class:["vue-flow__edge",`vue-flow__edge-${z.value===!1?"default":_.value.type||"default"}`,s.value,L.value,{updating:A.value,selected:_.value.selected,animated:_.value.animated,inactive:!y.value&&!b.value.edgeClick.hasListeners()}],onClick:tt,onContextmenu:it,onDblclick:at,onMouseenter:ot,onMousemove:dt,onMouseleave:lt,onKeyDown:M.value?x:void 0,tabIndex:M.value?0:void 0,"aria-label":_.value.ariaLabel===null?void 0:_.value.ariaLabel||`Edge from ${_.value.source} to ${_.value.target}`,"aria-describedby":M.value?`${Gv}-${e}`:void 0,role:M.value?"button":"img"},[O.value?null:It(z.value===!1?l.value.default:z.value,{id:t.id,sourceNode:C,targetNode:P,source:_.value.source,target:_.value.target,type:_.value.type,updatable:R.value,selected:_.value.selected,animated:_.value.animated,label:_.value.label,labelStyle:_.value.labelStyle,labelShowBg:_.value.labelShowBg,labelBgStyle:_.value.labelBgStyle,labelBgPadding:_.value.labelBgPadding,labelBgBorderRadius:_.value.labelBgBorderRadius,data:_.value.data,events:{..._.value.events,...D},style:k.value,markerStart:`url('#${co(_.value.markerStart,e)}')`,markerEnd:`url('#${co(_.value.markerEnd,e)}')`,sourcePosition:Q,targetPosition:K,sourceX:nt,sourceY:st,targetX:mt,targetY:Tt,sourceHandleId:_.value.sourceHandle,targetHandleId:_.value.targetHandle,interactionWidth:_.value.interactionWidth,...T}),[R.value==="source"||R.value===!0?[It("g",{onMousedown:I,onMouseenter:Y,onMouseout:j},It(Vd,{position:Q,centerX:nt,centerY:st,radius:i.value,type:"source","data-type":"source"}))]:null,R.value==="target"||R.value===!0?[It("g",{onMousedown:B,onMouseenter:Y,onMouseout:j},It(Vd,{position:K,centerX:mt,centerY:Tt,radius:i.value,type:"target","data-type":"target"}))]:null]])};function Y(){A.value=!0}function j(){A.value=!1}function rt(C,P){w.update({event:C,edge:_.value,connection:P})}function Z(C){w.updateEnd({event:C,edge:_.value}),O.value=!1}function J(C,P){C.button===0&&(O.value=!0,N.value=P?_.value.target:_.value.source,F.value=(P?_.value.targetHandle:_.value.sourceHandle)??null,S.value=P?"target":"source",w.updateStart({event:C,edge:_.value}),V(C))}function tt(C){var P;const T={event:C,edge:_.value};y.value&&(a.value=!1,_.value.selected&&h.value?(u([_.value]),(P=G.value)==null||P.blur()):n([_.value])),w.click(T)}function it(C){w.contextMenu({event:C,edge:_.value})}function at(C){w.doubleClick({event:C,edge:_.value})}function ot(C){w.mouseEnter({event:C,edge:_.value})}function dt(C){w.mouseMove({event:C,edge:_.value})}function lt(C){w.mouseLeave({event:C,edge:_.value})}function I(C){J(C,!0)}function B(C){J(C,!1)}function x(C){var P;!p.value&&Lv.includes(C.key)&&y.value&&(C.key==="Escape"?((P=G.value)==null||P.blur(),u([c(t.id)])):n([c(t.id)]))}}}),SE=xE,EE=Vt({name:"ConnectionLine",compatConfig:{MODE:3},setup(){var t;const{id:e,connectionMode:n,connectionStartHandle:r,connectionEndHandle:i,connectionPosition:o,connectionLineType:a,connectionLineStyle:s,connectionLineOptions:l,connectionStatus:u,viewport:c,findNode:f}=Bt(),d=(t=Je(Os))==null?void 0:t["connection-line"],h=vt(()=>{var b;return f((b=r.value)==null?void 0:b.nodeId)}),p=vt(()=>{var b;return f((b=i.value)==null?void 0:b.nodeId)??null}),v=vt(()=>({x:(o.value.x-c.value.x)/c.value.zoom,y:(o.value.y-c.value.y)/c.value.zoom})),m=vt(()=>l.value.markerStart?`url(#${co(l.value.markerStart,e)})`:""),g=vt(()=>l.value.markerEnd?`url(#${co(l.value.markerEnd,e)})`:"");return()=>{var b,_,w;if(!h.value||!r.value)return null;const D=r.value.id,$=r.value.type,E=h.value.handleBounds;let A=(E==null?void 0:E[$])??[];if(n.value===lr.Loose){const k=(E==null?void 0:E[$==="source"?"target":"source"])??[];A=[...A,...k]}if(!A)return null;const O=(D?A.find(k=>k.id===D):A[0])??null,N=(O==null?void 0:O.position)??ft.Top,{x:F,y:S}=pi(h.value,O,N);let G=null;p.value&&(n.value===lr.Strict?G=((b=p.value.handleBounds[$==="source"?"target":"source"])==null?void 0:b.find(k=>{var z;return k.id===((z=i.value)==null?void 0:z.id)}))||null:G=((_=[...p.value.handleBounds.source??[],...p.value.handleBounds.target??[]])==null?void 0:_.find(k=>{var z;return k.id===((z=i.value)==null?void 0:z.id)}))||null);const y=((w=i.value)==null?void 0:w.position)??(N?hu[N]:null);if(!N||!y)return null;const R=a.value??l.value.type??br.Bezier;let M="";const L={sourceX:F,sourceY:S,sourcePosition:N,targetX:v.value.x,targetY:v.value.y,targetPosition:y};return R===br.Bezier?[M]=ug(L):R===br.Step?[M]=vu({...L,borderRadius:0}):R===br.SmoothStep?[M]=vu(L):R===br.SimpleBezier?[M]=cg(L):M=`M${F},${S} ${v.value.x},${v.value.y}`,It("svg",{class:"vue-flow__edges vue-flow__connectionline vue-flow__container"},It("g",{class:"vue-flow__connection"},d?It(d,{sourceX:F,sourceY:S,sourcePosition:N,targetX:v.value.x,targetY:v.value.y,targetPosition:y,sourceNode:h.value,sourceHandle:O,targetNode:p.value,targetHandle:G,markerEnd:g.value,markerStart:m.value,connectionStatus:u.value}):It("path",{d:M,class:[l.value.class,u,"vue-flow__connection-path"],style:{...s.value,...l.value.style},"marker-end":g.value,"marker-start":m.value})))}}}),CE=EE,ME=["id","markerWidth","markerHeight","markerUnits","orient"],DE={name:"MarkerType",compatConfig:{MODE:3}},$E=Vt({...DE,props:{id:{},type:{},color:{default:"none"},width:{default:12.5},height:{default:12.5},markerUnits:{default:"strokeWidth"},orient:{default:"auto-start-reverse"},strokeWidth:{default:1}},setup(t){return(e,n)=>(ht(),Ct("marker",{id:e.id,class:"vue-flow__arrowhead",viewBox:"-10 -10 20 20",refX:"0",refY:"0",markerWidth:`${e.width}`,markerHeight:`${e.height}`,markerUnits:e.markerUnits,orient:e.orient},[e.type===et(Va).ArrowClosed?(ht(),Ct("polyline",{key:0,style:pe({stroke:e.color,fill:e.color,strokeWidth:e.strokeWidth}),"stroke-linecap":"round","stroke-linejoin":"round",points:"-5,-4 0,0 -5,4 -5,-4"},null,4)):he("",!0),e.type===et(Va).Arrow?(ht(),Ct("polyline",{key:1,style:pe({stroke:e.color,strokeWidth:e.strokeWidth}),"stroke-linecap":"round","stroke-linejoin":"round",fill:"none",points:"-5,-4 0,0 -5,4"},null,4)):he("",!0)],8,ME))}}),TE={class:"vue-flow__marker vue-flow__container","aria-hidden":"true"},PE={name:"MarkerDefinitions",compatConfig:{MODE:3}},NE=Vt({...PE,setup(t){const{id:e,edges:n,connectionLineOptions:r,defaultMarkerColor:i}=Bt(),o=vt(()=>{const a=new Set,s=[],l=u=>{if(u){const c=co(u,e);a.has(c)||(typeof u=="object"?s.push({...u,id:c,color:u.color||i.value}):s.push({id:c,color:i.value,type:u}),a.add(c))}};for(const u of[r.value.markerEnd,r.value.markerStart])l(u);for(const u of n.value)for(const c of[u.markerStart,u.markerEnd])l(c);return s.sort((u,c)=>u.id.localeCompare(c.id))});return(a,s)=>(ht(),Ct("svg",TE,[pt("defs",null,[(ht(!0),Ct(Gt,null,ws(o.value,l=>(ht(),le($E,{id:l.id,key:l.id,type:l.type,color:l.color,width:l.width,height:l.height,markerUnits:l.markerUnits,"stroke-width":l.strokeWidth,orient:l.orient},null,8,["id","type","color","width","height","markerUnits","stroke-width","orient"]))),128))])]))}}),RE={name:"Edges",compatConfig:{MODE:3}},OE=Vt({...RE,setup(t){const{findNode:e,getEdges:n,elevateEdgesOnSelect:r}=Bt();return(i,o)=>(ht(),Ct(Gt,null,[_t(NE),(ht(!0),Ct(Gt,null,ws(et(n),a=>(ht(),Ct("svg",{key:a.id,class:"vue-flow__edges vue-flow__container",style:pe({zIndex:et(Zx)(a,et(e),et(r))})},[_t(et(SE),{id:a.id},null,8,["id"])],4))),128)),_t(et(CE))],64))}}),IE=Vt({name:"Node",compatConfig:{MODE:3},props:["id","resizeObserver"],setup(t){const{id:e,noPanClassName:n,selectNodesOnDrag:r,nodesSelectionActive:i,multiSelectionActive:o,emits:a,removeSelectedNodes:s,addSelectedNodes:l,updateNodeDimensions:u,onUpdateNodeInternals:c,getNodeTypes:f,nodeExtent:d,elevateNodesOnSelect:h,disableKeyboardA11y:p,ariaLiveMessage:v,snapToGrid:m,snapGrid:g,nodeDragThreshold:b,nodesDraggable:_,elementsSelectable:w,nodesConnectable:D,nodesFocusable:$,hooks:E}=Bt(),A=bt(null);ar(eg,A),ar(tg,t.id);const O=Je(Os),N=zr(),F=og(),{node:S,parentNode:G}=ig(t.id),{emit:y,on:R}=mS(S,a),M=Ht(()=>typeof S.draggable>"u"?_.value:S.draggable),L=Ht(()=>typeof S.selectable>"u"?w.value:S.selectable),k=Ht(()=>typeof S.connectable>"u"?D.value:S.connectable),z=Ht(()=>typeof S.focusable>"u"?$.value:S.focusable),V=vt(()=>L.value||M.value||E.value.nodeClick.hasListeners()||E.value.nodeDoubleClick.hasListeners()||E.value.nodeMouseEnter.hasListeners()||E.value.nodeMouseMove.hasListeners()||E.value.nodeMouseLeave.hasListeners()),Y=Ht(()=>!!S.dimensions.width&&!!S.dimensions.height),j=vt(()=>{const P=S.type||"default",T=O==null?void 0:O[`node-${P}`];if(T)return T;let H=S.template||f.value[P];if(typeof H=="string"&&N){const X=Object.keys(N.appContext.components);X&&X.includes(P)&&(H=Op(P,!1))}return H&&typeof H!="string"?H:(a.error(new ee(te.NODE_TYPE_MISSING,H)),!1)}),rt=ng({id:t.id,el:A,disabled:()=>!M.value,selectable:L,dragHandle:()=>S.dragHandle,onStart(P){y.dragStart(P)},onDrag(P){y.drag(P)},onStop(P){y.dragStop(P)},onClick(P){x(P)}}),Z=vt(()=>S.class instanceof Function?S.class(S):S.class),J=vt(()=>{const P=(S.style instanceof Function?S.style(S):S.style)||{},T=S.width instanceof Function?S.width(S):S.width,H=S.height instanceof Function?S.height(S):S.height;return!P.width&&T&&(P.width=typeof T=="string"?T:`${T}px`),!P.height&&H&&(P.height=typeof H=="string"?H:`${H}px`),P}),tt=Ht(()=>Number(S.zIndex??J.value.zIndex??0));return c(P=>{(P.includes(t.id)||!P.length)&&at()}),en(()=>{Rt(()=>S.hidden,(P=!1,T,H)=>{!P&&A.value&&(t.resizeObserver.observe(A.value),H(()=>{A.value&&t.resizeObserver.unobserve(A.value)}))},{immediate:!0,flush:"post"})}),Rt([()=>S.type,()=>S.sourcePosition,()=>S.targetPosition],()=>{Ze(()=>{u([{id:t.id,nodeElement:A.value,forceUpdate:!0}])})}),Rt([()=>S.position.x,()=>S.position.y,()=>{var P;return(P=G.value)==null?void 0:P.computedPosition.x},()=>{var P;return(P=G.value)==null?void 0:P.computedPosition.y},()=>{var P;return(P=G.value)==null?void 0:P.computedPosition.z},tt,()=>S.selected,()=>S.dimensions.height,()=>S.dimensions.width,()=>{var P;return(P=G.value)==null?void 0:P.dimensions.height},()=>{var P;return(P=G.value)==null?void 0:P.dimensions.width}],([P,T,H,X,U,W])=>{const Q={x:P,y:T,z:W+(h.value&&S.selected?1e3:0)};typeof H<"u"&&typeof X<"u"?S.computedPosition=Hx({x:H,y:X,z:U},Q):S.computedPosition=Q},{flush:"post",immediate:!0}),Rt([()=>S.extent,d],([P,T],[H,X])=>{(P!==H||T!==X)&&it()}),S.extent==="parent"||typeof S.extent=="object"&&"range"in S.extent&&S.extent.range==="parent"?nu(()=>Y).toBe(!0).then(it):it(),()=>S.hidden?null:It("div",{ref:A,"data-id":S.id,class:["vue-flow__node",`vue-flow__node-${j.value===!1?"default":S.type||"default"}`,{[n.value]:M.value,dragging:rt==null?void 0:rt.value,draggable:M.value,selected:S.selected,selectable:L.value,parent:S.isParent},Z.value],style:{visibility:Y.value?"visible":"hidden",zIndex:S.computedPosition.z??tt.value,transform:`translate(${S.computedPosition.x}px,${S.computedPosition.y}px)`,pointerEvents:V.value?"all":"none",...J.value},tabIndex:z.value?0:void 0,role:z.value?"button":void 0,"aria-describedby":p.value?void 0:`${Fv}-${e}`,"aria-label":S.ariaLabel,onMouseenter:ot,onMousemove:dt,onMouseleave:lt,onContextmenu:I,onClick:x,onDblclick:B,onKeydown:C},[It(j.value===!1?f.value.default:j.value,{id:S.id,type:S.type,data:S.data,events:{...S.events,...R},selected:S.selected,resizing:S.resizing,dragging:rt.value,connectable:k.value,position:S.computedPosition,dimensions:S.dimensions,isValidTargetPos:S.isValidTargetPos,isValidSourcePos:S.isValidSourcePos,parent:S.parentNode,parentNodeId:S.parentNode,zIndex:S.computedPosition.z??tt.value,targetPosition:S.targetPosition,sourcePosition:S.sourcePosition,label:S.label,dragHandle:S.dragHandle,onUpdateNodeInternals:at})]);function it(){const P=S.computedPosition,{computedPosition:T,position:H}=Tc(S,m.value?Ns(P,g.value):P,a.error,d.value,G.value);(S.computedPosition.x!==T.x||S.computedPosition.y!==T.y)&&(S.computedPosition={...S.computedPosition,...T}),(S.position.x!==H.x||S.position.y!==H.y)&&(S.position=H)}function at(){A.value&&u([{id:t.id,nodeElement:A.value,forceUpdate:!0}])}function ot(P){rt!=null&&rt.value||y.mouseEnter({event:P,node:S})}function dt(P){rt!=null&&rt.value||y.mouseMove({event:P,node:S})}function lt(P){rt!=null&&rt.value||y.mouseLeave({event:P,node:S})}function I(P){return y.contextMenu({event:P,node:S})}function B(P){return y.doubleClick({event:P,node:S})}function x(P){L.value&&(!r.value||!M.value||b.value>0)&&pu(S,o.value,l,s,i,!1,A.value),y.click({event:P,node:S})}function C(P){if(!(fu(P)||p.value))if(Lv.includes(P.key)&&L.value){const T=P.key==="Escape";pu(S,o.value,l,s,i,T,A.value)}else M.value&&S.selected&&ai[P.key]&&(P.preventDefault(),v.value=`Moved selected node ${P.key.replace("Arrow","").toLowerCase()}. New position, x: ${~~S.position.x}, y: ${~~S.position.y}`,F({x:ai[P.key].x,y:ai[P.key].y},P.shiftKey))}}}),AE=IE;function kE(t={includeHiddenNodes:!1}){const{nodes:e}=Bt();return vt(()=>{if(e.value.length===0)return!1;for(const n of e.value)if((t.includeHiddenNodes||!n.hidden)&&((n==null?void 0:n.handleBounds)===void 0||n.dimensions.width===0||n.dimensions.height===0))return!1;return!0})}const BE={class:"vue-flow__nodes vue-flow__container"},zE={name:"Nodes",compatConfig:{MODE:3}},FE=Vt({...zE,setup(t){const{getNodes:e,updateNodeDimensions:n,emits:r}=Bt(),i=kE(),o=bt();return Rt(i,a=>{a&&Ze(()=>{r.nodesInitialized(e.value)})},{immediate:!0}),en(()=>{o.value=new ResizeObserver(a=>{const s=a.map(l=>({id:l.target.getAttribute("data-id"),nodeElement:l.target,forceUpdate:!0}));Ze(()=>n(s))})}),bs(()=>{var a;return(a=o.value)==null?void 0:a.disconnect()}),(a,s)=>(ht(),Ct("div",BE,[o.value?(ht(!0),Ct(Gt,{key:0},ws(et(e),(l,u,c,f)=>{const d=[l.id];if(f&&f.key===l.id&&iy(f,d))return f;const h=(ht(),le(et(AE),{id:l.id,key:l.id,"resize-observer":o.value},null,8,["id","resize-observer"]));return h.memo=d,h},s,0),128)):he("",!0)]))}});function GE(){const{emits:t}=Bt();en(()=>{if(Qv()){const e=document.querySelector(".vue-flow__pane");e&&window.getComputedStyle(e).zIndex!=="1"&&t.error(new ee(te.MISSING_STYLES))}})}const LE=pt("div",{class:"vue-flow__edge-labels"},null,-1),VE={name:"VueFlow",compatConfig:{MODE:3}},HE=Vt({...VE,props:{id:{},modelValue:{},nodes:{},edges:{},edgeTypes:{},nodeTypes:{},connectionMode:{},connectionLineType:{},connectionLineStyle:{default:void 0},connectionLineOptions:{default:void 0},connectionRadius:{},isValidConnection:{type:[Function,null],default:void 0},deleteKeyCode:{default:void 0},selectionKeyCode:{type:[Boolean,null],default:void 0},multiSelectionKeyCode:{default:void 0},zoomActivationKeyCode:{default:void 0},panActivationKeyCode:{default:void 0},snapToGrid:{type:Boolean,default:void 0},snapGrid:{},onlyRenderVisibleElements:{type:Boolean,default:void 0},edgesUpdatable:{type:[Boolean,String],default:void 0},nodesDraggable:{type:Boolean,default:void 0},nodesConnectable:{type:Boolean,default:void 0},nodeDragThreshold:{},elementsSelectable:{type:Boolean,default:void 0},selectNodesOnDrag:{type:Boolean,default:void 0},panOnDrag:{type:[Boolean,Array],default:void 0},minZoom:{},maxZoom:{},defaultViewport:{},translateExtent:{},nodeExtent:{},defaultMarkerColor:{},zoomOnScroll:{type:Boolean,default:void 0},zoomOnPinch:{type:Boolean,default:void 0},panOnScroll:{type:Boolean,default:void 0},panOnScrollSpeed:{},panOnScrollMode:{},paneClickDistance:{},zoomOnDoubleClick:{type:Boolean,default:void 0},preventScrolling:{type:Boolean,default:void 0},selectionMode:{},edgeUpdaterRadius:{},fitViewOnInit:{type:Boolean,default:void 0},connectOnClick:{type:Boolean,default:void 0},applyDefault:{type:Boolean,default:void 0},autoConnect:{type:[Boolean,Function],default:void 0},noDragClassName:{},noWheelClassName:{},noPanClassName:{},defaultEdgeOptions:{},elevateEdgesOnSelect:{type:Boolean,default:void 0},elevateNodesOnSelect:{type:Boolean,default:void 0},disableKeyboardA11y:{type:Boolean,default:void 0},edgesFocusable:{type:Boolean,default:void 0},nodesFocusable:{type:Boolean,default:void 0},autoPanOnConnect:{type:Boolean,default:void 0},autoPanOnNodeDrag:{type:Boolean,default:void 0},autoPanSpeed:{}},emits:["nodesChange","edgesChange","nodesInitialized","paneReady","init","updateNodeInternals","error","connect","connectStart","connectEnd","clickConnectStart","clickConnectEnd","moveStart","move","moveEnd","selectionDragStart","selectionDrag","selectionDragStop","selectionContextMenu","selectionStart","selectionEnd","viewportChangeStart","viewportChange","viewportChangeEnd","paneScroll","paneClick","paneContextMenu","paneMouseEnter","paneMouseMove","paneMouseLeave","edgeUpdate","edgeContextMenu","edgeMouseEnter","edgeMouseMove","edgeMouseLeave","edgeDoubleClick","edgeClick","edgeUpdateStart","edgeUpdateEnd","nodeContextMenu","nodeMouseEnter","nodeMouseMove","nodeMouseLeave","nodeDoubleClick","nodeClick","nodeDragStart","nodeDrag","nodeDragStop","miniMapNodeClick","miniMapNodeDoubleClick","miniMapNodeMouseEnter","miniMapNodeMouseMove","miniMapNodeMouseLeave","update:modelValue","update:nodes","update:edges"],setup(t,{expose:e,emit:n}){const r=t,i=zp(),o=vl(r,"modelValue",n),a=vl(r,"nodes",n),s=vl(r,"edges",n),l=Bt(r),u=wS({modelValue:o,nodes:a,edges:s},r,l);return SS(n,l.hooks),_E(),GE(),ar(Os,i),hc(()=>{u()}),e(l),(c,f)=>(ht(),Ct("div",{ref:et(l).vueFlowRef,class:"vue-flow"},[_t(hE,null,{default:we(()=>[_t(OE),LE,_t(FE),zn(c.$slots,"zoom-pane")]),_:3}),zn(c.$slots,"default"),_t(yE)],512))}}),YE={name:"Panel",compatConfig:{MODE:3}},XE=Vt({...YE,props:{position:{}},setup(t){const e=t,{userSelectionActive:n}=Bt(),r=vt(()=>`${e.position}`.split("-"));return(i,o)=>(ht(),Ct("div",{class:He(["vue-flow__panel",r.value]),style:pe({pointerEvents:et(n)?"none":"all"})},[zn(i.$slots,"default")],6))}});var WE={value:()=>{}};function Rc(){for(var t=0,e=arguments.length,n={},r;t<e;++t){if(!(r=arguments[t]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new _a(n)}function _a(t){this._=t}function UE(t,e){return t.trim().split(/^|\s+/).map(function(n){var r="",i=n.indexOf(".");if(i>=0&&(r=n.slice(i+1),n=n.slice(0,i)),n&&!e.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}_a.prototype=Rc.prototype={constructor:_a,on:function(t,e){var n=this._,r=UE(t+"",n),i,o=-1,a=r.length;if(arguments.length<2){for(;++o<a;)if((i=(t=r[o]).type)&&(i=qE(n[i],t.name)))return i;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++o<a;)if(i=(t=r[o]).type)n[i]=Hd(n[i],t.name,e);else if(e==null)for(i in n)n[i]=Hd(n[i],t.name,null);return this},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new _a(t)},call:function(t,e){if((i=arguments.length-2)>0)for(var n=new Array(i),r=0,i,o;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(o=this._[t],r=0,i=o.length;r<i;++r)o[r].value.apply(e,n)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,o=r.length;i<o;++i)r[i].value.apply(e,n)}};function qE(t,e){for(var n=0,r=t.length,i;n<r;++n)if((i=t[n]).name===e)return i.value}function Hd(t,e,n){for(var r=0,i=t.length;r<i;++r)if(t[r].name===e){t[r]=WE,t=t.slice(0,r).concat(t.slice(r+1));break}return n!=null&&t.push({name:e,value:n}),t}var gu="http://www.w3.org/1999/xhtml";const Yd={svg:"http://www.w3.org/2000/svg",xhtml:gu,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function zs(t){var e=t+="",n=e.indexOf(":");return n>=0&&(e=t.slice(0,n))!=="xmlns"&&(t=t.slice(n+1)),Yd.hasOwnProperty(e)?{space:Yd[e],local:t}:t}function jE(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===gu&&e.documentElement.namespaceURI===gu?e.createElement(t):e.createElementNS(n,t)}}function KE(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function dg(t){var e=zs(t);return(e.local?KE:jE)(e)}function ZE(){}function Oc(t){return t==null?ZE:function(){return this.querySelector(t)}}function JE(t){typeof t!="function"&&(t=Oc(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o=e[i],a=o.length,s=r[i]=new Array(a),l,u,c=0;c<a;++c)(l=o[c])&&(u=t.call(l,l.__data__,c,o))&&("__data__"in l&&(u.__data__=l.__data__),s[c]=u);return new Oe(r,this._parents)}function QE(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function tC(){return[]}function hg(t){return t==null?tC:function(){return this.querySelectorAll(t)}}function eC(t){return function(){return QE(t.apply(this,arguments))}}function nC(t){typeof t=="function"?t=eC(t):t=hg(t);for(var e=this._groups,n=e.length,r=[],i=[],o=0;o<n;++o)for(var a=e[o],s=a.length,l,u=0;u<s;++u)(l=a[u])&&(r.push(t.call(l,l.__data__,u,a)),i.push(l));return new Oe(r,i)}function pg(t){return function(){return this.matches(t)}}function vg(t){return function(e){return e.matches(t)}}var rC=Array.prototype.find;function iC(t){return function(){return rC.call(this.children,t)}}function oC(){return this.firstElementChild}function aC(t){return this.select(t==null?oC:iC(typeof t=="function"?t:vg(t)))}var sC=Array.prototype.filter;function lC(){return Array.from(this.children)}function uC(t){return function(){return sC.call(this.children,t)}}function cC(t){return this.selectAll(t==null?lC:uC(typeof t=="function"?t:vg(t)))}function fC(t){typeof t!="function"&&(t=pg(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o=e[i],a=o.length,s=r[i]=[],l,u=0;u<a;++u)(l=o[u])&&t.call(l,l.__data__,u,o)&&s.push(l);return new Oe(r,this._parents)}function gg(t){return new Array(t.length)}function dC(){return new Oe(this._enter||this._groups.map(gg),this._parents)}function qa(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}qa.prototype={constructor:qa,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function hC(t){return function(){return t}}function pC(t,e,n,r,i,o){for(var a=0,s,l=e.length,u=o.length;a<u;++a)(s=e[a])?(s.__data__=o[a],r[a]=s):n[a]=new qa(t,o[a]);for(;a<l;++a)(s=e[a])&&(i[a]=s)}function vC(t,e,n,r,i,o,a){var s,l,u=new Map,c=e.length,f=o.length,d=new Array(c),h;for(s=0;s<c;++s)(l=e[s])&&(d[s]=h=a.call(l,l.__data__,s,e)+"",u.has(h)?i[s]=l:u.set(h,l));for(s=0;s<f;++s)h=a.call(t,o[s],s,o)+"",(l=u.get(h))?(r[s]=l,l.__data__=o[s],u.delete(h)):n[s]=new qa(t,o[s]);for(s=0;s<c;++s)(l=e[s])&&u.get(d[s])===l&&(i[s]=l)}function gC(t){return t.__data__}function mC(t,e){if(!arguments.length)return Array.from(this,gC);var n=e?vC:pC,r=this._parents,i=this._groups;typeof t!="function"&&(t=hC(t));for(var o=i.length,a=new Array(o),s=new Array(o),l=new Array(o),u=0;u<o;++u){var c=r[u],f=i[u],d=f.length,h=yC(t.call(c,c&&c.__data__,u,r)),p=h.length,v=s[u]=new Array(p),m=a[u]=new Array(p),g=l[u]=new Array(d);n(c,f,v,m,g,h,e);for(var b=0,_=0,w,D;b<p;++b)if(w=v[b]){for(b>=_&&(_=b+1);!(D=m[_])&&++_<p;);w._next=D||null}}return a=new Oe(a,r),a._enter=s,a._exit=l,a}function yC(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function _C(){return new Oe(this._exit||this._groups.map(gg),this._parents)}function bC(t,e,n){var r=this.enter(),i=this,o=this.exit();return typeof t=="function"?(r=t(r),r&&(r=r.selection())):r=r.append(t+""),e!=null&&(i=e(i),i&&(i=i.selection())),n==null?o.remove():n(o),r&&i?r.merge(i).order():i}function wC(t){for(var e=t.selection?t.selection():t,n=this._groups,r=e._groups,i=n.length,o=r.length,a=Math.min(i,o),s=new Array(i),l=0;l<a;++l)for(var u=n[l],c=r[l],f=u.length,d=s[l]=new Array(f),h,p=0;p<f;++p)(h=u[p]||c[p])&&(d[p]=h);for(;l<i;++l)s[l]=n[l];return new Oe(s,this._parents)}function xC(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r=t[e],i=r.length-1,o=r[i],a;--i>=0;)(a=r[i])&&(o&&a.compareDocumentPosition(o)^4&&o.parentNode.insertBefore(a,o),o=a);return this}function SC(t){t||(t=EC);function e(f,d){return f&&d?t(f.__data__,d.__data__):!f-!d}for(var n=this._groups,r=n.length,i=new Array(r),o=0;o<r;++o){for(var a=n[o],s=a.length,l=i[o]=new Array(s),u,c=0;c<s;++c)(u=a[c])&&(l[c]=u);l.sort(e)}return new Oe(i,this._parents).order()}function EC(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function CC(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function MC(){return Array.from(this)}function DC(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,o=r.length;i<o;++i){var a=r[i];if(a)return a}return null}function $C(){let t=0;for(const e of this)++t;return t}function TC(){return!this.node()}function PC(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var i=e[n],o=0,a=i.length,s;o<a;++o)(s=i[o])&&t.call(s,s.__data__,o,i);return this}function NC(t){return function(){this.removeAttribute(t)}}function RC(t){return function(){this.removeAttributeNS(t.space,t.local)}}function OC(t,e){return function(){this.setAttribute(t,e)}}function IC(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function AC(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttribute(t):this.setAttribute(t,n)}}function kC(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function BC(t,e){var n=zs(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((e==null?n.local?RC:NC:typeof e=="function"?n.local?kC:AC:n.local?IC:OC)(n,e))}function mg(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function zC(t){return function(){this.style.removeProperty(t)}}function FC(t,e,n){return function(){this.style.setProperty(t,e,n)}}function GC(t,e,n){return function(){var r=e.apply(this,arguments);r==null?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}function LC(t,e,n){return arguments.length>1?this.each((e==null?zC:typeof e=="function"?GC:FC)(t,e,n??"")):vi(this.node(),t)}function vi(t,e){return t.style.getPropertyValue(e)||mg(t).getComputedStyle(t,null).getPropertyValue(e)}function VC(t){return function(){delete this[t]}}function HC(t,e){return function(){this[t]=e}}function YC(t,e){return function(){var n=e.apply(this,arguments);n==null?delete this[t]:this[t]=n}}function XC(t,e){return arguments.length>1?this.each((e==null?VC:typeof e=="function"?YC:HC)(t,e)):this.node()[t]}function yg(t){return t.trim().split(/^|\s+/)}function Ic(t){return t.classList||new _g(t)}function _g(t){this._node=t,this._names=yg(t.getAttribute("class")||"")}_g.prototype={add:function(t){var e=this._names.indexOf(t);e<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function bg(t,e){for(var n=Ic(t),r=-1,i=e.length;++r<i;)n.add(e[r])}function wg(t,e){for(var n=Ic(t),r=-1,i=e.length;++r<i;)n.remove(e[r])}function WC(t){return function(){bg(this,t)}}function UC(t){return function(){wg(this,t)}}function qC(t,e){return function(){(e.apply(this,arguments)?bg:wg)(this,t)}}function jC(t,e){var n=yg(t+"");if(arguments.length<2){for(var r=Ic(this.node()),i=-1,o=n.length;++i<o;)if(!r.contains(n[i]))return!1;return!0}return this.each((typeof e=="function"?qC:e?WC:UC)(n,e))}function KC(){this.textContent=""}function ZC(t){return function(){this.textContent=t}}function JC(t){return function(){var e=t.apply(this,arguments);this.textContent=e??""}}function QC(t){return arguments.length?this.each(t==null?KC:(typeof t=="function"?JC:ZC)(t)):this.node().textContent}function tM(){this.innerHTML=""}function eM(t){return function(){this.innerHTML=t}}function nM(t){return function(){var e=t.apply(this,arguments);this.innerHTML=e??""}}function rM(t){return arguments.length?this.each(t==null?tM:(typeof t=="function"?nM:eM)(t)):this.node().innerHTML}function iM(){this.nextSibling&&this.parentNode.appendChild(this)}function oM(){return this.each(iM)}function aM(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function sM(){return this.each(aM)}function lM(t){var e=typeof t=="function"?t:dg(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function uM(){return null}function cM(t,e){var n=typeof t=="function"?t:dg(t),r=e==null?uM:typeof e=="function"?e:Oc(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function fM(){var t=this.parentNode;t&&t.removeChild(this)}function dM(){return this.each(fM)}function hM(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function pM(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function vM(t){return this.select(t?pM:hM)}function gM(t){return arguments.length?this.property("__data__",t):this.node().__data__}function mM(t){return function(e){t.call(this,e,this.__data__)}}function yM(t){return t.trim().split(/^|\s+/).map(function(e){var n="",r=e.indexOf(".");return r>=0&&(n=e.slice(r+1),e=e.slice(0,r)),{type:e,name:n}})}function _M(t){return function(){var e=this.__on;if(e){for(var n=0,r=-1,i=e.length,o;n<i;++n)o=e[n],(!t.type||o.type===t.type)&&o.name===t.name?this.removeEventListener(o.type,o.listener,o.options):e[++r]=o;++r?e.length=r:delete this.__on}}}function bM(t,e,n){return function(){var r=this.__on,i,o=mM(e);if(r){for(var a=0,s=r.length;a<s;++a)if((i=r[a]).type===t.type&&i.name===t.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=o,i.options=n),i.value=e;return}}this.addEventListener(t.type,o,n),i={type:t.type,name:t.name,value:e,listener:o,options:n},r?r.push(i):this.__on=[i]}}function wM(t,e,n){var r=yM(t+""),i,o=r.length,a;if(arguments.length<2){var s=this.node().__on;if(s){for(var l=0,u=s.length,c;l<u;++l)for(i=0,c=s[l];i<o;++i)if((a=r[i]).type===c.type&&a.name===c.name)return c.value}return}for(s=e?bM:_M,i=0;i<o;++i)this.each(s(r[i],e,n));return this}function xg(t,e,n){var r=mg(t),i=r.CustomEvent;typeof i=="function"?i=new i(e,n):(i=r.document.createEvent("Event"),n?(i.initEvent(e,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}function xM(t,e){return function(){return xg(this,t,e)}}function SM(t,e){return function(){return xg(this,t,e.apply(this,arguments))}}function EM(t,e){return this.each((typeof e=="function"?SM:xM)(t,e))}function*CM(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,o=r.length,a;i<o;++i)(a=r[i])&&(yield a)}var Sg=[null];function Oe(t,e){this._groups=t,this._parents=e}function Mo(){return new Oe([[document.documentElement]],Sg)}function MM(){return this}Oe.prototype=Mo.prototype={constructor:Oe,select:JE,selectAll:nC,selectChild:aC,selectChildren:cC,filter:fC,data:mC,enter:dC,exit:_C,join:bC,merge:wC,selection:MM,order:xC,sort:SC,call:CC,nodes:MC,node:DC,size:$C,empty:TC,each:PC,attr:BC,style:LC,property:XC,classed:jC,text:QC,html:rM,raise:oM,lower:sM,append:lM,insert:cM,remove:dM,clone:vM,datum:gM,on:wM,dispatch:EM,[Symbol.iterator]:CM};function er(t){return typeof t=="string"?new Oe([[document.querySelector(t)]],[document.documentElement]):new Oe([[t]],Sg)}function DM(t){let e;for(;e=t.sourceEvent;)t=e;return t}function jn(t,e){if(t=DM(t),e===void 0&&(e=t.currentTarget),e){var n=e.ownerSVGElement||e;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=t.clientX,r.y=t.clientY,r=r.matrixTransform(e.getScreenCTM().inverse()),[r.x,r.y]}if(e.getBoundingClientRect){var i=e.getBoundingClientRect();return[t.clientX-i.left-e.clientLeft,t.clientY-i.top-e.clientTop]}}return[t.pageX,t.pageY]}const mu={capture:!0,passive:!1};function yu(t){t.preventDefault(),t.stopImmediatePropagation()}function $M(t){var e=t.document.documentElement,n=er(t).on("dragstart.drag",yu,mu);"onselectstart"in e?n.on("selectstart.drag",yu,mu):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")}function TM(t,e){var n=t.document.documentElement,r=er(t).on("dragstart.drag",null);e&&(r.on("click.drag",yu,mu),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}function Ac(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function Eg(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function Do(){}var fo=.7,ja=1/fo,si="\\s*([+-]?\\d+)\\s*",ho="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",pn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",PM=/^#([0-9a-f]{3,8})$/,NM=new RegExp(`^rgb\\(${si},${si},${si}\\)$`),RM=new RegExp(`^rgb\\(${pn},${pn},${pn}\\)$`),OM=new RegExp(`^rgba\\(${si},${si},${si},${ho}\\)$`),IM=new RegExp(`^rgba\\(${pn},${pn},${pn},${ho}\\)$`),AM=new RegExp(`^hsl\\(${ho},${pn},${pn}\\)$`),kM=new RegExp(`^hsla\\(${ho},${pn},${pn},${ho}\\)$`),Xd={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Ac(Do,po,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:Wd,formatHex:Wd,formatHex8:BM,formatHsl:zM,formatRgb:Ud,toString:Ud});function Wd(){return this.rgb().formatHex()}function BM(){return this.rgb().formatHex8()}function zM(){return Cg(this).formatHsl()}function Ud(){return this.rgb().formatRgb()}function po(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=PM.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?qd(e):n===3?new $e(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?jo(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?jo(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=NM.exec(t))?new $e(e[1],e[2],e[3],1):(e=RM.exec(t))?new $e(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=OM.exec(t))?jo(e[1],e[2],e[3],e[4]):(e=IM.exec(t))?jo(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=AM.exec(t))?Zd(e[1],e[2]/100,e[3]/100,1):(e=kM.exec(t))?Zd(e[1],e[2]/100,e[3]/100,e[4]):Xd.hasOwnProperty(t)?qd(Xd[t]):t==="transparent"?new $e(NaN,NaN,NaN,0):null}function qd(t){return new $e(t>>16&255,t>>8&255,t&255,1)}function jo(t,e,n,r){return r<=0&&(t=e=n=NaN),new $e(t,e,n,r)}function FM(t){return t instanceof Do||(t=po(t)),t?(t=t.rgb(),new $e(t.r,t.g,t.b,t.opacity)):new $e}function _u(t,e,n,r){return arguments.length===1?FM(t):new $e(t,e,n,r??1)}function $e(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}Ac($e,_u,Eg(Do,{brighter(t){return t=t==null?ja:Math.pow(ja,t),new $e(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?fo:Math.pow(fo,t),new $e(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new $e(Rr(this.r),Rr(this.g),Rr(this.b),Ka(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:jd,formatHex:jd,formatHex8:GM,formatRgb:Kd,toString:Kd}));function jd(){return`#${Dr(this.r)}${Dr(this.g)}${Dr(this.b)}`}function GM(){return`#${Dr(this.r)}${Dr(this.g)}${Dr(this.b)}${Dr((isNaN(this.opacity)?1:this.opacity)*255)}`}function Kd(){const t=Ka(this.opacity);return`${t===1?"rgb(":"rgba("}${Rr(this.r)}, ${Rr(this.g)}, ${Rr(this.b)}${t===1?")":`, ${t})`}`}function Ka(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Rr(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Dr(t){return t=Rr(t),(t<16?"0":"")+t.toString(16)}function Zd(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new qe(t,e,n,r)}function Cg(t){if(t instanceof qe)return new qe(t.h,t.s,t.l,t.opacity);if(t instanceof Do||(t=po(t)),!t)return new qe;if(t instanceof qe)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),o=Math.max(e,n,r),a=NaN,s=o-i,l=(o+i)/2;return s?(e===o?a=(n-r)/s+(n<r)*6:n===o?a=(r-e)/s+2:a=(e-n)/s+4,s/=l<.5?o+i:2-o-i,a*=60):s=l>0&&l<1?0:a,new qe(a,s,l,t.opacity)}function LM(t,e,n,r){return arguments.length===1?Cg(t):new qe(t,e,n,r??1)}function qe(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}Ac(qe,LM,Eg(Do,{brighter(t){return t=t==null?ja:Math.pow(ja,t),new qe(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?fo:Math.pow(fo,t),new qe(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new $e(Dl(t>=240?t-240:t+120,i,r),Dl(t,i,r),Dl(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new qe(Jd(this.h),Ko(this.s),Ko(this.l),Ka(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Ka(this.opacity);return`${t===1?"hsl(":"hsla("}${Jd(this.h)}, ${Ko(this.s)*100}%, ${Ko(this.l)*100}%${t===1?")":`, ${t})`}`}}));function Jd(t){return t=(t||0)%360,t<0?t+360:t}function Ko(t){return Math.max(0,Math.min(1,t||0))}function Dl(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const Mg=t=>()=>t;function VM(t,e){return function(n){return t+n*e}}function HM(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function YM(t){return(t=+t)==1?Dg:function(e,n){return n-e?HM(e,n,t):Mg(isNaN(e)?n:e)}}function Dg(t,e){var n=e-t;return n?VM(t,n):Mg(isNaN(t)?e:t)}const Qd=function t(e){var n=YM(e);function r(i,o){var a=n((i=_u(i)).r,(o=_u(o)).r),s=n(i.g,o.g),l=n(i.b,o.b),u=Dg(i.opacity,o.opacity);return function(c){return i.r=a(c),i.g=s(c),i.b=l(c),i.opacity=u(c),i+""}}return r.gamma=t,r}(1);function tr(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}var bu=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,$l=new RegExp(bu.source,"g");function XM(t){return function(){return t}}function WM(t){return function(e){return t(e)+""}}function UM(t,e){var n=bu.lastIndex=$l.lastIndex=0,r,i,o,a=-1,s=[],l=[];for(t=t+"",e=e+"";(r=bu.exec(t))&&(i=$l.exec(e));)(o=i.index)>n&&(o=e.slice(n,o),s[a]?s[a]+=o:s[++a]=o),(r=r[0])===(i=i[0])?s[a]?s[a]+=i:s[++a]=i:(s[++a]=null,l.push({i:a,x:tr(r,i)})),n=$l.lastIndex;return n<e.length&&(o=e.slice(n),s[a]?s[a]+=o:s[++a]=o),s.length<2?l[0]?WM(l[0].x):XM(e):(e=l.length,function(u){for(var c=0,f;c<e;++c)s[(f=l[c]).i]=f.x(u);return s.join("")})}var th=180/Math.PI,wu={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function $g(t,e,n,r,i,o){var a,s,l;return(a=Math.sqrt(t*t+e*e))&&(t/=a,e/=a),(l=t*n+e*r)&&(n-=t*l,r-=e*l),(s=Math.sqrt(n*n+r*r))&&(n/=s,r/=s,l/=s),t*r<e*n&&(t=-t,e=-e,l=-l,a=-a),{translateX:i,translateY:o,rotate:Math.atan2(e,t)*th,skewX:Math.atan(l)*th,scaleX:a,scaleY:s}}var Zo;function qM(t){const e=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?wu:$g(e.a,e.b,e.c,e.d,e.e,e.f)}function jM(t){return t==null||(Zo||(Zo=document.createElementNS("http://www.w3.org/2000/svg","g")),Zo.setAttribute("transform",t),!(t=Zo.transform.baseVal.consolidate()))?wu:(t=t.matrix,$g(t.a,t.b,t.c,t.d,t.e,t.f))}function Tg(t,e,n,r){function i(u){return u.length?u.pop()+" ":""}function o(u,c,f,d,h,p){if(u!==f||c!==d){var v=h.push("translate(",null,e,null,n);p.push({i:v-4,x:tr(u,f)},{i:v-2,x:tr(c,d)})}else(f||d)&&h.push("translate("+f+e+d+n)}function a(u,c,f,d){u!==c?(u-c>180?c+=360:c-u>180&&(u+=360),d.push({i:f.push(i(f)+"rotate(",null,r)-2,x:tr(u,c)})):c&&f.push(i(f)+"rotate("+c+r)}function s(u,c,f,d){u!==c?d.push({i:f.push(i(f)+"skewX(",null,r)-2,x:tr(u,c)}):c&&f.push(i(f)+"skewX("+c+r)}function l(u,c,f,d,h,p){if(u!==f||c!==d){var v=h.push(i(h)+"scale(",null,",",null,")");p.push({i:v-4,x:tr(u,f)},{i:v-2,x:tr(c,d)})}else(f!==1||d!==1)&&h.push(i(h)+"scale("+f+","+d+")")}return function(u,c){var f=[],d=[];return u=t(u),c=t(c),o(u.translateX,u.translateY,c.translateX,c.translateY,f,d),a(u.rotate,c.rotate,f,d),s(u.skewX,c.skewX,f,d),l(u.scaleX,u.scaleY,c.scaleX,c.scaleY,f,d),u=c=null,function(h){for(var p=-1,v=d.length,m;++p<v;)f[(m=d[p]).i]=m.x(h);return f.join("")}}}var KM=Tg(qM,"px, ","px)","deg)"),ZM=Tg(jM,", ",")",")"),JM=1e-12;function eh(t){return((t=Math.exp(t))+1/t)/2}function QM(t){return((t=Math.exp(t))-1/t)/2}function tD(t){return((t=Math.exp(2*t))-1)/(t+1)}const eD=function t(e,n,r){function i(o,a){var s=o[0],l=o[1],u=o[2],c=a[0],f=a[1],d=a[2],h=c-s,p=f-l,v=h*h+p*p,m,g;if(v<JM)g=Math.log(d/u)/e,m=function(E){return[s+E*h,l+E*p,u*Math.exp(e*E*g)]};else{var b=Math.sqrt(v),_=(d*d-u*u+r*v)/(2*u*n*b),w=(d*d-u*u-r*v)/(2*d*n*b),D=Math.log(Math.sqrt(_*_+1)-_),$=Math.log(Math.sqrt(w*w+1)-w);g=($-D)/e,m=function(E){var A=E*g,O=eh(D),N=u/(n*b)*(O*tD(e*A+D)-QM(D));return[s+N*h,l+N*p,u*O/eh(e*A+D)]}}return m.duration=g*1e3*e/Math.SQRT2,m}return i.rho=function(o){var a=Math.max(.001,+o),s=a*a,l=s*s;return t(a,s,l)},i}(Math.SQRT2,2,4);var gi=0,Ai=0,Di=0,Pg=1e3,Za,ki,Ja=0,kr=0,Fs=0,vo=typeof performance=="object"&&performance.now?performance:Date,Ng=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function kc(){return kr||(Ng(nD),kr=vo.now()+Fs)}function nD(){kr=0}function Qa(){this._call=this._time=this._next=null}Qa.prototype=Rg.prototype={constructor:Qa,restart:function(t,e,n){if(typeof t!="function")throw new TypeError("callback is not a function");n=(n==null?kc():+n)+(e==null?0:+e),!this._next&&ki!==this&&(ki?ki._next=this:Za=this,ki=this),this._call=t,this._time=n,xu()},stop:function(){this._call&&(this._call=null,this._time=1/0,xu())}};function Rg(t,e,n){var r=new Qa;return r.restart(t,e,n),r}function rD(){kc(),++gi;for(var t=Za,e;t;)(e=kr-t._time)>=0&&t._call.call(void 0,e),t=t._next;--gi}function nh(){kr=(Ja=vo.now())+Fs,gi=Ai=0;try{rD()}finally{gi=0,oD(),kr=0}}function iD(){var t=vo.now(),e=t-Ja;e>Pg&&(Fs-=e,Ja=t)}function oD(){for(var t,e=Za,n,r=1/0;e;)e._call?(r>e._time&&(r=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:Za=n);ki=t,xu(r)}function xu(t){if(!gi){Ai&&(Ai=clearTimeout(Ai));var e=t-kr;e>24?(t<1/0&&(Ai=setTimeout(nh,t-vo.now()-Fs)),Di&&(Di=clearInterval(Di))):(Di||(Ja=vo.now(),Di=setInterval(iD,Pg)),gi=1,Ng(nh))}}function rh(t,e,n){var r=new Qa;return e=e==null?0:+e,r.restart(i=>{r.stop(),t(i+e)},e,n),r}var aD=Rc("start","end","cancel","interrupt"),sD=[],Og=0,ih=1,Su=2,ba=3,oh=4,Eu=5,wa=6;function Gs(t,e,n,r,i,o){var a=t.__transition;if(!a)t.__transition={};else if(n in a)return;lD(t,n,{name:e,index:r,group:i,on:aD,tween:sD,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:Og})}function Bc(t,e){var n=rn(t,e);if(n.state>Og)throw new Error("too late; already scheduled");return n}function wn(t,e){var n=rn(t,e);if(n.state>ba)throw new Error("too late; already running");return n}function rn(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function lD(t,e,n){var r=t.__transition,i;r[e]=n,n.timer=Rg(o,0,n.time);function o(u){n.state=ih,n.timer.restart(a,n.delay,n.time),n.delay<=u&&a(u-n.delay)}function a(u){var c,f,d,h;if(n.state!==ih)return l();for(c in r)if(h=r[c],h.name===n.name){if(h.state===ba)return rh(a);h.state===oh?(h.state=wa,h.timer.stop(),h.on.call("interrupt",t,t.__data__,h.index,h.group),delete r[c]):+c<e&&(h.state=wa,h.timer.stop(),h.on.call("cancel",t,t.__data__,h.index,h.group),delete r[c])}if(rh(function(){n.state===ba&&(n.state=oh,n.timer.restart(s,n.delay,n.time),s(u))}),n.state=Su,n.on.call("start",t,t.__data__,n.index,n.group),n.state===Su){for(n.state=ba,i=new Array(d=n.tween.length),c=0,f=-1;c<d;++c)(h=n.tween[c].value.call(t,t.__data__,n.index,n.group))&&(i[++f]=h);i.length=f+1}}function s(u){for(var c=u<n.duration?n.ease.call(null,u/n.duration):(n.timer.restart(l),n.state=Eu,1),f=-1,d=i.length;++f<d;)i[f].call(t,c);n.state===Eu&&(n.on.call("end",t,t.__data__,n.index,n.group),l())}function l(){n.state=wa,n.timer.stop(),delete r[e];for(var u in r)return;delete t.__transition}}function xa(t,e){var n=t.__transition,r,i,o=!0,a;if(n){e=e==null?null:e+"";for(a in n){if((r=n[a]).name!==e){o=!1;continue}i=r.state>Su&&r.state<Eu,r.state=wa,r.timer.stop(),r.on.call(i?"interrupt":"cancel",t,t.__data__,r.index,r.group),delete n[a]}o&&delete t.__transition}}function uD(t){return this.each(function(){xa(this,t)})}function cD(t,e){var n,r;return function(){var i=wn(this,t),o=i.tween;if(o!==n){r=n=o;for(var a=0,s=r.length;a<s;++a)if(r[a].name===e){r=r.slice(),r.splice(a,1);break}}i.tween=r}}function fD(t,e,n){var r,i;if(typeof n!="function")throw new Error;return function(){var o=wn(this,t),a=o.tween;if(a!==r){i=(r=a).slice();for(var s={name:e,value:n},l=0,u=i.length;l<u;++l)if(i[l].name===e){i[l]=s;break}l===u&&i.push(s)}o.tween=i}}function dD(t,e){var n=this._id;if(t+="",arguments.length<2){for(var r=rn(this.node(),n).tween,i=0,o=r.length,a;i<o;++i)if((a=r[i]).name===t)return a.value;return null}return this.each((e==null?cD:fD)(n,t,e))}function zc(t,e,n){var r=t._id;return t.each(function(){var i=wn(this,r);(i.value||(i.value={}))[e]=n.apply(this,arguments)}),function(i){return rn(i,r).value[e]}}function Ig(t,e){var n;return(typeof e=="number"?tr:e instanceof po?Qd:(n=po(e))?(e=n,Qd):UM)(t,e)}function hD(t){return function(){this.removeAttribute(t)}}function pD(t){return function(){this.removeAttributeNS(t.space,t.local)}}function vD(t,e,n){var r,i=n+"",o;return function(){var a=this.getAttribute(t);return a===i?null:a===r?o:o=e(r=a,n)}}function gD(t,e,n){var r,i=n+"",o;return function(){var a=this.getAttributeNS(t.space,t.local);return a===i?null:a===r?o:o=e(r=a,n)}}function mD(t,e,n){var r,i,o;return function(){var a,s=n(this),l;return s==null?void this.removeAttribute(t):(a=this.getAttribute(t),l=s+"",a===l?null:a===r&&l===i?o:(i=l,o=e(r=a,s)))}}function yD(t,e,n){var r,i,o;return function(){var a,s=n(this),l;return s==null?void this.removeAttributeNS(t.space,t.local):(a=this.getAttributeNS(t.space,t.local),l=s+"",a===l?null:a===r&&l===i?o:(i=l,o=e(r=a,s)))}}function _D(t,e){var n=zs(t),r=n==="transform"?ZM:Ig;return this.attrTween(t,typeof e=="function"?(n.local?yD:mD)(n,r,zc(this,"attr."+t,e)):e==null?(n.local?pD:hD)(n):(n.local?gD:vD)(n,r,e))}function bD(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}function wD(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}function xD(t,e){var n,r;function i(){var o=e.apply(this,arguments);return o!==r&&(n=(r=o)&&wD(t,o)),n}return i._value=e,i}function SD(t,e){var n,r;function i(){var o=e.apply(this,arguments);return o!==r&&(n=(r=o)&&bD(t,o)),n}return i._value=e,i}function ED(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(e==null)return this.tween(n,null);if(typeof e!="function")throw new Error;var r=zs(t);return this.tween(n,(r.local?xD:SD)(r,e))}function CD(t,e){return function(){Bc(this,t).delay=+e.apply(this,arguments)}}function MD(t,e){return e=+e,function(){Bc(this,t).delay=e}}function DD(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?CD:MD)(e,t)):rn(this.node(),e).delay}function $D(t,e){return function(){wn(this,t).duration=+e.apply(this,arguments)}}function TD(t,e){return e=+e,function(){wn(this,t).duration=e}}function PD(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?$D:TD)(e,t)):rn(this.node(),e).duration}function ND(t,e){if(typeof e!="function")throw new Error;return function(){wn(this,t).ease=e}}function RD(t){var e=this._id;return arguments.length?this.each(ND(e,t)):rn(this.node(),e).ease}function OD(t,e){return function(){var n=e.apply(this,arguments);if(typeof n!="function")throw new Error;wn(this,t).ease=n}}function ID(t){if(typeof t!="function")throw new Error;return this.each(OD(this._id,t))}function AD(t){typeof t!="function"&&(t=pg(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o=e[i],a=o.length,s=r[i]=[],l,u=0;u<a;++u)(l=o[u])&&t.call(l,l.__data__,u,o)&&s.push(l);return new Gn(r,this._parents,this._name,this._id)}function kD(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,r=e.length,i=n.length,o=Math.min(r,i),a=new Array(r),s=0;s<o;++s)for(var l=e[s],u=n[s],c=l.length,f=a[s]=new Array(c),d,h=0;h<c;++h)(d=l[h]||u[h])&&(f[h]=d);for(;s<r;++s)a[s]=e[s];return new Gn(a,this._parents,this._name,this._id)}function BD(t){return(t+"").trim().split(/^|\s+/).every(function(e){var n=e.indexOf(".");return n>=0&&(e=e.slice(0,n)),!e||e==="start"})}function zD(t,e,n){var r,i,o=BD(e)?Bc:wn;return function(){var a=o(this,t),s=a.on;s!==r&&(i=(r=s).copy()).on(e,n),a.on=i}}function FD(t,e){var n=this._id;return arguments.length<2?rn(this.node(),n).on.on(t):this.each(zD(n,t,e))}function GD(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}function LD(){return this.on("end.remove",GD(this._id))}function VD(t){var e=this._name,n=this._id;typeof t!="function"&&(t=Oc(t));for(var r=this._groups,i=r.length,o=new Array(i),a=0;a<i;++a)for(var s=r[a],l=s.length,u=o[a]=new Array(l),c,f,d=0;d<l;++d)(c=s[d])&&(f=t.call(c,c.__data__,d,s))&&("__data__"in c&&(f.__data__=c.__data__),u[d]=f,Gs(u[d],e,n,d,u,rn(c,n)));return new Gn(o,this._parents,e,n)}function HD(t){var e=this._name,n=this._id;typeof t!="function"&&(t=hg(t));for(var r=this._groups,i=r.length,o=[],a=[],s=0;s<i;++s)for(var l=r[s],u=l.length,c,f=0;f<u;++f)if(c=l[f]){for(var d=t.call(c,c.__data__,f,l),h,p=rn(c,n),v=0,m=d.length;v<m;++v)(h=d[v])&&Gs(h,e,n,v,d,p);o.push(d),a.push(c)}return new Gn(o,a,e,n)}var YD=Mo.prototype.constructor;function XD(){return new YD(this._groups,this._parents)}function WD(t,e){var n,r,i;return function(){var o=vi(this,t),a=(this.style.removeProperty(t),vi(this,t));return o===a?null:o===n&&a===r?i:i=e(n=o,r=a)}}function Ag(t){return function(){this.style.removeProperty(t)}}function UD(t,e,n){var r,i=n+"",o;return function(){var a=vi(this,t);return a===i?null:a===r?o:o=e(r=a,n)}}function qD(t,e,n){var r,i,o;return function(){var a=vi(this,t),s=n(this),l=s+"";return s==null&&(l=s=(this.style.removeProperty(t),vi(this,t))),a===l?null:a===r&&l===i?o:(i=l,o=e(r=a,s))}}function jD(t,e){var n,r,i,o="style."+e,a="end."+o,s;return function(){var l=wn(this,t),u=l.on,c=l.value[o]==null?s||(s=Ag(e)):void 0;(u!==n||i!==c)&&(r=(n=u).copy()).on(a,i=c),l.on=r}}function KD(t,e,n){var r=(t+="")=="transform"?KM:Ig;return e==null?this.styleTween(t,WD(t,r)).on("end.style."+t,Ag(t)):typeof e=="function"?this.styleTween(t,qD(t,r,zc(this,"style."+t,e))).each(jD(this._id,t)):this.styleTween(t,UD(t,r,e),n).on("end.style."+t,null)}function ZD(t,e,n){return function(r){this.style.setProperty(t,e.call(this,r),n)}}function JD(t,e,n){var r,i;function o(){var a=e.apply(this,arguments);return a!==i&&(r=(i=a)&&ZD(t,a,n)),r}return o._value=e,o}function QD(t,e,n){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(e==null)return this.tween(r,null);if(typeof e!="function")throw new Error;return this.tween(r,JD(t,e,n??""))}function t$(t){return function(){this.textContent=t}}function e$(t){return function(){var e=t(this);this.textContent=e??""}}function n$(t){return this.tween("text",typeof t=="function"?e$(zc(this,"text",t)):t$(t==null?"":t+""))}function r$(t){return function(e){this.textContent=t.call(this,e)}}function i$(t){var e,n;function r(){var i=t.apply(this,arguments);return i!==n&&(e=(n=i)&&r$(i)),e}return r._value=t,r}function o$(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(t==null)return this.tween(e,null);if(typeof t!="function")throw new Error;return this.tween(e,i$(t))}function a$(){for(var t=this._name,e=this._id,n=kg(),r=this._groups,i=r.length,o=0;o<i;++o)for(var a=r[o],s=a.length,l,u=0;u<s;++u)if(l=a[u]){var c=rn(l,e);Gs(l,t,n,u,a,{time:c.time+c.delay+c.duration,delay:0,duration:c.duration,ease:c.ease})}return new Gn(r,this._parents,t,n)}function s$(){var t,e,n=this,r=n._id,i=n.size();return new Promise(function(o,a){var s={value:a},l={value:function(){--i===0&&o()}};n.each(function(){var u=wn(this,r),c=u.on;c!==t&&(e=(t=c).copy(),e._.cancel.push(s),e._.interrupt.push(s),e._.end.push(l)),u.on=e}),i===0&&o()})}var l$=0;function Gn(t,e,n,r){this._groups=t,this._parents=e,this._name=n,this._id=r}function kg(){return++l$}var Mn=Mo.prototype;Gn.prototype={constructor:Gn,select:VD,selectAll:HD,selectChild:Mn.selectChild,selectChildren:Mn.selectChildren,filter:AD,merge:kD,selection:XD,transition:a$,call:Mn.call,nodes:Mn.nodes,node:Mn.node,size:Mn.size,empty:Mn.empty,each:Mn.each,on:FD,attr:_D,attrTween:ED,style:KD,styleTween:QD,text:n$,textTween:o$,remove:LD,tween:dD,delay:DD,duration:PD,ease:RD,easeVarying:ID,end:s$,[Symbol.iterator]:Mn[Symbol.iterator]};function u$(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var c$={time:null,delay:0,duration:250,ease:u$};function f$(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return n}function d$(t){var e,n;t instanceof Gn?(e=t._id,t=t._name):(e=kg(),(n=c$).time=kc(),t=t==null?null:t+"");for(var r=this._groups,i=r.length,o=0;o<i;++o)for(var a=r[o],s=a.length,l,u=0;u<s;++u)(l=a[u])&&Gs(l,t,e,u,a,n||f$(l,e));return new Gn(r,this._parents,t,e)}Mo.prototype.interrupt=uD;Mo.prototype.transition=d$;const Jo=t=>()=>t;function h$(t,{sourceEvent:e,target:n,transform:r,dispatch:i}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:i}})}function Rn(t,e,n){this.k=t,this.x=e,this.y=n}Rn.prototype={constructor:Rn,scale:function(t){return t===1?this:new Rn(this.k*t,this.x,this.y)},translate:function(t,e){return t===0&e===0?this:new Rn(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var Fc=new Rn(1,0,0);Rn.prototype;function Tl(t){t.stopImmediatePropagation()}function $i(t){t.preventDefault(),t.stopImmediatePropagation()}function p$(t){return(!t.ctrlKey||t.type==="wheel")&&!t.button}function v$(){var t=this;return t instanceof SVGElement?(t=t.ownerSVGElement||t,t.hasAttribute("viewBox")?(t=t.viewBox.baseVal,[[t.x,t.y],[t.x+t.width,t.y+t.height]]):[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]):[[0,0],[t.clientWidth,t.clientHeight]]}function ah(){return this.__zoom||Fc}function g$(t){return-t.deltaY*(t.deltaMode===1?.05:t.deltaMode?1:.002)*(t.ctrlKey?10:1)}function m$(){return navigator.maxTouchPoints||"ontouchstart"in this}function y$(t,e,n){var r=t.invertX(e[0][0])-n[0][0],i=t.invertX(e[1][0])-n[1][0],o=t.invertY(e[0][1])-n[0][1],a=t.invertY(e[1][1])-n[1][1];return t.translate(i>r?(r+i)/2:Math.min(0,r)||Math.max(0,i),a>o?(o+a)/2:Math.min(0,o)||Math.max(0,a))}function _$(){var t=p$,e=v$,n=y$,r=g$,i=m$,o=[0,1/0],a=[[-1/0,-1/0],[1/0,1/0]],s=250,l=eD,u=Rc("start","zoom","end"),c,f,d,h=500,p=150,v=0,m=10;function g(y){y.property("__zoom",ah).on("wheel.zoom",A,{passive:!1}).on("mousedown.zoom",O).on("dblclick.zoom",N).filter(i).on("touchstart.zoom",F).on("touchmove.zoom",S).on("touchend.zoom touchcancel.zoom",G).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}g.transform=function(y,R,M,L){var k=y.selection?y.selection():y;k.property("__zoom",ah),y!==k?D(y,R,M,L):k.interrupt().each(function(){$(this,arguments).event(L).start().zoom(null,typeof R=="function"?R.apply(this,arguments):R).end()})},g.scaleBy=function(y,R,M,L){g.scaleTo(y,function(){var k=this.__zoom.k,z=typeof R=="function"?R.apply(this,arguments):R;return k*z},M,L)},g.scaleTo=function(y,R,M,L){g.transform(y,function(){var k=e.apply(this,arguments),z=this.__zoom,V=M==null?w(k):typeof M=="function"?M.apply(this,arguments):M,Y=z.invert(V),j=typeof R=="function"?R.apply(this,arguments):R;return n(_(b(z,j),V,Y),k,a)},M,L)},g.translateBy=function(y,R,M,L){g.transform(y,function(){return n(this.__zoom.translate(typeof R=="function"?R.apply(this,arguments):R,typeof M=="function"?M.apply(this,arguments):M),e.apply(this,arguments),a)},null,L)},g.translateTo=function(y,R,M,L,k){g.transform(y,function(){var z=e.apply(this,arguments),V=this.__zoom,Y=L==null?w(z):typeof L=="function"?L.apply(this,arguments):L;return n(Fc.translate(Y[0],Y[1]).scale(V.k).translate(typeof R=="function"?-R.apply(this,arguments):-R,typeof M=="function"?-M.apply(this,arguments):-M),z,a)},L,k)};function b(y,R){return R=Math.max(o[0],Math.min(o[1],R)),R===y.k?y:new Rn(R,y.x,y.y)}function _(y,R,M){var L=R[0]-M[0]*y.k,k=R[1]-M[1]*y.k;return L===y.x&&k===y.y?y:new Rn(y.k,L,k)}function w(y){return[(+y[0][0]+ +y[1][0])/2,(+y[0][1]+ +y[1][1])/2]}function D(y,R,M,L){y.on("start.zoom",function(){$(this,arguments).event(L).start()}).on("interrupt.zoom end.zoom",function(){$(this,arguments).event(L).end()}).tween("zoom",function(){var k=this,z=arguments,V=$(k,z).event(L),Y=e.apply(k,z),j=M==null?w(Y):typeof M=="function"?M.apply(k,z):M,rt=Math.max(Y[1][0]-Y[0][0],Y[1][1]-Y[0][1]),Z=k.__zoom,J=typeof R=="function"?R.apply(k,z):R,tt=l(Z.invert(j).concat(rt/Z.k),J.invert(j).concat(rt/J.k));return function(it){if(it===1)it=J;else{var at=tt(it),ot=rt/at[2];it=new Rn(ot,j[0]-at[0]*ot,j[1]-at[1]*ot)}V.zoom(null,it)}})}function $(y,R,M){return!M&&y.__zooming||new E(y,R)}function E(y,R){this.that=y,this.args=R,this.active=0,this.sourceEvent=null,this.extent=e.apply(y,R),this.taps=0}E.prototype={event:function(y){return y&&(this.sourceEvent=y),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(y,R){return this.mouse&&y!=="mouse"&&(this.mouse[1]=R.invert(this.mouse[0])),this.touch0&&y!=="touch"&&(this.touch0[1]=R.invert(this.touch0[0])),this.touch1&&y!=="touch"&&(this.touch1[1]=R.invert(this.touch1[0])),this.that.__zoom=R,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(y){var R=er(this.that).datum();u.call(y,this.that,new h$(y,{sourceEvent:this.sourceEvent,target:g,transform:this.that.__zoom,dispatch:u}),R)}};function A(y,...R){if(!t.apply(this,arguments))return;var M=$(this,R).event(y),L=this.__zoom,k=Math.max(o[0],Math.min(o[1],L.k*Math.pow(2,r.apply(this,arguments)))),z=jn(y);if(M.wheel)(M.mouse[0][0]!==z[0]||M.mouse[0][1]!==z[1])&&(M.mouse[1]=L.invert(M.mouse[0]=z)),clearTimeout(M.wheel);else{if(L.k===k)return;M.mouse=[z,L.invert(z)],xa(this),M.start()}$i(y),M.wheel=setTimeout(V,p),M.zoom("mouse",n(_(b(L,k),M.mouse[0],M.mouse[1]),M.extent,a));function V(){M.wheel=null,M.end()}}function O(y,...R){if(d||!t.apply(this,arguments))return;var M=y.currentTarget,L=$(this,R,!0).event(y),k=er(y.view).on("mousemove.zoom",j,!0).on("mouseup.zoom",rt,!0),z=jn(y,M),V=y.clientX,Y=y.clientY;$M(y.view),Tl(y),L.mouse=[z,this.__zoom.invert(z)],xa(this),L.start();function j(Z){if($i(Z),!L.moved){var J=Z.clientX-V,tt=Z.clientY-Y;L.moved=J*J+tt*tt>v}L.event(Z).zoom("mouse",n(_(L.that.__zoom,L.mouse[0]=jn(Z,M),L.mouse[1]),L.extent,a))}function rt(Z){k.on("mousemove.zoom mouseup.zoom",null),TM(Z.view,L.moved),$i(Z),L.event(Z).end()}}function N(y,...R){if(t.apply(this,arguments)){var M=this.__zoom,L=jn(y.changedTouches?y.changedTouches[0]:y,this),k=M.invert(L),z=M.k*(y.shiftKey?.5:2),V=n(_(b(M,z),L,k),e.apply(this,R),a);$i(y),s>0?er(this).transition().duration(s).call(D,V,L,y):er(this).call(g.transform,V,L,y)}}function F(y,...R){if(t.apply(this,arguments)){var M=y.touches,L=M.length,k=$(this,R,y.changedTouches.length===L).event(y),z,V,Y,j;for(Tl(y),V=0;V<L;++V)Y=M[V],j=jn(Y,this),j=[j,this.__zoom.invert(j),Y.identifier],k.touch0?!k.touch1&&k.touch0[2]!==j[2]&&(k.touch1=j,k.taps=0):(k.touch0=j,z=!0,k.taps=1+!!c);c&&(c=clearTimeout(c)),z&&(k.taps<2&&(f=j[0],c=setTimeout(function(){c=null},h)),xa(this),k.start())}}function S(y,...R){if(this.__zooming){var M=$(this,R).event(y),L=y.changedTouches,k=L.length,z,V,Y,j;for($i(y),z=0;z<k;++z)V=L[z],Y=jn(V,this),M.touch0&&M.touch0[2]===V.identifier?M.touch0[0]=Y:M.touch1&&M.touch1[2]===V.identifier&&(M.touch1[0]=Y);if(V=M.that.__zoom,M.touch1){var rt=M.touch0[0],Z=M.touch0[1],J=M.touch1[0],tt=M.touch1[1],it=(it=J[0]-rt[0])*it+(it=J[1]-rt[1])*it,at=(at=tt[0]-Z[0])*at+(at=tt[1]-Z[1])*at;V=b(V,Math.sqrt(it/at)),Y=[(rt[0]+J[0])/2,(rt[1]+J[1])/2],j=[(Z[0]+tt[0])/2,(Z[1]+tt[1])/2]}else if(M.touch0)Y=M.touch0[0],j=M.touch0[1];else return;M.zoom("touch",n(_(V,Y,j),M.extent,a))}}function G(y,...R){if(this.__zooming){var M=$(this,R).event(y),L=y.changedTouches,k=L.length,z,V;for(Tl(y),d&&clearTimeout(d),d=setTimeout(function(){d=null},h),z=0;z<k;++z)V=L[z],M.touch0&&M.touch0[2]===V.identifier?delete M.touch0:M.touch1&&M.touch1[2]===V.identifier&&delete M.touch1;if(M.touch1&&!M.touch0&&(M.touch0=M.touch1,delete M.touch1),M.touch0)M.touch0[1]=this.__zoom.invert(M.touch0[0]);else if(M.end(),M.taps===2&&(V=jn(V,this),Math.hypot(f[0]-V[0],f[1]-V[1])<m)){var Y=er(this).on("dblclick.zoom");Y&&Y.apply(this,arguments)}}}return g.wheelDelta=function(y){return arguments.length?(r=typeof y=="function"?y:Jo(+y),g):r},g.filter=function(y){return arguments.length?(t=typeof y=="function"?y:Jo(!!y),g):t},g.touchable=function(y){return arguments.length?(i=typeof y=="function"?y:Jo(!!y),g):i},g.extent=function(y){return arguments.length?(e=typeof y=="function"?y:Jo([[+y[0][0],+y[0][1]],[+y[1][0],+y[1][1]]]),g):e},g.scaleExtent=function(y){return arguments.length?(o[0]=+y[0],o[1]=+y[1],g):[o[0],o[1]]},g.translateExtent=function(y){return arguments.length?(a[0][0]=+y[0][0],a[1][0]=+y[1][0],a[0][1]=+y[0][1],a[1][1]=+y[1][1],g):[[a[0][0],a[0][1]],[a[1][0],a[1][1]]]},g.constrain=function(y){return arguments.length?(n=y,g):n},g.duration=function(y){return arguments.length?(s=+y,g):s},g.interpolate=function(y){return arguments.length?(l=y,g):l},g.on=function(){var y=u.on.apply(u,arguments);return y===u?g:y},g.clickDistance=function(y){return arguments.length?(v=(y=+y)*y,g):Math.sqrt(v)},g.tapDistance=function(y){return arguments.length?(m=+y,g):m},g}const Bg=Symbol("MiniMapSlots"),b$=["id","x","y","rx","ry","width","height","fill","stroke","stroke-width","shape-rendering"],w$={name:"MiniMapNode",compatConfig:{MODE:3},inheritAttrs:!1},x$=Vt({...w$,props:{id:{},type:{},selected:{type:Boolean},dragging:{type:Boolean},position:{},dimensions:{},borderRadius:{},color:{},shapeRendering:{},strokeColor:{},strokeWidth:{},hidden:{type:Boolean}},emits:["click","dblclick","mouseenter","mousemove","mouseleave"],setup(t,{emit:e}){const n=t,r=Je(Bg),i=pc(),o=Ht(()=>i.style??{});function a(f){e("click",f)}function s(f){e("dblclick",f)}function l(f){e("mouseenter",f)}function u(f){e("mousemove",f)}function c(f){e("mouseleave",f)}return(f,d)=>!f.hidden&&f.dimensions.width!==0&&f.dimensions.height!==0?(ht(),Ct(Gt,{key:0},[et(r)[`node-${n.type}`]?(ht(),le(Ap(et(r)[`node-${n.type}`]),Ti(ci({key:0},{...n,...f.$attrs})),null,16)):(ht(),Ct("rect",ci({key:1,id:f.id},f.$attrs,{class:["vue-flow__minimap-node",{selected:f.selected,dragging:f.dragging}],x:f.position.x,y:f.position.y,rx:f.borderRadius,ry:f.borderRadius,width:f.dimensions.width,height:f.dimensions.height,fill:f.color||o.value.background||o.value.backgroundColor,stroke:f.strokeColor,"stroke-width":f.strokeWidth,"shape-rendering":f.shapeRendering,onClick:a,onDblclick:s,onMouseenter:l,onMousemove:u,onMouseleave:c}),null,16,b$))],64)):he("",!0)}}),S$=["width","height","viewBox","aria-labelledby"],E$=["id"],C$=["d","fill","stroke","stroke-width"],M$={name:"MiniMap",compatConfig:{MODE:3}},D$=Vt({...M$,props:{nodeColor:{type:[String,Function],default:"#e2e2e2"},nodeStrokeColor:{type:[String,Function],default:"transparent"},nodeClassName:{type:[String,Function]},nodeBorderRadius:{default:5},nodeStrokeWidth:{default:2},maskColor:{default:"rgb(240, 240, 240, 0.6)"},maskStrokeColor:{default:"none"},maskStrokeWidth:{default:1},position:{default:"bottom-right"},pannable:{type:Boolean,default:!1},zoomable:{type:Boolean,default:!1},width:{},height:{},ariaLabel:{default:"Vue Flow mini map"},inversePan:{type:Boolean,default:!1},zoomStep:{default:10},offsetScale:{default:5},maskBorderRadius:{default:0}},emits:["click","nodeClick","nodeDblclick","nodeMouseenter","nodeMousemove","nodeMouseleave"],setup(t,{emit:e}){const n=zp(),r=pc(),i=200,o=150,{id:a,edges:s,viewport:l,translateExtent:u,dimensions:c,emits:f,d3Selection:d,d3Zoom:h,getNodesInitialized:p}=Bt(),v=bt();ar(Bg,n);const m=Ht(()=>{var k;return t.width??((k=r.style)==null?void 0:k.width)??i}),g=Ht(()=>{var k;return t.height??((k=r.style)==null?void 0:k.height)??o}),b=typeof window>"u"||window.chrome?"crispEdges":"geometricPrecision",_=vt(()=>typeof t.nodeColor=="string"?()=>t.nodeColor:t.nodeColor),w=vt(()=>typeof t.nodeStrokeColor=="string"?()=>t.nodeStrokeColor:t.nodeStrokeColor),D=vt(()=>typeof t.nodeClassName=="string"?()=>t.nodeClassName:typeof t.nodeClassName=="function"?t.nodeClassName:()=>""),$=vt(()=>$c(p.value.filter(k=>!k.hidden))),E=vt(()=>({x:-l.value.x/l.value.zoom,y:-l.value.y/l.value.zoom,width:c.value.width/l.value.zoom,height:c.value.height/l.value.zoom})),A=vt(()=>p.value&&p.value.length?Vx($.value,E.value):E.value),O=vt(()=>{const k=A.value.width/m.value,z=A.value.height/g.value;return Math.max(k,z)}),N=vt(()=>{const k=O.value*m.value,z=O.value*g.value,V=t.offsetScale*O.value;return{offset:V,x:A.value.x-(k-A.value.width)/2-V,y:A.value.y-(z-A.value.height)/2-V,width:k+V*2,height:z+V*2}}),F=vt(()=>!N.value.x||!N.value.y?"":`
    M${N.value.x-N.value.offset},${N.value.y-N.value.offset}
    h${N.value.width+N.value.offset*2}
    v${N.value.height+N.value.offset*2}
    h${-N.value.width-N.value.offset*2}z
    M${E.value.x+t.maskBorderRadius},${E.value.y}
    h${E.value.width-2*t.maskBorderRadius}
    a${t.maskBorderRadius},${t.maskBorderRadius} 0 0 1 ${t.maskBorderRadius},${t.maskBorderRadius}
    v${E.value.height-2*t.maskBorderRadius}
    a${t.maskBorderRadius},${t.maskBorderRadius} 0 0 1 -${t.maskBorderRadius},${t.maskBorderRadius}
    h${-(E.value.width-2*t.maskBorderRadius)}
    a${t.maskBorderRadius},${t.maskBorderRadius} 0 0 1 -${t.maskBorderRadius},-${t.maskBorderRadius}
    v${-(E.value.height-2*t.maskBorderRadius)}
    a${t.maskBorderRadius},${t.maskBorderRadius} 0 0 1 ${t.maskBorderRadius},-${t.maskBorderRadius}z`);F1(k=>{if(v.value){const z=er(v.value),V=rt=>{if(rt.sourceEvent.type!=="wheel"||!d.value||!h.value)return;const Z=-rt.sourceEvent.deltaY*(rt.sourceEvent.deltaMode===1?.05:rt.sourceEvent.deltaMode?1:.002)*t.zoomStep,J=l.value.zoom*2**Z;h.value.scaleTo(d.value,J)},Y=rt=>{if(rt.sourceEvent.type!=="mousemove"||!d.value||!h.value)return;const Z=O.value*Math.max(1,l.value.zoom)*(t.inversePan?-1:1),J={x:l.value.x-rt.sourceEvent.movementX*Z,y:l.value.y-rt.sourceEvent.movementY*Z},tt=[[0,0],[c.value.width,c.value.height]],it=Fc.translate(J.x,J.y).scale(l.value.zoom),at=h.value.constrain()(it,tt,u.value);h.value.transform(d.value,at)},j=_$().on("zoom",t.pannable?Y:()=>{}).on("zoom.wheel",t.zoomable?V:()=>{});z.call(j),k(()=>{z.on("zoom",null)})}},{flush:"post"});function S(k){const[z,V]=jn(k);e("click",{event:k,position:{x:z,y:V}})}function G(k,z){const V={event:k,node:z,connectedEdges:wr([z],s.value)};f.miniMapNodeClick(V),e("nodeClick",V)}function y(k,z){const V={event:k,node:z,connectedEdges:wr([z],s.value)};f.miniMapNodeDoubleClick(V),e("nodeDblclick",V)}function R(k,z){const V={event:k,node:z,connectedEdges:wr([z],s.value)};f.miniMapNodeMouseEnter(V),e("nodeMouseenter",V)}function M(k,z){const V={event:k,node:z,connectedEdges:wr([z],s.value)};f.miniMapNodeMouseMove(V),e("nodeMousemove",V)}function L(k,z){const V={event:k,node:z,connectedEdges:wr([z],s.value)};f.miniMapNodeMouseLeave(V),e("nodeMouseleave",V)}return(k,z)=>(ht(),le(et(XE),{position:k.position,class:He(["vue-flow__minimap",{pannable:k.pannable,zoomable:k.zoomable}])},{default:we(()=>[(ht(),Ct("svg",{ref_key:"el",ref:v,width:m.value,height:g.value,viewBox:[N.value.x,N.value.y,N.value.width,N.value.height].join(" "),role:"img","aria-labelledby":`vue-flow__minimap-${et(a)}`,onClick:S},[k.ariaLabel?(ht(),Ct("title",{key:0,id:`vue-flow__minimap-${et(a)}`},ve(k.ariaLabel),9,E$)):he("",!0),(ht(!0),Ct(Gt,null,ws(et(p),V=>(ht(),le(x$,{id:V.id,key:V.id,position:V.computedPosition,dimensions:V.dimensions,selected:V.selected,dragging:V.dragging,style:pe(V.style),class:He(D.value(V)),color:_.value(V),"border-radius":k.nodeBorderRadius,"stroke-color":w.value(V),"stroke-width":k.nodeStrokeWidth,"shape-rendering":et(b),type:V.type,hidden:V.hidden,onClick:Y=>G(Y,V),onDblclick:Y=>y(Y,V),onMouseenter:Y=>R(Y,V),onMousemove:Y=>M(Y,V),onMouseleave:Y=>L(Y,V)},null,8,["id","position","dimensions","selected","dragging","style","class","color","border-radius","stroke-color","stroke-width","shape-rendering","type","hidden","onClick","onDblclick","onMouseenter","onMousemove","onMouseleave"]))),128)),pt("path",{class:"vue-flow__minimap-mask",d:F.value,fill:k.maskColor,stroke:k.maskStrokeColor,"stroke-width":k.maskStrokeWidth,"fill-rule":"evenodd"},null,8,C$)],8,S$))]),_:1},8,["position","class"]))}});function $$(t,e,n){var h,p,v,m;const{source:r,sourceHandle:i,target:o,targetHandle:a}=t;if(r===o)return{valid:!1,reason:" ",code:""};if(e.some(g=>g.target===o&&g.targetHandle===a))return{valid:!1,reason:" ",code:""};if(e.some(g=>g.source===r&&g.sourceHandle===i))return{valid:!1,reason:" ",code:""};const u=n.find(g=>g.id===r),c=n.find(g=>g.id===o),f=(p=(h=u==null?void 0:u.data)==null?void 0:h.outputs)==null?void 0:p.includes(i),d=(m=(v=c==null?void 0:c.data)==null?void 0:v.inputs)==null?void 0:m.includes(a);return!f||!d?{valid:!1,reason:" ",code:","}:{valid:!0}}function T$(t,e,n=!1){if(!t){console.error(" VueFlow instance is required"),e&&e("");return}try{const r=t.toObject();if(n)fetch("/api/convert-to-sys",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)}).then(i=>{if(!i.ok)throw new Error("");return i.blob()}).then(i=>{const o=URL.createObjectURL(i),a=document.createElement("a");a.href=o,a.download="workflow.sys",a.click(),URL.revokeObjectURL(o)}).catch(i=>{console.error(" ",i),e&&e("SYS")});else{const i=JSON.stringify(r,null,2),o=new Blob([i],{type:"application/json"}),a=URL.createObjectURL(o),s=document.createElement("a");s.href=a,s.download="flow.json",s.click(),URL.revokeObjectURL(a)}}catch(r){console.error(" ",r),e&&e("")}}function P$(t,e,n){const r=t.target,i=r.files[0];if(!i)return;const o=new FileReader;o.onload=a=>{try{const s=a.target.result,l=JSON.parse(s);if(!l.nodes||!Array.isArray(l.nodes)||!l.edges||!Array.isArray(l.edges))throw new Error(" JSON  nodes/edges ");e&&e(l)}catch(s){console.error(" :  JSON ",s),n&&n(" JSON ")}finally{r.value=""}},o.readAsText(i)}const bi=(t,e)=>{const n=t.__vccOpts||t;for(const[r,i]of e)n[r]=i;return n},N$={key:0,class:"error-overlay"},R$={class:"error-content"},O$={__name:"ErrorOverlay",props:{message:String,errkey:Number},setup(t){const e=t,n=bt(!1);return Rt(()=>e.errkey,r=>{r&&(n.value=!0,setTimeout(()=>n.value=!1,2e3))}),(r,i)=>(ht(),le(fy,{name:"fade-zoom"},{default:we(()=>[n.value?(ht(),Ct("div",N$,[pt("div",R$,"  "+ve(e.message),1)])):he("",!0)]),_:1}))}},I$=bi(O$,[["__scopeId","data-v-47307550"]]),A$={key:0,class:"dialog-mask"},k$={class:"dialog-box"},B$=["disabled"],z$={key:0,style:{"margin-top":"8px"}},F$={key:1,style:{"margin-top":"8px",color:"green"}},G$={__name:"Dialog",props:{modelValue:{type:Boolean,default:!0}},emits:["update:modelValue","flow-generated"],setup(t,{emit:e}){const n=t,r=e,i=bt(n.modelValue),o=bt(""),a=bt(!1),s=bt(""),l=()=>{i.value=!1,r("update:modelValue",!1)},u=async()=>{a.value=!0,s.value="";try{const f=await(await fetch("/api/dialog",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({content:o.value})})).json();s.value=f.reply,f.flow?(r("flow-generated",f.flow),l()):s.value=""}catch{s.value=""}finally{a.value=!1}};return(c,f)=>i.value?(ht(),Ct("div",A$,[pt("div",k$,[f[1]||(f[1]=pt("div",{class:"dialog-title"},"",-1)),i1(pt("textarea",{"onUpdate:modelValue":f[0]||(f[0]=d=>o.value=d),rows:"4",style:{width:"100%","margin-bottom":"10px"}},null,512),[[Ry,o.value]]),pt("div",null,[pt("button",{onClick:u,disabled:a.value},"",8,B$),pt("button",{onClick:l,style:{"margin-left":"8px"}},"")]),a.value?(ht(),Ct("div",z$,"...")):he("",!0),s.value?(ht(),Ct("div",F$,ve(s.value),1)):he("",!0)])])):he("",!0)}},L$=bi(G$,[["__scopeId","data-v-b33133a7"]]);function V$(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return e.map(function(r){return r.split(" ").map(function(i){return i?""+t+i:""}).join(" ")}).join(" ")}function H$(t,e){return e.replace(/([^}{]*){/gm,function(n,r){return r.replace(/\.([^{,\s\d.]+)/g,"."+t+"$1")+"{"})}function vn(t,e){return function(n){n&&(t[e]=n)}}function zg(t,e,n){return function(r){r&&(t[e][n]=r)}}function sh(t,e){return function(n){var r=n.prototype;t.forEach(function(i){e(r,i)})}}function Y$(t,e){return e===void 0&&(e={}),function(n,r){t.forEach(function(i){var o=e[i]||i;o in n||(n[o]=function(){for(var a,s=[],l=0;l<arguments.length;l++)s[l]=arguments[l];var u=(a=this[r])[i].apply(a,s);return u===this[r]?this:u})})}}var X$=function(){function t(){this.keys=[],this.values=[]}var e=t.prototype;return e.get=function(n){return this.values[this.keys.indexOf(n)]},e.set=function(n,r){var i=this.keys,o=this.values,a=i.indexOf(n),s=a===-1?i.length:a;i[s]=n,o[s]=r},t}(),W$=function(){function t(){this.object={}}var e=t.prototype;return e.get=function(n){return this.object[n]},e.set=function(n,r){this.object[n]=r},t}(),U$=typeof Map=="function",q$=function(){function t(){}var e=t.prototype;return e.connect=function(n,r){this.prev=n,this.next=r,n&&(n.next=this),r&&(r.prev=this)},e.disconnect=function(){var n=this.prev,r=this.next;n&&(n.next=r),r&&(r.prev=n)},e.getIndex=function(){for(var n=this,r=-1;n;)n=n.prev,++r;return r},t}();function j$(t,e){var n=[],r=[];return t.forEach(function(i){var o=i[0],a=i[1],s=new q$;n[o]=s,r[a]=s}),n.forEach(function(i,o){i.connect(n[o-1])}),t.filter(function(i,o){return!e[o]}).map(function(i,o){var a=i[0],s=i[1];if(a===s)return[0,0];var l=n[a],u=r[s-1],c=l.getIndex();l.disconnect(),u?l.connect(u,u.next):l.connect(void 0,n[0]);var f=l.getIndex();return[c,f]})}var K$=function(){function t(n,r,i,o,a,s,l,u){this.prevList=n,this.list=r,this.added=i,this.removed=o,this.changed=a,this.maintained=s,this.changedBeforeAdded=l,this.fixed=u}var e=t.prototype;return Object.defineProperty(e,"ordered",{get:function(){return this.cacheOrdered||this.caculateOrdered(),this.cacheOrdered},enumerable:!0,configurable:!0}),Object.defineProperty(e,"pureChanged",{get:function(){return this.cachePureChanged||this.caculateOrdered(),this.cachePureChanged},enumerable:!0,configurable:!0}),e.caculateOrdered=function(){var n=j$(this.changedBeforeAdded,this.fixed),r=this.changed,i=[];this.cacheOrdered=n.filter(function(o,a){var s=o[0],l=o[1],u=r[a],c=u[0],f=u[1];if(s!==l)return i.push([c,f]),!0}),this.cachePureChanged=i},t}();function Ls(t,e,n){var r=U$?Map:n?W$:X$,i=n||function(b){return b},o=[],a=[],s=[],l=t.map(i),u=e.map(i),c=new r,f=new r,d=[],h=[],p={},v=[],m=0,g=0;return l.forEach(function(b,_){c.set(b,_)}),u.forEach(function(b,_){f.set(b,_)}),l.forEach(function(b,_){var w=f.get(b);typeof w>"u"?(++g,a.push(_)):p[w]=g}),u.forEach(function(b,_){var w=c.get(b);typeof w>"u"?(o.push(_),++m):(s.push([w,_]),g=p[_]||0,d.push([w-g,_-m]),h.push(_===w),w!==_&&v.push([w,_]))}),a.reverse(),new K$(t,e,o,a,v,s,d,h)}var Z$=function(){function t(n,r){n===void 0&&(n=[]),this.findKeyCallback=r,this.list=[].slice.call(n)}var e=t.prototype;return e.update=function(n){var r=[].slice.call(n),i=Ls(this.list,r,this.findKeyCallback);return this.list=r,i},t}(),J$="function",Q$="object",tT="string",eT="number",Fg="undefined",Gg=typeof window!==Fg,nT=[{open:"(",close:")"},{open:'"',close:'"'},{open:"'",close:"'"},{open:'\\"',close:'\\"'},{open:"\\'",close:"\\'"}],Jt=1e-7,Qo={cm:function(t){return t*96/2.54},mm:function(t){return t*96/254},in:function(t){return t*96},pt:function(t){return t*96/72},pc:function(t){return t*96/6},"%":function(t,e){return t*e/100},vw:function(t,e){return e===void 0&&(e=window.innerWidth),t/100*e},vh:function(t,e){return e===void 0&&(e=window.innerHeight),t/100*e},vmax:function(t,e){return e===void 0&&(e=Math.max(window.innerWidth,window.innerHeight)),t/100*e},vmin:function(t,e){return e===void 0&&(e=Math.min(window.innerWidth,window.innerHeight)),t/100*e}};function rT(t,e,n,r){return(t*r+e*n)/(n+r)}function $o(t){return typeof t===Fg}function mn(t){return t&&typeof t===Q$}function Fr(t){return Array.isArray(t)}function tn(t){return typeof t===tT}function Cu(t){return typeof t===eT}function Lg(t){return typeof t===J$}function iT(t,e){var n=t===""||t==" ",r=e===""||e==" ";return r&&n||t===e}function Vg(t,e,n,r,i){var o=Gc(t,e,n);return o?n:oT(t,e,n+1,r,i)}function Gc(t,e,n){if(!t.ignore)return null;var r=e.slice(Math.max(n-3,0),n+3).join("");return new RegExp(t.ignore).exec(r)}function oT(t,e,n,r,i){for(var o=function(u){var c=e[u].trim();if(c===t.close&&!Gc(t,e,u))return{value:u};var f=u,d=go(i,function(h){var p=h.open;return p===c});if(d&&(f=Vg(d,e,u,r,i)),f===-1)return a=u,"break";u=f,a=u},a,s=n;s<r;++s){var l=o(s);if(s=a,typeof l=="object")return l.value;if(l==="break")break}return-1}function Hg(t,e){var n=tn(e)?{separator:e}:e,r=n.separator,i=r===void 0?",":r,o=n.isSeparateFirst,a=n.isSeparateOnlyOpenClose,s=n.isSeparateOpenClose,l=s===void 0?a:s,u=n.openCloseCharacters,c=u===void 0?nT:u,f=c.map(function(E){var A=E.open,O=E.close;return A===O?A:A+"|"+O}).join("|"),d="(\\s*"+i+"\\s*|"+f+"|\\s+)",h=new RegExp(d,"g"),p=t.split(h).filter(Boolean),v=p.length,m=[],g=[];function b(){return g.length?(m.push(g.join("")),g=[],!0):!1}for(var _=function(E){var A=p[E].trim(),O=E,N=go(c,function(S){var G=S.open;return G===A}),F=go(c,function(S){var G=S.close;return G===A});if(N){if(O=Vg(N,p,E,v,c),O!==-1&&l)return b()&&o||(m.push(p.slice(E,O+1).join("")),E=O,o)?(w=E,"break"):(w=E,"continue")}else{if(F&&!Gc(F,p,E))throw new Error("invalid format: "+F.close);if(iT(A,i)&&!a)return b(),o?(w=E,"break"):(w=E,"continue")}O===-1&&(O=v-1),g.push(p.slice(E,O+1).join("")),E=O,w=E},w,D=0;D<v;++D){var $=_(D);if(D=w,$==="break")break}return g.length&&m.push(g.join("")),m}function cr(t){return Hg(t,"")}function $r(t){return Hg(t,",")}function Yg(t){var e=/([^(]*)\(([\s\S]*)\)([\s\S]*)/g.exec(t);return!e||e.length<4?{}:{prefix:e[1],value:e[2],suffix:e[3]}}function To(t){var e=/^([^\d|e|\-|\+]*)((?:\d|\.|-|e-|e\+)+)(\S*)$/g.exec(t);if(!e)return{prefix:"",unit:"",value:NaN};var n=e[1],r=e[2],i=e[3];return{prefix:n,unit:i,value:parseFloat(r)}}function aT(t){return t.replace(/[\s-_]([a-z])/g,function(e,n){return n.toUpperCase()})}function Pl(t,e){return t.replace(/([a-z])([A-Z])/g,function(n,r,i){return""+r+e+i.toLowerCase()})}function ts(){return Date.now?Date.now():new Date().getTime()}function yn(t,e,n){n===void 0&&(n=-1);for(var r=t.length,i=0;i<r;++i)if(e(t[i],i,t))return i;return n}function go(t,e,n){var r=yn(t,e);return r>-1?t[r]:n}var Lc=function(){var t=ts(),e=Gg&&(window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame);return e?e.bind(window):function(n){var r=ts(),i=window.setTimeout(function(){n(r-t)},1e3/60);return i}}(),sT=function(){var t=Gg&&(window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.msCancelAnimationFrame);return t?t.bind(window):function(e){clearTimeout(e)}}();function Xg(t){if(Object.keys)return Object.keys(t);var e=[];for(var n in e)e.push(n);return e}function Ut(t,e){var n=To(t),r=n.value,i=n.unit;if(mn(e)){var o=e[i];if(o){if(Lg(o))return o(r);if(Qo[i])return Qo[i](r,o)}}else if(i==="%")return r*e/100;return Qo[i]?Qo[i](r):r}function lT(t,e,n){return Math.max(e,Math.min(t,n))}function lh(t,e,n,r){return r===void 0&&(r=t[0]/t[1]),[[$t(e[0],Jt),$t(e[0]/r,Jt)],[$t(e[1]*r,Jt),$t(e[1],Jt)]].filter(function(i){return i.every(function(o,a){var s=e[a],l=$t(s,Jt);return n?o<=s||o<=l:o>=s||o>=l})})[0]||t}function uT(t,e,n,r){if(!r)return t.map(function(h,p){return lT(h,e[p],n[p])});var i=t[0],o=t[1],a=r===!0?i/o:r,s=lh(t,e,!1,a),l=s[0],u=s[1],c=lh(t,n,!0,a),f=c[0],d=c[1];return i<l||o<u?(i=l,o=u):(i>f||o>d)&&(i=f,o=d),[i,o]}function cT(t){for(var e=t.length,n=0,r=e-1;r>=0;--r)n+=t[r];return n}function mo(t){for(var e=t.length,n=0,r=e-1;r>=0;--r)n+=t[r];return e?n/e:0}function Wt(t,e){var n=e[0]-t[0],r=e[1]-t[1],i=Math.atan2(r,n);return i>=0?i:i+Math.PI*2}function fT(t){return[0,1].map(function(e){return mo(t.map(function(n){return n[e]}))})}function Mu(t){var e=fT(t),n=Wt(e,t[0]),r=Wt(e,t[1]);return n<r&&r-n<Math.PI||n>r&&r-n<-Math.PI?1:-1}function On(t,e){return Math.sqrt(Math.pow((e?e[0]:0)-t[0],2)+Math.pow((e?e[1]:0)-t[1],2))}function $t(t,e){if(!e)return t;var n=1/e;return Math.round(t/e)/n}function uh(t,e){return t.forEach(function(n,r){t[r]=$t(t[r],e)}),t}function je(t,e){return t.classList?t.classList.contains(e):!!t.className.match(new RegExp("(\\s|^)"+e+"(\\s|$)"))}function dT(t,e){t.classList?t.classList.add(e):t.className+=" "+e}function hT(t,e){if(t.classList)t.classList.remove(e);else{var n=new RegExp("(\\s|^)"+e+"(\\s|$)");t.className=t.className.replace(n," ")}}function Ye(t,e,n,r){t.addEventListener(e,n,r)}function Ce(t,e,n,r){t.removeEventListener(e,n,r)}/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var Du=function(t,e){return Du=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)r.hasOwnProperty(i)&&(n[i]=r[i])},Du(t,e)};function Gr(t,e){Du(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var nr=function(){return nr=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},nr.apply(this,arguments)};function Wg(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function pT(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var r=Array(t),i=0,e=0;e<n;e++)for(var o=arguments[e],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}function $u(t,e){if(t===e)return!1;for(var n in t)if(!(n in e))return!0;for(var n in e)if(t[n]!==e[n])return!0;return!1}function Vc(t,e){var n=Object.keys(t),r=Object.keys(e),i=Ls(n,r,function(l){return l}),o={},a={},s={};return i.added.forEach(function(l){var u=r[l];o[u]=e[u]}),i.removed.forEach(function(l){var u=n[l];a[u]=t[u]}),i.maintained.forEach(function(l){var u=l[0],c=n[u],f=[t[c],e[c]];t[c]!==e[c]&&(s[c]=f)}),{added:o,removed:a,changed:s}}function Ug(t){t.forEach(function(e){e()})}function ch(t){var e=0;return t.map(function(n){return n==null?"$compat"+ ++e:""+n})}function fh(t,e,n,r){if(tn(t)||Cu(t))return new yT("text_"+t,e,n,r,null,{});var i=typeof t.type=="string"?_T:t.type.prototype.render?wT:bT;return new i(t.type,e,n,r,t.ref,t.props)}function qg(t){var e=[];return t.forEach(function(n){e=e.concat(Fr(n)?qg(n):n)}),e}function dh(t){var e=t.className,n=Wg(t,["className"]);return e!=null&&(n.class=e),delete n.style,delete n.children,n}function Nl(t,e){if(!e)return t;for(var n in e)$o(t[n])&&(t[n]=e[n]);return t}function Ge(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var i=e||{},o=i.key,a=i.ref,s=Wg(i,["key","ref"]);return{type:t,key:o,ref:a,props:nr(nr({},s),{children:qg(n).filter(function(l){return l!=null&&l!==!1})})}}var Po=function(){function t(n,r,i,o,a,s){s===void 0&&(s={}),this.type=n,this.key=r,this.index=i,this.container=o,this.ref=a,this.props=s,this._providers=[]}var e=t.prototype;return e._should=function(n,r){return!0},e._update=function(n,r,i,o){if(this.base&&!tn(r)&&!o&&!this._should(r.props,i))return!1;this.original=r,this._setState(i);var a=this.props;return tn(r)||(this.props=r.props,this.ref=r.ref),this._render(n,this.base?a:{},i),!0},e._mounted=function(){var n=this.ref;n&&n(this.base)},e._setState=function(n){},e._updated=function(){var n=this.ref;n&&n(this.base)},e._destroy=function(){var n=this.ref;n&&n(null)},t}();function vT(t,e,n){var r=Vc(t,e),i=r.added,o=r.removed,a=r.changed;for(var s in i)n.setAttribute(s,i[s]);for(var s in a)n.setAttribute(s,a[s][1]);for(var s in o)n.removeAttribute(s)}function gT(t,e,n){var r=Vc(t,e),i=r.added,o=r.removed,a=r.changed;for(var s in o)n.removeEventListener(s);for(var s in i)n.addEventListener(s,i[s]);for(var s in a)n.removeEventListener(s),n.addEventListener(s,a[s][1]);for(var s in o)n.removeEventListener(s)}function mT(t,e,n){var r=n.style,i=Vc(t,e),o=i.added,a=i.removed,s=i.changed;for(var l in o){var u=Pl(l,"-");r.setProperty?r.setProperty(u,o[l]):r[u]=o[l]}for(var l in s){var u=Pl(l,"-");r.setProperty?r.setProperty(u,s[l][1]):r[u]=s[l][1]}for(var l in a){var u=Pl(l,"-");r.removeProperty?r.removeProperty(u):r[u]=""}}function hh(t){var e={},n={};for(var r in t)r.indexOf("on")===0?n[r.replace("on","").toLowerCase()]=t[r]:e[r]=t[r];return{attributes:e,events:n}}var yT=function(t){Gr(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}var n=e.prototype;return n._render=function(r){var i=this,o=!this.base;return o&&(this.base=document.createTextNode(this.type.replace("text_",""))),r.push(function(){o?i._mounted():i._updated()}),!0},n._unmount=function(){this.base.parentNode.removeChild(this.base)},e}(Po),_T=function(t){Gr(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.events={},r._isSVG=!1,r}var n=e.prototype;return n.addEventListener=function(r,i){var o=this.events;o[r]=function(a){a.nativeEvent=a,i(a)},this.base.addEventListener(r,o[r])},n.removeEventListener=function(r){var i=this.events;this.base.removeEventListener(r,i[r]),delete i[r]},n._should=function(r){return $u(this.props,r)},n._render=function(r,i){var o=this,a=!this.base;if(a){var s=this._hasSVG();this._isSVG=s;var l=this.props.portalContainer;if(!l){var u=this.type;s?l=document.createElementNS("http://www.w3.org/2000/svg",u):l=document.createElement(u)}this.base=l}No(this,this._providers,this.props.children,r,null);var c=this.base,f=hh(i),d=f.attributes,h=f.events,p=hh(this.props),v=p.attributes,m=p.events;return vT(dh(d),dh(v),c),gT(h,m,this),mT(i.style||{},this.props.style||{},c),r.push(function(){a?o._mounted():o._updated()}),!0},n._unmount=function(){var r=this.events,i=this.base;for(var o in r)i.removeEventListener(o,r[o]);this._providers.forEach(function(a){a._unmount()}),this.events={},this.props.portalContainer||i.parentNode.removeChild(i)},n._hasSVG=function(){if(this._isSVG||this.type==="svg")return!0;var r=Hc(this.container);return r&&"ownerSVGElement"in r},e}(Po);function Hc(t){if(!t)return null;var e=t.base;return e instanceof Node?e:Hc(t.container)}function yo(t){if(!t)return null;if(t instanceof Node)return t;var e=t.$_provider._providers;return e.length?yo(e[0].base):null}var bT=function(t){Gr(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}var n=e.prototype;return n._render=function(r){var i=this.type(this.props);return No(this,this._providers,i?[i]:[],r),!0},n._unmount=function(){this._providers.forEach(function(r){r._unmount()})},e}(Po),jg=function(t){Gr(e,t);function e(r){var i=t.call(this,"container","container",0,null)||this;return i.base=r,i}var n=e.prototype;return n._render=function(){return!0},n._unmount=function(){},e}(Po),wT=function(t){Gr(e,t);function e(r,i,o,a,s,l){return l===void 0&&(l={}),t.call(this,r,i,o,a,s,Nl(l,r.defaultProps))||this}var n=e.prototype;return n._should=function(r,i){return this.base.shouldComponentUpdate(Nl(r,this.type.defaultProps),i||this.base.state)},n._render=function(r,i){var o=this;this.props=Nl(this.props,this.type.defaultProps);var a=!this.base;a?(this.base=new this.type(this.props),this.base.$_provider=this):this.base.props=this.props;var s=this.base,l=s.state,u=s.render();u&&u.props&&!u.props.children.length&&(u.props.children=this.props.children),No(this,this._providers,u?[u]:[],r),r.push(function(){a?(o._mounted(),s.componentDidMount()):(o._updated(),s.componentDidUpdate(i,l))})},n._setState=function(r){var i=this.base;!i||!r||(i.state=r)},n._unmount=function(){this._providers.forEach(function(r){r._unmount()}),clearTimeout(this.base.$_timer),this.base.componentWillUnmount()},e}(Po),Yc=function(){function t(n){n===void 0&&(n={}),this.props=n,this.state={},this.$_timer=0,this.$_state={}}var e=t.prototype;return e.shouldComponentUpdate=function(n,r){return!0},e.render=function(){return null},e.setState=function(n,r,i){var o=this;this.$_timer||(this.$_state={}),clearTimeout(this.$_timer),this.$_timer=0,this.$_state=nr(nr({},this.$_state),n),i?this.$_setState(r,i):this.$_timer=setTimeout(function(){o.$_timer=0,o.$_setState(r,i)})},e.forceUpdate=function(n){this.setState({},n,!0)},e.componentDidMount=function(){},e.componentDidUpdate=function(n,r){},e.componentWillUnmount=function(){},e.$_setState=function(n,r){var i=[],o=this.$_provider,a=No(o.container,[o],[o.original],i,nr(nr({},this.state),this.$_state),r);a&&(n&&i.push(n),Ug(i))},t}(),Xc=function(t){Gr(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}var n=e.prototype;return n.shouldComponentUpdate=function(r,i){return $u(this.props,r)||$u(this.state,i)},e}(Yc),xT=function(t){Gr(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}var n=e.prototype;return n.componentDidMount=function(){var r=this.props,i=r.element,o=r.container;this._portalProvider=new jg(o),Sa(i,o,this._portalProvider)},n.componentDidUpdate=function(){var r=this.props,i=r.element,o=r.container;Sa(i,o,this._portalProvider)},n.componentWillUnmount=function(){var r=this.props.container;Sa(null,r,this._portalProvider),this._portalProvider=null},e}(Xc);function ST(t,e,n){var r=[];No(t,t._providers,e,r,n),Ug(r)}function ET(t,e){for(var n=t._providers,r=n.length,i=e.index+1;i<r;++i){var o=yo(n[i].base);if(o)return o}return null}function CT(t,e,n){var r=n.map(function(l){return tn(l)?null:l.key}),i=ch(e.map(function(l){return l.key})),o=ch(r),a=Ls(i,o,function(l){return l});a.removed.forEach(function(l){e.splice(l,1)[0]._unmount()}),a.ordered.forEach(function(l){var u=l[0],c=l[1],f=e.splice(u,1)[0];e.splice(c,0,f);var d=yo(f.base),h=yo(e[c+1]&&e[c+1].base);d&&d.parentNode.insertBefore(d,h)}),a.added.forEach(function(l){e.splice(l,0,fh(n[l],r[l],l,t))});var s=a.maintained.filter(function(l){l[0];var u=l[1],c=n[u],f=e[u],d=tn(c)?"text_"+c:c.type;return d!==f.type?(f._unmount(),e.splice(u,1,fh(c,r[u],u,t)),!0):(f.index=u,!1)});return pT(a.added,s.map(function(l){l[0];var u=l[1];return u}))}function No(t,e,n,r,i,o){var a=CT(t,e,n),s=e.filter(function(u,c){return u._update(r,n[c],i,o)}),l=Hc(t);return l&&a.reverse().forEach(function(u){var c=e[u],f=yo(c.base);if(f&&l!==f&&!f.parentNode){var d=ET(t,c);l.insertBefore(f,d)}}),s.length>0}function Sa(t,e,n){n===void 0&&(n=e.__REACT_COMPAT__);var r=!!n;return n||(n=new jg(e)),ST(n,t?[t]:[]),r||(e.__REACT_COMPAT__=n),n}function ph(t,e,n){var r=e.__REACT_COMPAT__;t&&!r&&(e.innerHTML=""),Sa(t,e,r)}function MT(t,e){return Ge(xT,{element:t,container:e})}var DT="simple-1.1.0";function Wc(t,e){for(var n=t.length,r=0;r<n;++r)if(e(t[r],r))return!0;return!1}function Kg(t,e){for(var n=t.length,r=0;r<n;++r)if(e(t[r],r))return t[r];return null}function Zg(t){var e=t;if(typeof e>"u"){if(typeof navigator>"u"||!navigator)return"";e=navigator.userAgent||""}return e.toLowerCase()}function Uc(t,e){try{return new RegExp(t,"g").exec(e)}catch{return null}}function $T(){if(typeof navigator>"u"||!navigator||!navigator.userAgentData)return!1;var t=navigator.userAgentData,e=t.brands||t.uaList;return!!(e&&e.length)}function TT(t,e){var n=Uc("("+t+")((?:\\/|\\s|:)([0-9|\\.|_]+))",e);return n?n[3]:""}function Tu(t){return t.replace(/_/g,".")}function Bi(t,e){var n=null,r="-1";return Wc(t,function(i){var o=Uc("("+i.test+")((?:\\/|\\s|:)([0-9|\\.|_]+))?",e);return!o||i.brand?!1:(n=i,r=o[3]||"-1",i.versionAlias?r=i.versionAlias:i.versionTest&&(r=TT(i.versionTest.toLowerCase(),e)||r),r=Tu(r),!0)}),{preset:n,version:r}}function ta(t,e){var n={brand:"",version:"-1"};return Wc(t,function(r){var i=Jg(e,r);return i?(n.brand=r.id,n.version=r.versionAlias||i.version,n.version!=="-1"):!1}),n}function Jg(t,e){return Kg(t,function(n){var r=n.brand;return Uc(""+e.test,r.toLowerCase())})}var Qg=[{test:"phantomjs",id:"phantomjs"},{test:"whale",id:"whale"},{test:"edgios|edge|edg",id:"edge"},{test:"msie|trident|windows phone",id:"ie",versionTest:"iemobile|msie|rv"},{test:"miuibrowser",id:"miui browser"},{test:"samsungbrowser",id:"samsung internet"},{test:"samsung",id:"samsung internet",versionTest:"version"},{test:"chrome|crios",id:"chrome"},{test:"firefox|fxios",id:"firefox"},{test:"android",id:"android browser",versionTest:"version"},{test:"safari|iphone|ipad|ipod",id:"safari",versionTest:"version"}],t0=[{test:"(?=.*applewebkit/(53[0-7]|5[0-2]|[0-4]))(?=.*\\schrome)",id:"chrome",versionTest:"chrome"},{test:"chromium",id:"chrome"},{test:"whale",id:"chrome",versionAlias:"-1",brand:!0}],Pu=[{test:"applewebkit",id:"webkit",versionTest:"applewebkit|safari"}],e0=[{test:"(?=(iphone|ipad))(?!(.*version))",id:"webview"},{test:"(?=(android|iphone|ipad))(?=.*(naver|daum|; wv))",id:"webview"},{test:"webview",id:"webview"}],n0=[{test:"windows phone",id:"windows phone"},{test:"windows 2000",id:"window",versionAlias:"5.0"},{test:"windows nt",id:"window"},{test:"win32|windows",id:"window"},{test:"iphone|ipad|ipod",id:"ios",versionTest:"iphone os|cpu os"},{test:"macos|macintel|mac os x",id:"mac"},{test:"android|linux armv81",id:"android"},{test:"tizen",id:"tizen"},{test:"webos|web0s",id:"webos"}];function r0(t){return!!Bi(e0,t).preset}function PT(t){var e=Zg(t),n=!!/mobi/g.exec(e),r={name:"unknown",version:"-1",majorVersion:-1,webview:r0(e),chromium:!1,chromiumVersion:"-1",webkit:!1,webkitVersion:"-1"},i={name:"unknown",version:"-1",majorVersion:-1},o=Bi(Qg,e),a=o.preset,s=o.version,l=Bi(n0,e),u=l.preset,c=l.version,f=Bi(t0,e);if(r.chromium=!!f.preset,r.chromiumVersion=f.version,!r.chromium){var d=Bi(Pu,e);r.webkit=!!d.preset,r.webkitVersion=d.version}return u&&(i.name=u.id,i.version=c,i.majorVersion=parseInt(c,10)),a&&(r.name=a.id,r.version=s,r.webview&&i.name==="ios"&&r.name!=="safari"&&(r.webview=!1)),r.majorVersion=parseInt(r.version,10),{browser:r,os:i,isMobile:n,isHints:!1}}function NT(t){var e=navigator.userAgentData,n=(e.uaList||e.brands).slice(),r=e.mobile||!1,i=n[0],o=(e.platform||navigator.platform).toLowerCase(),a={name:i.brand,version:i.version,majorVersion:-1,webkit:!1,webkitVersion:"-1",chromium:!1,chromiumVersion:"-1",webview:!!ta(e0,n).brand||r0(Zg())},s={name:"unknown",version:"-1",majorVersion:-1};a.webkit=!a.chromium&&Wc(Pu,function(d){return Jg(n,d)});var l=ta(t0,n);if(a.chromium=!!l.brand,a.chromiumVersion=l.version,!a.chromium){var u=ta(Pu,n);a.webkit=!!u.brand,a.webkitVersion=u.version}var c=Kg(n0,function(d){return new RegExp(""+d.test,"g").exec(o)});s.name=c?c.id:"";{var f=ta(Qg,n);a.name=f.brand||a.name,a.version=f.brand&&t?t.uaFullVersion:f.version}return a.webkit&&(s.name=r?"ios":"mac"),s.name==="ios"&&a.webview&&(a.version="-1"),s.version=Tu(s.version),a.version=Tu(a.version),s.majorVersion=parseInt(s.version,10),a.majorVersion=parseInt(a.version,10),{browser:a,os:s,isMobile:r,isHints:!0}}function RT(t){return $T()?NT():PT(t)}function OT(t,e,n,r,i,o){for(var a=0;a<i;++a){var s=n+a*i,l=r+a*i;t[s]+=t[l]*o,e[s]+=e[l]*o}}function IT(t,e,n,r,i){for(var o=0;o<i;++o){var a=n+o*i,s=r+o*i,l=t[a],u=e[a];t[a]=t[s],t[s]=l,e[a]=e[s],e[s]=u}}function AT(t,e,n,r,i){for(var o=0;o<r;++o){var a=n+o*r;t[a]/=i,e[a]/=i}}function i0(t,e,n){n===void 0&&(n=Math.sqrt(t.length));for(var r=t.slice(),i=0;i<n;++i)r[i*n+e-1]=0,r[(e-1)*n+i]=0;return r[(e-1)*(n+1)]=1,r}function _n(t,e){e===void 0&&(e=Math.sqrt(t.length));for(var n=t.slice(),r=Yt(e),i=0;i<e;++i){var o=e*i+i;if(!$t(n[o],Jt)){for(var a=i+1;a<e;++a)if(n[e*i+a]){IT(n,r,i,a,e);break}}if(!$t(n[o],Jt))return[];AT(n,r,i,e,n[o]);for(var a=0;a<e;++a){var s=a,l=a+i*e,u=n[l];!$t(u,Jt)||i===a||OT(n,r,s,i,e,-u)}}return r}function kT(t,e){e===void 0&&(e=Math.sqrt(t.length));for(var n=[],r=0;r<e;++r)for(var i=0;i<e;++i)n[i*e+r]=t[e*r+i];return n}function BT(t,e){e===void 0&&(e=Math.sqrt(t.length));for(var n=[],r=t[e*e-1],i=0;i<e-1;++i)n[i]=t[e*(e-1)+i]/r;return n[e-1]=0,n}function zT(t,e){for(var n=Yt(e),r=0;r<e-1;++r)n[e*(e-1)+r]=t[r]||0;return n}function Ro(t,e){for(var n=t.slice(),r=t.length;r<e-1;++r)n[r]=0;return n[e-1]=1,n}function Ln(t,e,n){if(e===void 0&&(e=Math.sqrt(t.length)),e===n)return t;for(var r=Yt(n),i=Math.min(e,n),o=0;o<i-1;++o){for(var a=0;a<i-1;++a)r[o*n+a]=t[o*e+a];r[(o+1)*n-1]=t[(o+1)*e-1],r[(n-1)*n+o]=t[(e-1)*e+o]}return r[n*n-1]=t[e*e-1],r}function Nu(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=Yt(t);return e.forEach(function(i){r=kt(r,i,t)}),r}function kt(t,e,n){n===void 0&&(n=Math.sqrt(t.length));var r=[],i=t.length/n,o=e.length/i;if(i){if(!o)return t}else return e;for(var a=0;a<n;++a)for(var s=0;s<o;++s){r[s*n+a]=0;for(var l=0;l<i;++l)r[s*n+a]+=t[l*n+a]*e[s*i+l]}return r}function Dt(t,e){for(var n=Math.min(t.length,e.length),r=t.slice(),i=0;i<n;++i)r[i]=r[i]+e[i];return r}function St(t,e){for(var n=Math.min(t.length,e.length),r=t.slice(),i=0;i<n;++i)r[i]=r[i]-e[i];return r}function FT(t,e){return e===void 0&&(e=t.length===6),e?[t[0],t[1],0,t[2],t[3],0,t[4],t[5],1]:t}function o0(t,e){return e===void 0&&(e=t.length===9),e?[t[0],t[1],t[3],t[4],t[6],t[7]]:t}function Se(t,e,n){n===void 0&&(n=e.length);var r=kt(t,e,n),i=r[n-1];return r.map(function(o){return o/i})}function GT(t,e){return kt(t,[1,0,0,0,0,Math.cos(e),Math.sin(e),0,0,-Math.sin(e),Math.cos(e),0,0,0,0,1],4)}function LT(t,e){return kt(t,[Math.cos(e),0,-Math.sin(e),0,0,1,0,0,Math.sin(e),0,Math.cos(e),0,0,0,0,1],4)}function VT(t,e){return kt(t,mi(e,4))}function ea(t,e){var n=e[0],r=n===void 0?1:n,i=e[1],o=i===void 0?1:i,a=e[2],s=a===void 0?1:a;return kt(t,[r,0,0,0,0,o,0,0,0,0,s,0,0,0,0,1],4)}function rr(t,e){return Se(mi(e,3),Ro(t,3))}function Rl(t,e){var n=e[0],r=n===void 0?0:n,i=e[1],o=i===void 0?0:i,a=e[2],s=a===void 0?0:a;return kt(t,[1,0,0,0,0,1,0,0,0,0,1,0,r,o,s,1],4)}function vh(t,e){return kt(t,e,4)}function mi(t,e){var n=Math.cos(t),r=Math.sin(t),i=Yt(e);return i[0]=n,i[1]=r,i[e]=-r,i[e+1]=n,i}function Yt(t){for(var e=t*t,n=[],r=0;r<e;++r)n[r]=r%(t+1)?0:1;return n}function a0(t,e){for(var n=Yt(e),r=Math.min(t.length,e-1),i=0;i<r;++i)n[(e+1)*i]=t[i];return n}function _o(t,e){for(var n=Yt(e),r=Math.min(t.length,e-1),i=0;i<r;++i)n[e*(e-1)+i]=t[i];return n}function qc(t,e,n,r,i,o,a,s){var l=t[0],u=t[1],c=e[0],f=e[1],d=n[0],h=n[1],p=r[0],v=r[1],m=i[0],g=i[1],b=o[0],_=o[1],w=a[0],D=a[1],$=s[0],E=s[1],A=[l,0,c,0,d,0,p,0,u,0,f,0,h,0,v,0,1,0,1,0,1,0,1,0,0,l,0,c,0,d,0,p,0,u,0,f,0,h,0,v,0,1,0,1,0,1,0,1,-m*l,-g*l,-b*c,-_*c,-w*d,-D*d,-$*p,-E*p,-m*u,-g*u,-b*f,-_*f,-w*h,-D*h,-$*v,-E*v],O=_n(A,8);if(!O.length)return[];var N=kt(O,[m,g,b,_,w,D,$,E],8);return N[8]=1,Ln(kT(N),3,4)}function HT(){return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}function s0(t){return qr(Sr(t))}function YT(t,e){var n=Se(t,[e[0],e[1]||0,e[2]||0,1],4),r=n[3]||1;return[n[0]/r,n[1]/r,n[2]/r]}function qr(t){var e=HT();return t.forEach(function(n){var r=n.matrixFunction,i=n.functionValue;r&&(e=r(e,i))}),e}function Sr(t){var e=Fr(t)?t:cr(t);return e.map(function(n){var r=Yg(n),i=r.prefix,o=r.value,a=null,s=i,l="";if(i==="translate"||i==="translateX"||i==="translate3d"){var u=$r(o).map(function(N){return parseFloat(N)}),c=u[0],f=u[1],d=f===void 0?0:f,h=u[2],p=h===void 0?0:h;a=Rl,l=[c,d,p]}else if(i==="translateY"){var d=parseFloat(o);a=Rl,l=[0,d,0]}else if(i==="translateZ"){var p=parseFloat(o);a=Rl,l=[0,0,p]}else if(i==="scale"||i==="scale3d"){var v=$r(o).map(function(N){return parseFloat(N)}),m=v[0],g=v[1],b=g===void 0?m:g,_=v[2],w=_===void 0?1:_;a=ea,l=[m,b,w]}else if(i==="scaleX"){var m=parseFloat(o);a=ea,l=[m,1,1]}else if(i==="scaleY"){var b=parseFloat(o);a=ea,l=[1,b,1]}else if(i==="scaleZ"){var w=parseFloat(o);a=ea,l=[1,1,w]}else if(i==="rotate"||i==="rotateZ"||i==="rotateX"||i==="rotateY"){var D=To(o),$=D.unit,E=D.value,A=$==="rad"?E:E*Math.PI/180;i==="rotate"||i==="rotateZ"?(s="rotateZ",a=VT):i==="rotateX"?a=GT:i==="rotateY"&&(a=LT),l=A}else if(i==="matrix3d")a=vh,l=$r(o).map(function(N){return parseFloat(N)});else if(i==="matrix"){var O=$r(o).map(function(N){return parseFloat(N)});a=vh,l=[O[0],O[1],0,0,O[2],O[3],0,0,0,0,1,0,O[4],O[5],0,1]}else s="";return{name:i,functionName:s,value:o,matrixFunction:a,functionValue:l}})}/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var Ru=function(t,e){return Ru=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)r.hasOwnProperty(i)&&(n[i]=r[i])},Ru(t,e)};function XT(t,e){Ru(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var l0=typeof Map=="function"?void 0:function(){var t=0;return function(e){return e.__DIFF_KEY__||(e.__DIFF_KEY__=++t)}}(),WT=function(t){XT(e,t);function e(n){return n===void 0&&(n=[]),t.call(this,n,l0)||this}return e}(Z$);function UT(t,e){return Ls(t,e,l0)}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function qT(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var r=Array(t),i=0,e=0;e<n;e++)for(var o=arguments[e],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}function Me(t){return $t(t,Jt)}function jT(t,e){return t.every(function(n,r){return Me(n-e[r])===0})}function KT(t,e){return!Me(t[0]-e[0])&&!Me(t[1]-e[1])}function u0(t){return t.length<3?0:Math.abs(cT(t.map(function(e,n){var r=t[n+1]||t[0];return e[0]*r[1]-r[0]*e[1]})))/2}function gh(t,e){var n=e.width,r=e.height,i=e.left,o=e.top,a=Vs(t),s=a.minX,l=a.minY,u=a.maxX,c=a.maxY,f=n/(u-s),d=r/(c-l);return t.map(function(h){return[i+(h[0]-s)*f,o+(h[1]-l)*d]})}function Vs(t){var e=t.map(function(r){return r[0]}),n=t.map(function(r){return r[1]});return{minX:Math.min.apply(Math,e),minY:Math.min.apply(Math,n),maxX:Math.max.apply(Math,e),maxY:Math.max.apply(Math,n)}}function Ou(t,e,n){var r=t[0],i=t[1],o=Vs(e),a=o.minX,s=o.maxX,l=[[a,i],[s,i]],u=es(l[0],l[1]),c=Iu(e),f=[];if(c.forEach(function(p){var v=es(p[0],p[1]),m=p[0];if(jT(u,v))f.push({pos:t,line:p,type:"line"});else{var g=f0(c0(u,v),[l,p]);g.forEach(function(b){p.some(function(_){return KT(_,b)})?f.push({pos:b,line:p,type:"point"}):Me(m[1]-i)!==0&&f.push({pos:b,line:p,type:"intersection"})})}}),go(f,function(p){return p[0]===r}))return!0;var d=0,h={};return f.forEach(function(p){var v=p.pos,m=p.type,g=p.line;if(!(v[0]>r))if(m==="intersection")++d;else{if(m==="line")return;if(m==="point"){var b=go(g,function(D){return D[1]!==i}),_=h[v[0]],w=b[1]>i?1:-1;_?_!==w&&++d:h[v[0]]=w}}}),d%2===1}function es(t,e){var n=t[0],r=t[1],i=e[0],o=e[1],a=i-n,s=o-r;Math.abs(a)<Jt&&(a=0),Math.abs(s)<Jt&&(s=0);var l=0,u=0,c=0;return a?s?(l=-s/a,u=1,c=-l*n-r):(u=1,c=-r):s&&(l=-1,c=n),[l,u,c]}function c0(t,e){var n=t[0],r=t[1],i=t[2],o=e[0],a=e[1],s=e[2],l=n===0&&o===0,u=r===0&&a===0,c=[];if(l&&u)return[];if(l){var f=-i/r,d=-s/a;return f!==d?[]:[[-1/0,f],[1/0,f]]}else if(u){var h=-i/n,p=-s/o;return h!==p?[]:[[h,-1/0],[h,1/0]]}else if(n===0){var v=-i/r,m=-(a*v+s)/o;c=[[m,v]]}else if(o===0){var v=-s/a,m=-(r*v+i)/n;c=[[m,v]]}else if(r===0){var m=-i/n,v=-(o*m+s)/a;c=[[m,v]]}else if(a===0){var m=-s/o,v=-(n*m+i)/r;c=[[m,v]]}else{var m=(r*s-a*i)/(a*n-r*o),v=-(n*m+i)/r;c=[[m,v]]}return c.map(function(g){return[g[0],g[1]]})}function f0(t,e){var n=e.map(function(f){return[0,1].map(function(d){return[Math.min(f[0][d],f[1][d]),Math.max(f[0][d],f[1][d])]})}),r=[];if(t.length===2){var i=t[0],o=i[0],a=i[1];if(Me(o-t[1][0])){if(!Me(a-t[1][1])){var u=Math.max.apply(Math,n.map(function(f){return f[0][0]})),c=Math.min.apply(Math,n.map(function(f){return f[0][1]}));if(Me(u-c)>0)return[];r=[[u,a],[c,a]]}}else{var s=Math.max.apply(Math,n.map(function(f){return f[1][0]})),l=Math.min.apply(Math,n.map(function(f){return f[1][1]}));if(Me(s-l)>0)return[];r=[[o,s],[o,l]]}}return r.length||(r=t.filter(function(f){var d=f[0],h=f[1];return n.every(function(p){return 0<=Me(d-p[0][0])&&0<=Me(p[0][1]-d)&&0<=Me(h-p[1][0])&&0<=Me(p[1][1]-h)})})),r.map(function(f){return[Me(f[0]),Me(f[1])]})}function Iu(t){return qT(t.slice(1),[t[0]]).map(function(e,n){return[t[n],e]})}function ZT(t,e){var n=t.slice(),r=e.slice();Mu(n)===-1&&n.reverse(),Mu(r)===-1&&r.reverse();var i=Iu(n),o=Iu(r),a=i.map(function(c){return es(c[0],c[1])}),s=o.map(function(c){return es(c[0],c[1])}),l=[];a.forEach(function(c,f){var d=i[f],h=[];s.forEach(function(p,v){var m=c0(c,p),g=f0(m,[d,o[v]]);h.push.apply(h,g.map(function(b){return{index1:f,index2:v,pos:b,type:"intersection"}}))}),h.sort(function(p,v){return On(d[0],p.pos)-On(d[0],v.pos)}),l.push.apply(l,h),Ou(d[1],r)&&l.push({index1:f,index2:-1,pos:d[1],type:"inside"})}),o.forEach(function(c,f){if(Ou(c[1],n)){var d=!1,h=yn(l,function(p){var v=p.index2;return v===f?(d=!0,!1):!!d});h===-1&&(d=!1,h=yn(l,function(p){var v=p.index1,m=p.index2;return v===-1&&m+1===f?(d=!0,!1):!!d})),h===-1?l.push({index1:-1,index2:f,pos:c[1],type:"inside"}):l.splice(h,0,{index1:-1,index2:f,pos:c[1],type:"inside"})}});var u={};return l.filter(function(c){var f=c.pos,d=f[0]+"x"+f[1];return u[d]?!1:(u[d]=!0,!0)})}function JT(t,e){var n=ZT(t,e);return n.map(function(r){var i=r.pos;return i})}function QT(t,e){var n=JT(t,e);return u0(n)}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Au=function(){return Au=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},Au.apply(this,arguments)};function tP(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var r=Array(t),i=0,e=0;e<n;e++)for(var o=arguments[e],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}var eP=function(){function t(){this._events={}}var e=t.prototype;return e.on=function(n,r){if(mn(n))for(var i in n)this.on(i,n[i]);else this._addEvent(n,r,{});return this},e.off=function(n,r){if(!n)this._events={};else if(mn(n))for(var i in n)this.off(i);else if(!r)this._events[n]=[];else{var o=this._events[n];if(o){var a=yn(o,function(s){return s.listener===r});a>-1&&o.splice(a,1)}}return this},e.once=function(n,r){var i=this;return r&&this._addEvent(n,r,{once:!0}),new Promise(function(o){i._addEvent(n,o,{once:!0})})},e.emit=function(n,r){var i=this;r===void 0&&(r={});var o=this._events[n];if(!n||!o)return!0;var a=!1;return r.eventType=n,r.stop=function(){a=!0},r.currentTarget=this,tP(o).forEach(function(s){s.listener(r),s.once&&i.off(n,s.listener)}),!a},e.trigger=function(n,r){return r===void 0&&(r={}),this.emit(n,r)},e._addEvent=function(n,r,i){var o=this._events;o[n]=o[n]||[];var a=o[n];a.push(Au({listener:r},i))},t}(),d0=eP,nP="function";function rP(t){return typeof t===nP}function iP(){return Date.now?Date.now():new Date().getTime()}/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var ku=function(t,e){return ku=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)r.hasOwnProperty(i)&&(n[i]=r[i])},ku(t,e)};function oP(t,e){ku(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var jr=function(){return jr=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},jr.apply(this,arguments)};function aP(t){var e=t.container;return e===document.body?[e.scrollLeft||document.documentElement.scrollLeft,e.scrollTop||document.documentElement.scrollTop]:[e.scrollLeft,e.scrollTop]}function Ol(t){if(t){if(rP(t))return t();if(t instanceof Element)return t;if("current"in t)return t.current;if("value"in t)return t.value}else return null}var sP=function(t){oP(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r._startRect=null,r._startPos=[],r._prevTime=0,r._timer=0,r._prevScrollPos=[0,0],r._isWait=!1,r._flag=!1,r}var n=e.prototype;return n.dragStart=function(r,i){var o=Ol(i.container);if(!o){this._flag=!1;return}var a=0,s=0,l=0,u=0;if(o===document.body)l=window.innerWidth,u=window.innerHeight;else{var c=o.getBoundingClientRect();a=c.top,s=c.left,l=c.width,u=c.height}this._flag=!0,this._startPos=[r.clientX,r.clientY],this._startRect={top:a,left:s,width:l,height:u},this._prevScrollPos=this._getScrollPosition([0,0],i)},n.drag=function(r,i){if(this._flag){var o=r.clientX,a=r.clientY,s=i.threshold,l=s===void 0?0:s,u=this,c=u._startRect,f=u._startPos,d=[0,0];return c.top>a-l?(f[1]>c.top||a<f[1])&&(d[1]=-1):c.top+c.height<a+l&&(f[1]<c.top+c.height||a>f[1])&&(d[1]=1),c.left>o-l?(f[0]>c.left||o<f[0])&&(d[0]=-1):c.left+c.width<o+l&&(f[0]<c.left+c.width||o>f[0])&&(d[0]=1),clearTimeout(this._timer),!d[0]&&!d[1]?!1:this._continueDrag(jr(jr({},i),{direction:d,inputEvent:r,isDrag:!0}))}},n.checkScroll=function(r){var i=this;if(this._isWait)return!1;var o=r.prevScrollPos,a=o===void 0?this._prevScrollPos:o,s=r.direction,l=r.throttleTime,u=l===void 0?0:l,c=r.inputEvent,f=r.isDrag,d=this._getScrollPosition(s||[0,0],r),h=d[0]-a[0],p=d[1]-a[1],v=s||[h?Math.abs(h)/h:0,p?Math.abs(p)/p:0];return this._prevScrollPos=d,!h&&!p?!1:(this.trigger("move",{offsetX:v[0]?h:0,offsetY:v[1]?p:0,inputEvent:c}),u&&f&&(this._timer=window.setTimeout(function(){i._continueDrag(r)},u)),!0)},n.dragEnd=function(){clearTimeout(this._timer)},n._getScrollPosition=function(r,i){var o=i.container,a=i.getScrollPosition,s=a===void 0?aP:a;return s({container:Ol(o),direction:r})},n._continueDrag=function(r){var i=this,o=r.container,a=r.direction,s=r.throttleTime,l=r.useScroll,u=r.isDrag,c=r.inputEvent;if(!(u&&this._isWait)){var f=iP(),d=Math.max(s+this._prevTime-f,0);if(d>0)return this._timer=window.setTimeout(function(){i._continueDrag(r)},d),!1;this._prevTime=f;var h=this._getScrollPosition(a,r);return this._prevScrollPos=h,u&&(this._isWait=!0),this.trigger("scroll",{container:Ol(o),direction:a,inputEvent:c}),this._isWait=!1,l||this.checkScroll(jr(jr({},r),{prevScrollPos:h,direction:a,inputEvent:c}))}},e}(d0),lP=sP;/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var Bu=function(t,e){return Bu=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)r.hasOwnProperty(i)&&(n[i]=r[i])},Bu(t,e)};function uP(t,e){Bu(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var Kt=function(){return Kt=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},Kt.apply(this,arguments)};function cP(t,e){var n=e[0]-t[0],r=e[1]-t[1],i=Math.atan2(r,n);return i>=0?i:i+Math.PI*2}function Il(t){return cP([t[0].clientX,t[0].clientY],[t[1].clientX,t[1].clientY])/Math.PI*180}function fP(t){return t.touches&&t.touches.length>=2}function na(t){return t?t.touches?hP(t.touches):[h0(t)]:[]}function dP(t){return t&&(t.type.indexOf("mouse")>-1||"button"in t||"which"in t)}function mh(t,e,n){var r=n.length,i=ji(t,r),o=i.clientX,a=i.clientY,s=i.originalClientX,l=i.originalClientY,u=ji(e,r),c=u.clientX,f=u.clientY,d=ji(n,r),h=d.clientX,p=d.clientY,v=o-c,m=a-f,g=o-h,b=a-p;return{clientX:s,clientY:l,deltaX:v,deltaY:m,distX:g,distY:b}}function Al(t){return Math.sqrt(Math.pow(t[0].clientX-t[1].clientX,2)+Math.pow(t[0].clientY-t[1].clientY,2))}function hP(t){for(var e=Math.min(t.length,2),n=[],r=0;r<e;++r)n.push(h0(t[r]));return n}function h0(t){return{clientX:t.clientX,clientY:t.clientY}}function ji(t,e){e===void 0&&(e=t.length);for(var n={clientX:0,clientY:0,originalClientX:0,originalClientY:0},r=0;r<e;++r){var i=t[r];n.originalClientX+="originalClientX"in i?i.originalClientX:i.clientX,n.originalClientY+="originalClientY"in i?i.originalClientY:i.clientY,n.clientX+=i.clientX,n.clientY+=i.clientY}return e?{clientX:n.clientX/e,clientY:n.clientY/e,originalClientX:n.originalClientX/e,originalClientY:n.originalClientY/e}:n}var kl=function(){function t(n){this.prevClients=[],this.startClients=[],this.movement=0,this.length=0,this.startClients=n,this.prevClients=n,this.length=n.length}var e=t.prototype;return e.getAngle=function(n){return n===void 0&&(n=this.prevClients),Il(n)},e.getRotation=function(n){return n===void 0&&(n=this.prevClients),Il(n)-Il(this.startClients)},e.getPosition=function(n,r){n===void 0&&(n=this.prevClients);var i=mh(n||this.prevClients,this.prevClients,this.startClients),o=i.deltaX,a=i.deltaY;return this.movement+=Math.sqrt(o*o+a*a),this.prevClients=n,i},e.getPositions=function(n){n===void 0&&(n=this.prevClients);var r=this.prevClients;return this.startClients.map(function(i,o){return mh([n[o]],[r[o]],[i])})},e.getMovement=function(n){var r=this.movement;if(!n)return r;var i=ji(n,this.length),o=ji(this.prevClients,this.length),a=i.clientX-o.clientX,s=i.clientY-o.clientY;return Math.sqrt(a*a+s*s)+r},e.getDistance=function(n){return n===void 0&&(n=this.prevClients),Al(n)},e.getScale=function(n){return n===void 0&&(n=this.prevClients),Al(n)/Al(this.startClients)},e.move=function(n,r){this.startClients.forEach(function(i){i.clientX-=n,i.clientY-=r})},t}(),yh=["textarea","input"],pP=function(t){uP(e,t);function e(r,i){i===void 0&&(i={});var o=t.call(this)||this;o.options={},o.flag=!1,o.pinchFlag=!1,o.datas={},o.isDrag=!1,o.isPinch=!1,o.isMouse=!1,o.isTouch=!1,o.clientStores=[],o.targets=[],o.prevTime=0,o.doubleFlag=!1,o._dragFlag=!1,o._isMouseEvent=!1,o.onDragStart=function(d,h){if(h===void 0&&(h=!0),!(!o.flag&&d.cancelable===!1)){var p=o.options,v=p.container,m=p.pinchOutside,g=p.preventWheelClick,b=p.preventRightClick,_=p.preventDefault,w=p.checkInput,D=o.isTouch,$=!o.flag;if(g&&(d.which===2||d.button===1)||b&&(d.which===3||d.button===2))return o.initDrag(),!1;if($){var E=document.activeElement,A=d.target,O=A.tagName.toLowerCase(),N=yh.indexOf(O)>-1,F=A.isContentEditable;if(N||F){if(w||E===A||E&&F&&E.isContentEditable&&E.contains(A))return!1}else if((_||d.type==="touchstart")&&E){var S=E.tagName;(E.isContentEditable||yh.indexOf(S)>-1)&&E.blur()}o.clientStores=[new kl(na(d))],o.flag=!0,o.isDrag=!1,o._dragFlag=!0,o.datas={},o.doubleFlag=ts()-o.prevTime<200,o._isMouseEvent=dP(d);var G=o.emit("dragStart",Kt(Kt({datas:o.datas,inputEvent:d,isMouseEvent:o._isMouseEvent,isTrusted:h,isDouble:o.doubleFlag},o.getCurrentStore().getPosition()),{preventDefault:function(){d.preventDefault()},preventDrag:function(){o._dragFlag=!1}}));G===!1&&o.initDrag(),o.flag&&_&&d.preventDefault()}if(!o.flag)return!1;var y=0;if($&&D&&m&&(y=setTimeout(function(){Ye(v,"touchstart",o.onDragStart,{passive:!1})})),!$&&D&&m&&Ce(v,"touchstart",o.onDragStart),o.flag&&fP(d)){if(clearTimeout(y),$&&d.touches.length!==d.changedTouches.length)return;o.pinchFlag||o.onPinchStart(d)}}},o.onDrag=function(d,h){if(o.flag){var p=na(d),v=o.moveClients(p,d,!1);if(o._dragFlag){if(o.pinchFlag||v.deltaX||v.deltaY){var m=o.emit("drag",Kt(Kt({},v),{isScroll:!!h,inputEvent:d}));if(m===!1){o.stop();return}}o.pinchFlag&&o.onPinch(d,p)}o.getCurrentStore().getPosition(p,!0)}},o.onDragEnd=function(d){if(o.flag){var h=o.options,p=h.pinchOutside,v=h.container;o.isTouch&&p&&Ce(v,"touchstart",o.onDragStart),o.pinchFlag&&o.onPinchEnd(d);var m=d!=null&&d.touches?na(d):[],g=m.length;g===0||!o.options.keepDragging?o.flag=!1:o._addStore(new kl(m));var b=o._getPosition(),_=ts(),w=!o.isDrag&&o.doubleFlag;o.prevTime=o.isDrag||w?0:_,o.flag||(o.emit("dragEnd",Kt({datas:o.datas,isDouble:w,isDrag:o.isDrag,isClick:!o.isDrag,isMouseEvent:o._isMouseEvent,inputEvent:d},b)),o.clientStores=[])}},o.onBlur=function(){o.onDragEnd()};var a=[].concat(r);o.options=Kt({checkInput:!1,container:a.length>1?window:a[0],preventRightClick:!0,preventWheelClick:!0,preventDefault:!0,checkWindowBlur:!1,keepDragging:!1,pinchThreshold:0,events:["touch","mouse"]},i);var s=o.options,l=s.container,u=s.events,c=s.checkWindowBlur;if(o.isTouch=u.indexOf("touch")>-1,o.isMouse=u.indexOf("mouse")>-1,o.targets=a,o.isMouse&&(a.forEach(function(d){Ye(d,"mousedown",o.onDragStart)}),Ye(l,"mousemove",o.onDrag),Ye(l,"mouseup",o.onDragEnd),Ye(l,"contextmenu",o.onDragEnd)),c&&Ye(window,"blur",o.onBlur),o.isTouch){var f={passive:!1};a.forEach(function(d){Ye(d,"touchstart",o.onDragStart,f)}),Ye(l,"touchmove",o.onDrag,f),Ye(l,"touchend",o.onDragEnd,f),Ye(l,"touchcancel",o.onDragEnd,f)}return o}var n=e.prototype;return n.stop=function(){this.isDrag=!1,this.flag=!1,this.clientStores=[],this.datas={}},n.getMovement=function(r){return this.getCurrentStore().getMovement(r)+this.clientStores.slice(1).reduce(function(i,o){return i+o.movement},0)},n.isDragging=function(){return this.isDrag},n.isFlag=function(){return this.flag},n.isPinchFlag=function(){return this.pinchFlag},n.isDoubleFlag=function(){return this.doubleFlag},n.isPinching=function(){return this.isPinch},n.scrollBy=function(r,i,o,a){a===void 0&&(a=!0),this.flag&&(this.clientStores[0].move(r,i),a&&this.onDrag(o,!0))},n.move=function(r,i){var o=r[0],a=r[1],s=this.getCurrentStore(),l=s.prevClients;return this.moveClients(l.map(function(u){var c=u.clientX,f=u.clientY;return{clientX:c+o,clientY:f+a,originalClientX:c,originalClientY:f}}),i,!0)},n.triggerDragStart=function(r){this.onDragStart(r,!1)},n.setEventDatas=function(r){var i=this.datas;for(var o in r)i[o]=r[o];return this},n.getCurrentEvent=function(r){return Kt(Kt({datas:this.datas},this._getPosition()),{movement:this.getMovement(),isDrag:this.isDrag,isPinch:this.isPinch,isScroll:!1,inputEvent:r})},n.getEventDatas=function(){return this.datas},n.unset=function(){var r=this,i=this.targets,o=this.options.container;this.off(),Ce(window,"blur",this.onBlur),this.isMouse&&(i.forEach(function(a){Ce(a,"mousedown",r.onDragStart)}),Ce(o,"mousemove",this.onDrag),Ce(o,"mouseup",this.onDragEnd),Ce(o,"contextmenu",this.onDragEnd)),this.isTouch&&(i.forEach(function(a){Ce(a,"touchstart",r.onDragStart)}),Ce(o,"touchstart",this.onDragStart),Ce(o,"touchmove",this.onDrag),Ce(o,"touchend",this.onDragEnd),Ce(o,"touchcancel",this.onDragEnd))},n.onPinchStart=function(r){var i=this.options.pinchThreshold;if(!(this.isDrag&&this.getMovement()>i)){var o=new kl(na(r));this.pinchFlag=!0,this._addStore(o);var a=this.emit("pinchStart",Kt(Kt({datas:this.datas,angle:o.getAngle(),touches:this.getCurrentStore().getPositions()},o.getPosition()),{inputEvent:r}));a===!1&&(this.pinchFlag=!1)}},n.onPinch=function(r,i){if(!(!this.flag||!this.pinchFlag||i.length<2)){var o=this.getCurrentStore();this.isPinch=!0,this.emit("pinch",Kt(Kt({datas:this.datas,movement:this.getMovement(i),angle:o.getAngle(i),rotation:o.getRotation(i),touches:o.getPositions(i),scale:o.getScale(i),distance:o.getDistance(i)},o.getPosition(i)),{inputEvent:r}))}},n.onPinchEnd=function(r){if(this.pinchFlag){var i=this.isPinch;this.isPinch=!1,this.pinchFlag=!1;var o=this.getCurrentStore();this.emit("pinchEnd",Kt(Kt({datas:this.datas,isPinch:i,touches:o.getPositions()},o.getPosition()),{inputEvent:r}))}},n.initDrag=function(){this.clientStores=[],this.pinchFlag=!1,this.doubleFlag=!1,this.prevTime=0,this.flag=!1},n.getCurrentStore=function(){return this.clientStores[0]},n.moveClients=function(r,i,o){var a=this._getPosition(r,o);return(a.deltaX||a.deltaY)&&(this.isDrag=!0),Kt(Kt({datas:this.datas},a),{movement:this.getMovement(r),isDrag:this.isDrag,isPinch:this.isPinch,isScroll:!1,isMouseEvent:this._isMouseEvent,inputEvent:i})},n._addStore=function(r){this.clientStores.splice(0,0,r)},n._getPosition=function(r,i){var o=this.getCurrentStore(),a=o.getPosition(r,i),s=this.clientStores.slice(1).reduce(function(c,f){var d=f.getPosition();return c.distX+=d.distX,c.distY+=d.distY,c},a),l=s.distX,u=s.distY;return Kt(Kt({},a),{distX:l,distY:u})},e}(d0),vP=pP;function gP(t){for(var e=5381,n=t.length;n;)e=e*33^t.charCodeAt(--n);return e>>>0}var mP=gP;function yP(t){return mP(t).toString(36)}function _P(t){if(t&&t.getRootNode){var e=t.getRootNode();if(e.nodeType===11)return e}}function bP(t,e,n){return n.original?e:e.replace(/([^};{\s}][^};{]*|^\s*){/mg,function(r,i){var o=i.trim();return(o?$r(o):[""]).map(function(a){var s=a.trim();return s.indexOf("@")===0?s:s.indexOf(":global")>-1?s.replace(/\:global/g,""):s.indexOf(":host")>-1?""+s.replace(/\:host/g,"."+t):s?"."+t+" "+s:"."+t}).join(", ")+" {"})}function wP(t,e,n,r){var i=document.createElement("style");return i.setAttribute("type","text/css"),i.setAttribute("data-styled-id",t),n.nonce&&i.setAttribute("nonce",n.nonce),i.innerHTML=bP(t,e,n),(r||document.head||document.body).appendChild(i),i}function xP(t){var e="rCS"+yP(t),n=0,r;return{className:e,inject:function(i,o){o===void 0&&(o={});var a=_P(i),s=n===0,l;return(a||s)&&(l=wP(e,t,o,a)),s&&(r=l),a||++n,{destroy:function(){a?(i.removeChild(l),l=null):(n>0&&--n,n===0&&r&&(r.parentNode.removeChild(r),r=null))}}}}}/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var zu=function(t,e){return zu=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)r.hasOwnProperty(i)&&(n[i]=r[i])},zu(t,e)};function p0(t,e){zu(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var Fu=function(){return Fu=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},Fu.apply(this,arguments)};function SP(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}var EP=function(t){p0(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.injectResult=null,r.tag="div",r}var n=e.prototype;return n.render=function(){var r=this.props,i=r.className,o=i===void 0?"":i;r.cspNonce;var a=r.portalContainer,s=SP(r,["className","cspNonce","portalContainer"]),l=this.injector.className,u=this.tag,c={};return DT.indexOf("simple")>-1&&a&&(c={portalContainer:a}),Ge(u,Fu({ref:vn(this,"element"),"data-styled-id":l,className:o+" "+l},c,s))},n.componentDidMount=function(){this.injectResult=this.injector.inject(this.element,{nonce:this.props.cspNonce})},n.componentWillUnmount=function(){this.injectResult.destroy(),this.injectResult=null},n.getElement=function(){return this.element},e}(Yc);function v0(t,e){var n=xP(e);return function(r){p0(i,r);function i(){var o=r!==null&&r.apply(this,arguments)||this;return o.injector=n,o.tag=t,o}return i}(EP)}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Gu=function(){return Gu=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},Gu.apply(this,arguments)};function CP(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var r=Array(t),i=0,e=0;e<n;e++)for(var o=arguments[e],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}var MP=function(){function t(){this._events={}}var e=t.prototype;return e.on=function(n,r){if(mn(n))for(var i in n)this.on(i,n[i]);else this._addEvent(n,r,{});return this},e.off=function(n,r){if(!n)this._events={};else if(mn(n))for(var i in n)this.off(i);else if(!r)this._events[n]=[];else{var o=this._events[n];if(o){var a=yn(o,function(s){return s.listener===r});a>-1&&o.splice(a,1)}}return this},e.once=function(n,r){var i=this;return r&&this._addEvent(n,r,{once:!0}),new Promise(function(o){i._addEvent(n,o,{once:!0})})},e.emit=function(n,r){var i=this;r===void 0&&(r={});var o=this._events[n];if(!n||!o)return!0;var a=!1;return r.eventType=n,r.stop=function(){a=!0},r.currentTarget=this,CP(o).forEach(function(s){s.listener(r),s.once&&i.off(n,s.listener)}),!a},e.trigger=function(n,r){return r===void 0&&(r={}),this.emit(n,r)},e._addEvent=function(n,r,i){var o=this._events;o[n]=o[n]||[];var a=o[n];a.push(Gu({listener:r},i))},t}(),DP=MP,Lu=function(t,e){return Lu=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},Lu(t,e)};function Oo(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");Lu(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var q=function(){return q=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},q.apply(this,arguments)};function $P(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function TP(t,e,n,r){var i=arguments.length,o=i<3?e:r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(a=t[s])&&(o=(i<3?a(o):i>3?a(e,n,o):a(e,n))||o);return i>3&&o&&Object.defineProperty(e,n,o),o}function wt(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,o;r<i;r++)(o||!(r in e))&&(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return t.concat(o||Array.prototype.slice.call(e))}function Io(t,e){var n;return q({events:{},props:(n={},n[t]=Boolean,n),name:t},e)}function PP(t,e){return'data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="'.concat(32*t,'px" height="').concat(32*t,'px" viewBox="0 0 32 32" ><path d="M 16,5 L 12,10 L 14.5,10 L 14.5,22 L 12,22 L 16,27 L 20,22 L 17.5,22 L 17.5,10 L 20, 10 L 16,5 Z" stroke-linejoin="round" stroke-width="1.2" fill="black" stroke="white" style="transform:rotate(').concat(e,'deg);transform-origin: 16px 16px"></path></svg>')}function NP(t){var e=PP(1,t),n=Math.round(t/45)*45%180,r="ns-resize";return n===135?r="nwse-resize":n===45?r="nesw-resize":n===90&&(r="ew-resize"),"cursor:".concat(r,";cursor: url('").concat(e,"') 16 16, ").concat(r,";")}var RP=RT(),g0=RP.browser.webkit,m0=g0&&function(){var t=typeof window>"u"?{userAgent:""}:window.navigator,e=/applewebkit\/([^\s]+)/g.exec(t.userAgent.toLowerCase());return e?parseFloat(e[1])<605:!1}(),jc="moveable-",OP=`
{
	position: absolute;
	width: 1px;
	height: 1px;
	left: 0;
	top: 0;
    z-index: 3000;
    --moveable-color: #4af;
    --zoom: 1;
    --zoompx: 1px;
    will-change: transform;
}
.control-box {
    z-index: 0;
}
.line, .control {
    position: absolute;
	left: 0;
    top: 0;
    will-change: transform;
}
.control {
	width: 14px;
	height: 14px;
	border-radius: 50%;
	border: 2px solid #fff;
	box-sizing: border-box;
    background: #4af;
    background: var(--moveable-color);
	margin-top: -7px;
    margin-left: -7px;
    border: 2px solid #fff;
    z-index: 10;
}
.padding {
    position: absolute;
    top: 0px;
    left: 0px;
    width: 100px;
    height: 100px;
    transform-origin: 0 0;
}
.line {
	width: 1px;
    height: 1px;
    background: #4af;
    background: var(--moveable-color);
	transform-origin: 0px 50%;
}
.line.dashed {
    box-sizing: border-box;
    background: transparent;
}
.line.dashed.horizontal {
    border-top: 1px dashed #4af;
    border-top-color: #4af;
    border-top-color: var(--moveable-color);
}
.line.dashed.vertical {
    border-left: 1px dashed #4af;
    border-left-color: #4af;
    border-left-color: var(--moveable-color);
}
.line.vertical {
    transform: translateX(-50%);
}
.line.horizontal {
    transform: translateY(-50%);
}
.line.vertical.bold {
    width: 2px;
}
.line.horizontal.bold {
    height: 2px;
}

.control.origin {
	border-color: #f55;
	background: #fff;
	width: 12px;
	height: 12px;
	margin-top: -6px;
    margin-left: -6px;
	pointer-events: none;
}
`.concat([0,15,30,45,60,75,90,105,120,135,150,165].map(function(t){return`
.direction[data-rotation="`.concat(t,`"] {
	`).concat(NP(t),`
}
`)}).join(`
`),`
.group {
    z-index: -1;
}
.area {
    position: absolute;
}
.area-pieces {
    position: absolute;
    top: 0;
    left: 0;
    display: none;
}
.area.avoid, .area.pass {
    pointer-events: none;
}
.area.avoid+.area-pieces {
    display: block;
}
.area-piece {
    position: absolute;
}

`).concat(m0?`:global svg *:before {
	content:"";
	transform-origin: inherit;
}`:"",`
`),IP=[[0,1,2],[1,0,3],[2,0,3],[3,1,2]],AP=1e-4,Ie=1e-7,ra=1e-9,zi=Math.pow(10,10),_h=-zi,y0=["n","w","s","e","nw","ne","sw","se"],kP={n:[0,1],s:[2,3],w:[2,0],e:[1,3],nw:[0],ne:[1],sw:[2],se:[3]},BP={n:0,s:180,w:270,e:90,nw:315,ne:45,sw:225,se:135},_0=["isMoveableElement","updateRect","updateTarget","destroy","dragStart","isInside","hitTest","setState","getRect","request","isDragging","getManager","forceUpdate"];function Hs(t,e,n,r,i){var o=e.gesto.move(n,t.inputEvent),a=o.originalDatas||o.datas,s=a.draggable||(a.draggable={});return q(q({},o),{isPinch:!!r,parentEvent:!0,datas:s,originalDatas:t.originalDatas})}var Ao=function(){function t(){this.prevX=0,this.prevY=0,this.startX=0,this.startY=0,this.isDrag=!1,this.isFlag=!1,this.datas={draggable:{}}}var e=t.prototype;return e.dragStart=function(n,r){this.isDrag=!1,this.isFlag=!1;var i=r.originalDatas;return this.datas=i,i.draggable||(i.draggable={}),q(q({},this.move(n,r.inputEvent)),{type:"dragstart"})},e.drag=function(n,r){return this.move([n[0]-this.prevX,n[1]-this.prevY],r)},e.move=function(n,r){var i,o;return this.isFlag?(i=this.prevX+n[0],o=this.prevY+n[1],(n[0]||n[1])&&(this.isDrag=!0)):(this.prevX=n[0],this.prevY=n[1],this.startX=n[0],this.startY=n[1],i=n[0],o=n[1],this.isFlag=!0),this.prevX=i,this.prevY=o,{type:"drag",clientX:i,clientY:o,inputEvent:r,isDrag:this.isDrag,distX:i-this.startX,distY:o-this.startY,deltaX:n[0],deltaY:n[1],datas:this.datas.draggable,originalDatas:this.datas,parentEvent:!0,parentGesto:this}},t}();function fr(t,e,n){var r=n.originalDatas;r.groupable=r.groupable||{};var i=r.groupable;i.childDatas=i.childDatas||[];var o=i.childDatas;return t.moveables.map(function(a,s){return o[s]=o[s]||{},o[s][e]=o[s][e]||{},q(q({},n),{datas:o[s][e],originalDatas:o[s]})})}function Bl(t,e,n,r,i,o){var a=!!n.match(/Start$/g),s=!!n.match(/End$/g),l=i.isPinch,u=i.datas,c=fr(t,e.name,i),f=t.moveables,d=c.map(function(h,p){var v=f[p],m=v.state,g=h;if(a)g=new Ao().dragStart(r,h);else{if(m.gesto||(m.gesto=u.childGestos[p]),!m.gesto)return;g=Hs(h,m,r,l)}var b=e[n](v,q(q({},g),{parentFlag:!0}));return s&&(m.gesto=null),b});return a&&(u.childGestos=f.map(function(h){return h.state.gesto})),d}function An(t,e,n,r,i,o){i===void 0&&(i=function(c,f){return f});var a=!!n.match(/End$/g),s=fr(t,e.name,r),l=t.moveables,u=s.map(function(c,f){var d=l[f],h=c;h=i(d,c);var p=e[n](d,q(q({},h),{parentFlag:!0}));return a&&(d.state.gesto=null),p});return u}function Kc(t,e,n,r){r===void 0&&(r="");var i=t.state,o=i.renderPoses,a=i.rotation,s=i.direction,l=t.props,u=l.renderDirections,c=u===void 0?e:u,f=l.zoom,d={};if(!c)return[];var h=s>0?1:-1,p=c===!0?y0:c,v=a/Math.PI*180;return p.forEach(function(m){d[m]=!0}),p.map(function(m){var g=kP[m];if(!g||!d[m])return null;var b=($t(v,15)+h*BP[m]+720)%180;return n.createElement("div",{className:Et("control","direction",m,r),"data-rotation":b,"data-direction":m,key:"direction-".concat(m),style:V0.apply(void 0,wt([a,f],g.map(function(_){return o[_]}),!1))})})}function Kr(t,e,n,r,i,o){for(var a=[],s=6;s<arguments.length;s++)a[s-6]=arguments[s];var l=Wt(n,r),u=e?$t(l/Math.PI*180,15)%180:-1;return t.createElement("div",{key:"line".concat(o),className:Et.apply(void 0,wt(["line","direction",e],a,!1)),"data-rotation":u,"data-line-index":o,"data-direction":e,style:Gi(n,r,i,l)})}function Zc(t,e){return Kc(t,y0,e)}function b0(t,e){return Kc(t,["nw","ne","sw","se"],e)}function zl(t,e,n,r,i,o){var a=t.state.is3d?4:3,s=oe(t.state.rootMatrix,i,a),l=Dt([o.left,o.top],s);e.startAbsoluteOrigin=l,e.prevDeg=Wt(l,[n,r])/Math.PI*180,e.defaultDeg=e.prevDeg,e.prevSnapDeg=0,e.loop=0}function Ea(t,e,n){var r=n.defaultDeg,i=n.prevDeg,o=i%360,a=Math.floor(i/360);o<0&&(o+=360),o>t&&o>270&&t<90?++a:o<t&&o<90&&t>270&&--a;var s=e*(a*360+t-r);return n.prevDeg=r+s,s}function Fl(t,e,n,r){return Ea(Wt(r.startAbsoluteOrigin,[t,e])/Math.PI*180,n,r)}function Gl(t,e,n,r,i,o){var a=t.props.throttleRotate,s=a===void 0?0:a,l=r,u=n.prevSnapDeg;o&&(l=wN(t,e,n.origin,l));var c=$t(i+l,s),f=c-i;return n.prevSnapDeg=f,[f-u,l,c]}function zP(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3];if(t!=="none"){var s=(t||"top").split("-"),l=s[0],u=s[1],c=[r,i];l==="left"?c=[o,r]:l==="right"?c=[i,a]:l==="bottom"&&(c=[a,o]);var f=[(c[0][0]+c[1][0])/2,(c[0][1]+c[1][1])/2],d=Y0(c,n);if(u){var h=u==="top"||u==="left",p=l==="bottom"||l==="left";f=c[h&&!p||!h&&p?0:1]}return[f,d]}}function Vu(t,e){if(e.isRequest)return e.requestAble==="rotatable";var n=e.inputEvent.target;if(je(n,Et("rotation-control")))return!0;var r=t.props.rotationTarget;return r?X0(r,!0).some(function(i){return i?n===i||n.contains(i):!1}):!1}var FP={name:"rotatable",canPinch:!0,props:{rotatable:Boolean,rotationPosition:String,throttleRotate:Number,renderDirections:Object,rotationTarget:Object},events:{onRotateStart:"rotateStart",onBeforeRotate:"beforeRotate",onRotate:"rotate",onRotateEnd:"rotateEnd",onRotateGroupStart:"rotateGroupStart",onBeforeRotateGroup:"beforeRotateGroup",onRotateGroup:"rotateGroup",onRotateGroupEnd:"rotateGroupEnd"},css:[`.rotation {
            position: absolute;
            height: 40px;
            width: 1px;
            transform-origin: 50% 100%;
            height: calc(40px * var(--zoom));
            top: auto;
            left: 0;
            bottom: 100%;
            will-change: transform;
        }
        .rotation .rotation-line {
            display: block;
            width: 100%;
            height: 100%;
            transform-origin: 50% 50%;
        }
        .rotation .rotation-control {
            border-color: #4af;
            border-color: var(--moveable-color);
            background:#fff;
            cursor: alias;
        }`],render:function(t,e){var n=t.props,r=n.rotatable,i=n.rotationPosition,o=n.zoom,a=n.renderDirections,s=t.state,l=s.renderPoses,u=s.direction;if(!r)return null;var c=zP(i,l,u),f=[];if(c){var d=c[0],h=c[1];f.push(e.createElement("div",{key:"rotation",className:Et("rotation"),style:{transform:"translate(-50%) translate(".concat(d[0],"px, ").concat(d[1],"px) rotate(").concat(h,"rad)")}},e.createElement("div",{className:Et("line rotation-line"),style:{transform:"scaleX(".concat(o,")")}}),e.createElement("div",{className:Et("control rotation-control"),style:{transform:"translate(0.5px) scale(".concat(o,")")}})))}return a&&f.push.apply(f,Kc(t,[],e)),f},dragControlCondition:Vu,dragControlStart:function(t,e){var n=e.datas,r=e.clientX,i=e.clientY,o=e.parentRotate,a=e.parentFlag,s=e.isPinch,l=e.isRequest,u=t.state,c=u.target,f=u.left,d=u.top,h=u.origin,p=u.beforeOrigin,v=u.direction,m=u.beforeDirection,g=u.targetTransform,b=u.moveableClientRect;if(!l&&!c)return!1;var _=t.getRect();if(n.rect=_,n.transform=g,n.left=f,n.top=d,n.fixedPosition=B0(t,k0(t)),l||s||a){var w=o||0;n.beforeInfo={origin:_.beforeOrigin,prevDeg:w,defaultDeg:w,prevSnapDeg:0},n.afterInfo=q(q({},n.beforeInfo),{origin:_.origin}),n.absoluteInfo=q(q({},n.beforeInfo),{origin:_.origin,startValue:w})}else n.beforeInfo={origin:_.beforeOrigin},n.afterInfo={origin:_.origin},n.absoluteInfo={origin:_.origin,startValue:_.rotation},zl(t,n.beforeInfo,r,i,p,b),zl(t,n.afterInfo,r,i,h,b),zl(t,n.absoluteInfo,r,i,h,b);n.direction=v,n.beforeDirection=m,n.startValue=0,n.datas={},Zs(e,"rotate");var D=xt(t,e,q(q({set:function(E){n.startValue=E*Math.PI/180}},Ks(e)),{dragStart:_e.dragStart(t,new Ao().dragStart([0,0],e))})),$=ct(t,"onRotateStart",D);return n.isRotate=$!==!1,t.state.snapRenderInfo={request:e.isRequest},n.isRotate?D:!1},dragControl:function(t,e){var n,r,i,o=e.datas,a=e.clientX,s=e.clientY,l=e.parentRotate,u=e.parentFlag,c=e.isPinch,f=e.groupDelta,d=o.beforeDirection,h=o.beforeInfo,p=o.afterInfo,v=o.absoluteInfo,m=o.isRotate,g=o.startValue,b=o.rect;if(m){Us(e,"rotate");var _=MN(e),w=d*_,D=t.props.parentMoveable,$=0,E,A,O=0,N,F,S=0,G,y,R=180/Math.PI*g,M=v.startValue,L=!1;if(!u&&"parentDist"in e){var k=e.parentDist;E=k,N=k,G=k}else c||u?(E=Ea(l,d,h),N=Ea(l,w,p),G=Ea(l,w,v)):(E=Fl(a,s,d,h),N=Fl(a,s,w,p),G=Fl(a,s,w,v),L=!0);if(A=R+E,F=R+N,y=M+G,ct(t,"onBeforeRotate",xt(t,e,{beforeRotation:A,rotation:F,absoluteRotation:y,setRotation:function(rt){N=rt-R,E=N,G=N}},!0)),n=Gl(t,b,h,E,R,L),$=n[0],E=n[1],A=n[2],r=Gl(t,b,p,N,R,L),O=r[0],N=r[1],F=r[2],i=Gl(t,b,v,G,M,L),S=i[0],G=i[1],y=i[2],!(!S&&!O&&!$&&!D)){var z=qs(o,"rotate(".concat(F,"deg)"),"rotate(".concat(N,"deg)")),V=IN(t,N,o.fixedPosition,o),Y=St(Dt(f||[0,0],V),o.prevInverseDist||[0,0]);o.prevInverseDist=V,o.requestValue=null;var j=xt(t,e,q({delta:O,dist:N,rotate:F,rotation:F,beforeDist:E,beforeDelta:$,beforeRotate:A,beforeRotation:A,absoluteDist:G,absoluteDelta:S,absoluteRotate:y,absoluteRotation:y,isPinch:!!c},I0(t,z,Y,c,e)));return ct(t,"onRotate",j),j}}},dragControlAfter:function(t,e){e.datas.requestValue},dragControlEnd:function(t,e){var n=e.datas;if(n.isRotate){n.isRotate=!1;var r=Ae(t,e,{});return ct(t,"onRotateEnd",r),r}},dragGroupControlCondition:Vu,dragGroupControlStart:function(t,e){var n=e.datas,r=t.state,i=r.left,o=r.top,a=r.beforeOrigin,s=this.dragControlStart(t,e);if(!s)return!1;s.set(n.beforeDirection*t.rotation);var l=An(t,this,"dragControlStart",e,function(f,d){var h=f.state,p=h.left,v=h.top,m=h.beforeOrigin,g=Dt(St([p,v],[i,o]),St(m,a));return d.datas.groupClient=g,q(q({},d),{parentRotate:0})}),u=q(q({},s),{targets:t.props.targets,events:l}),c=ct(t,"onRotateGroupStart",u);return n.isRotate=c!==!1,n.isRotate?s:!1},dragGroupControl:function(t,e){var n=e.datas;if(n.isRotate){cf(t,"onBeforeRotate",function(c){ct(t,"onBeforeRotateGroup",xt(t,e,q(q({},c),{targets:t.props.targets}),!0))});var r=this.dragControl(t,e);if(r){var i=n.beforeDirection,o=r.beforeDist,a=r.beforeDelta,s=a/180*Math.PI,l=An(t,this,"dragControl",e,function(c,f){var d=f.datas.groupClient,h=d[0],p=d[1],v=rr([h,p],s*i),m=v[0],g=v[1],b=[m-h,g-p];return f.datas.groupClient=[m,g],q(q({},f),{parentRotate:o,groupDelta:b})});t.rotation=i*r.beforeRotation;var u=q({targets:t.props.targets,events:l,set:function(c){t.rotation=c},setGroupRotation:function(c){t.rotation=c}},r);return ct(t,"onRotateGroup",u),u}}},dragGroupControlEnd:function(t,e){var n=e.isDrag,r=e.datas;if(r.isRotate){this.dragControlEnd(t,e);var i=An(t,this,"dragControlEnd",e),o=Ae(t,e,{targets:t.props.targets,events:i});return ct(t,"onRotateGroupEnd",o),n}},request:function(t){var e={},n=0,r=t.getRotation();return{isControl:!0,requestStart:function(){return{datas:e}},request:function(i){return"deltaRotate"in i?n+=i.deltaRotate:"rotate"in i&&(n=i.rotate-r),{datas:e,parentDist:n}},requestEnd:function(){return{datas:e,isDrag:!0}}}}},GP=["left","right","center"],LP=["top","bottom","middle"],dr={start:"left",end:"right",center:"center"},hr={start:"top",end:"bottom",center:"middle"};function wi(t,e){var n=t.props,r=n.snappable,i=n.bounds,o=n.innerBounds,a=n.verticalGuidelines,s=n.horizontalGuidelines,l=n.snapGridWidth,u=n.snapGridHeight,c=t.state,f=c.guidelines,d=c.enableSnap;return!r||!d||e&&r!==!0&&r.indexOf(e)<0?!1:!!(l||u||i||o||f&&f.length||a&&a.length||s&&s.length)}function Jc(t){return t===!1?{}:t===!0||!t?{left:!0,right:!0,top:!0,bottom:!0}:t}function VP(t,e){var n=Jc(t),r={};for(var i in n)i in e&&n[i]&&(r[i]=e[i]);return r}function Qc(t,e){var n=VP(t,e),r=LP.filter(function(o){return o in n}),i=GP.filter(function(o){return o in n});return{horizontal:r.map(function(o){return n[o]}),vertical:i.map(function(o){return n[o]})}}function HP(t,e,n){var r=t.state.elementRects,i=[];return[["vertical",dr,hr],["horizontal",hr,dr]].forEach(function(o){var a=o[0],s=o[1],l=o[2],u=e[s.start],c=e[s.end],f=e[s.center],d=e[l.start],h=e[l.end];function p(g){var b=g.rect;return b[s.end]<u+n?u-b[s.end]:c-n<b[s.start]?b[s.start]-c:-1}var v=r.filter(function(g){var b=g.rect;return b[l.start]>h||b[l.end]<d?!1:p(g)>0}).sort(function(g,b){return p(g)-p(b)}),m=[];v.forEach(function(g){v.forEach(function(b){if(g!==b){var _=g.rect,w=b.rect,D=_[l.start],$=_[l.end],E=w[l.start],A=w[l.end];D>A||E>$||m.push([g,b])}})}),m.forEach(function(g){var b=g[0],_=g[1],w=b.rect,D=_.rect,$=w[s.start],E=w[s.end],A=D[s.start],O=D[s.end],N=0,F=0,S=!1,G=!1,y=!1;if(E<=u&&c<=A){if(G=!0,N=(A-E-(c-u))/2,F=E+N+(c-u)/2,Math.abs(F-f)>n)return}else if(E<A&&O<u+n){if(S=!0,N=A-E,F=O+N,Math.abs(F-u)>n)return}else if(E<A&&c-n<$){if(y=!0,N=A-E,F=$-N,Math.abs(F-c)>n)return}else return;N&&i.push({type:a,pos:a==="vertical"?[F,0]:[0,F],element:_.element,size:0,className:_.className,isStart:S,isCenter:G,isEnd:y,gap:N,hide:!0,gapRects:[b,_]})})}),i}function w0(t,e,n,r,i,o,a){i===void 0&&(i=0),o===void 0&&(o=0),a===void 0&&(a={left:0,top:0,right:0,bottom:0});var s=[],l=a.left,u=a.top,c=a.bottom,f=a.right,d=n+f-l,h=r+c-u;return t&&t.forEach(function(p){s.push({type:"horizontal",pos:[l,$t(p-o+u,.1)],size:d})}),e&&e.forEach(function(p){s.push({type:"vertical",pos:[$t(p-i+l,.1),u],size:h})}),s}function YP(t,e,n){var r=oe(t,[e.clientLeft,e.clientTop],n);return[e.left+r[0],e.top+r[1]]}function XP(t,e){if(!e.length)return[];var n=t.state,r=n.containerClientRect,i=n.targetClientRect,o=i.top,a=i.left,s=n.rootMatrix,l=n.is3d,u=l?4:3,c=YP(s,r,u),f=c[0],d=c[1],h=Te(n),p=Vs(h),v=p.minX,m=p.minY,g=St([v,m],li(s,[a-f,o-d],u)).map(function(w){return jN(w)}),b=g[0],_=g[1];return e.map(function(w){var D=w.element.getBoundingClientRect(),$=D.left-f,E=D.top-d,A=E+D.height,O=$+D.width,N=li(s,[$,E],u),F=N[0],S=N[1],G=li(s,[O,A],u),y=G[0],R=G[1];return q(q({},w),{rect:{left:F+b,right:y+b,top:S+_,bottom:R+_,center:(F+y)/2+b,middle:(S+R)/2+_}})})}function WP(t){var e=t.state,n=t.props.elementGuidelines,r=n===void 0?[]:n;if(!r.length)return e.elementRects=[],[];var i=(e.elementRects||[]).filter(function(d){return!d.refresh}),o=r.map(function(d){return mn(d)&&"element"in d?d:{element:Qs(d,!0)}}).filter(function(d){return d.element}),a=UT(i.map(function(d){return d.element}),o.map(function(d){return d.element})),s=a.maintained,l=a.added,u=[];s.forEach(function(d){var h=d[0],p=d[1];u[p]=i[h]}),XP(t,l.map(function(d){return o[d]})).map(function(d,h){u[l[h]]=d}),e.elementRects=u;var c=Jc(t.props.elementSnapDirections),f=[];return u.forEach(function(d){var h=d.element,p=d.top,v=p===void 0?c.top:p,m=d.left,g=m===void 0?c.left:m,b=d.right,_=b===void 0?c.right:b,w=d.bottom,D=w===void 0?c.bottom:w,$=d.center,E=$===void 0?c.center:$,A=d.middle,O=A===void 0?c.middle:A,N=d.className,F=d.rect,S=Qc({top:v,right:_,left:g,bottom:D,center:E,middle:O},F),G=S.horizontal,y=S.vertical,R=F.top,M=F.left,L=F.right-M,k=F.bottom-R,z=[L,k];y.forEach(function(V){f.push({type:"vertical",element:h,pos:[$t(V,.1),R],size:k,sizes:z,className:N,elementRect:d})}),G.forEach(function(V){f.push({type:"horizontal",element:h,pos:[M,$t(V,.1)],size:L,sizes:z,className:N,elementRect:d})})}),f}function Hu(t){var e=t.state,n=e.snapOffset,r=e.containerClientRect,i=r.overflow,o=r.scrollHeight,a=r.scrollWidth,s=r.clientHeight,l=r.clientWidth,u=r.clientLeft,c=r.clientTop,f=t.props,d=f.snapGap,h=d===void 0?!0:d,p=f.verticalGuidelines,v=f.horizontalGuidelines,m=f.snapThreshold,g=m===void 0?5:m,b=f.snapGridWidth,_=b===void 0?0:b,w=f.snapGridHeight,D=w===void 0?0:w,$=WP(t),E=wt([],$,!0);if(h){var A=Le(Te(t.state)),O=A.top,N=A.left,F=A.bottom,S=A.right;E.push.apply(E,HP(t,{top:O,left:N,bottom:F,right:S,center:(N+S)/2,middle:(O+F)/2},g))}return E.push.apply(E,UP(_,D,i?a:l,i?o:s,u,c)),E.push.apply(E,w0(v||!1,p||!1,i?a:l,i?o:s,u,c,n)),E}function UP(t,e,n,r,i,o){i===void 0&&(i=0),o===void 0&&(o=0);var a=[];if(e)for(var s=0;s<=r;s+=e)a.push({type:"horizontal",pos:[0,$t(s-o,.1)],size:n,hide:!0});if(t)for(var s=0;s<=n;s+=t)a.push({type:"vertical",pos:[$t(s-i,.1),0],size:r,hide:!0});return a}function qP(t){var e=t[0],n=t[1],r=n[0]-e[0],i=n[1]-e[1];Math.abs(r)<Jt&&(r=0),Math.abs(i)<Jt&&(i=0);var o=0,a=0,s=0;return r?i?(o=-i/r,a=1,s=o*e[0]-e[1]):(a=1,s=-e[1]):(o=-1,s=e[0]),[o,a,s].map(function(l){return $t(l,Jt)})}function Ys(t,e,n,r){var i=t.props,o=KN(r,i.snapThreshold,5);return x0(t.state.guidelines,e,n,o)}function x0(t,e,n,r){return{vertical:wh(t,"vertical",e,r),horizontal:wh(t,"horizontal",n,r)}}function jP(t,e,n){var r=n[0],i=n[1],o=e[0],a=e[1],s=St(n,e),l=s[0],u=s[1],c=u>0,f=l>0;l=as(l),u=as(u);var d={isSnap:!1,offset:0,pos:0},h={isSnap:!1,offset:0,pos:0};if(l===0&&u===0)return{vertical:d,horizontal:h};var p=Ys(t,l?[r]:[],u?[i]:[]),v=p.vertical,m=p.horizontal;v.posInfos.filter(function(y){var R=y.pos;return f?R>=o:R<=o}),m.posInfos.filter(function(y){var R=y.pos;return c?R>=a:R<=a}),v.isSnap=v.posInfos.length>0,m.isSnap=m.posInfos.length>0;var g=Yu(v),b=g.isSnap,_=g.guideline,w=Yu(m),D=w.isSnap,$=w.guideline,E=D?$.pos[1]:0,A=b?_.pos[0]:0;if(l===0)D&&(h.isSnap=!0,h.pos=$.pos[1],h.offset=i-h.pos);else if(u===0)b&&(d.isSnap=!0,d.pos=A,d.offset=r-A);else{var O=u/l,N=n[1]-O*r,F=0,S=0,G=!1;b?(S=A,F=O*S+N,G=!0):D&&(F=E,S=(F-N)/O,G=!0),G&&(d.isSnap=!0,d.pos=S,d.offset=r-S,h.isSnap=!0,h.pos=F,h.offset=i-F)}return{vertical:d,horizontal:h}}function bh(t,e,n){var r=Qc(t.props.snapDirections,e);return Ys(t,r.vertical,r.horizontal,n)}function Yu(t){var e=t.isSnap;if(!e)return{isSnap:!1,offset:0,dist:-1,pos:0,guideline:null};var n=t.posInfos[0],r=n.guidelineInfos[0],i=r.offset,o=r.dist,a=r.guideline;return{isSnap:e,offset:i,dist:o,pos:n.pos,guideline:a}}function wh(t,e,n,r){if(!t||!t.length)return{isSnap:!1,index:-1,posInfos:[]};var i=e==="vertical",o=i?0:1,a=n.map(function(l,u){var c=t.map(function(f){var d=f.pos,h=l-d[o];return{offset:h,dist:Math.abs(h),guideline:f}}).filter(function(f){var d=f.guideline,h=f.dist,p=d.type;return!(p!==e||h>r)}).sort(function(f,d){return f.dist-d.dist});return{pos:l,index:u,guidelineInfos:c}}).filter(function(l){return l.guidelineInfos.length>0}).sort(function(l,u){return l.guidelineInfos[0].dist-u.guidelineInfos[0].dist}),s=a.length>0;return{isSnap:s,index:s?a[0].index:-1,posInfos:a}}function KP(t,e,n){var r=[];if(n[0]&&n[1])r=[n,[-n[0],n[1]],[n[0],-n[1]]].map(function(a){return Qt(e,a)});else if(!n[0]&&!n[1])for(var i=[e[0],e[1],e[3],e[2],e[0]],o=0;o<4;++o)r.push(i[o]),r.push([(i[o][0]+i[o+1][0])/2,(i[o][1]+i[o+1][1])/2]);else t.props.keepRatio?r=[[-1,-1],[-1,1],[1,-1],[1,1],n].map(function(a){return Qt(e,a)}):(r=O0(e,n),r.length>1&&r.push([(r[0][0]+r[1][0])/2,(r[0][1]+r[1][1])/2]));return Ys(t,r.map(function(a){return a[0]}),r.map(function(a){return a[1]}),1)}function S0(t,e){var n=Math.abs(t.offset),r=Math.abs(e.offset);return t.isBound&&e.isBound?r-n:t.isBound?-1:e.isBound?1:t.isSnap&&e.isSnap?r-n:t.isSnap?-1:e.isSnap||n<Ie?1:r<Ie?-1:n-r}function ns(t,e){return t.slice().sort(function(n,r){var i=n.sign[e],o=r.sign[e],a=n.offset[e],s=r.offset[e];if(i){if(!o)return-1}else return 1;return S0({isBound:n.isBound,isSnap:n.isSnap,offset:a},{isBound:r.isBound,isSnap:r.isSnap,offset:s})})[0]}function ZP(t,e,n){var r=[];if(n)Math.abs(e[0])!==1||Math.abs(e[1])!==1?r.push([e,[-1,-1]],[e,[-1,1]],[e,[1,-1]],[e,[1,1]]):r.push([e,[t[0],-t[1]]],[e,[-t[0],t[1]]]),r.push([e,t]);else if(t[0]&&t[1]||!t[0]&&!t[1]){var i=t[0]?t:[1,1];[1,-1].forEach(function(a){[1,-1].forEach(function(s){var l=[a*i[0],s*i[1]];e[0]===l[0]&&e[1]===l[1]||r.push([e,l])})})}else if(t[0]){var o=Math.abs(e[0])===1?[1]:[1,-1];o.forEach(function(a){r.push([[e[0],-1],[a*t[0],-1]],[[e[0],0],[a*t[0],0]],[[e[0],1],[a*t[0],1]])})}else if(t[1]){var o=Math.abs(e[1])===1?[1]:[1,-1];o.forEach(function(s){r.push([[-1,e[1]],[-1,s*t[1]]],[[0,e[1]],[0,s*t[1]]],[[1,e[1]],[1,s*t[1]]])})}return r}function E0(t,e){var n=mo([e[0][0],e[1][0]]),r=mo([e[0][1],e[1][1]]);return{vertical:n<=t[0],horizontal:r<=t[1]}}function tf(t,e){var n=e[0],r=e[1],i=r[0]-n[0],o=r[1]-n[1];Math.abs(i)<Ie&&(i=0),Math.abs(o)<Ie&&(o=0);var a,s;if(!i)a=n[0],s=t[0];else if(!o)a=n[1],s=t[1];else{var l=o/i;a=l*(t[0]-n[0])+n[1],s=t[1]}return a-s}function C0(t,e,n,r){return r===void 0&&(r=Ie),t.every(function(i){var o=tf(i,e),a=o<=0;return a===n||Math.abs(o)<=r})}function xh(t,e,n,r,i){return i===void 0&&(i=0),r&&e-i<=t||!r&&t<=n+i?{isBound:!0,offset:r?e-t:n-t}:{isBound:!1,offset:0}}function JP(t,e){var n=e.line,r=e.centerSign,i=e.verticalSign,o=e.horizontalSign,a=e.lineConstants,s=t.props.innerBounds;if(!s)return{isAllBound:!1,isBound:!1,isVerticalBound:!1,isHorizontalBound:!1,offset:[0,0]};var l=s.left,u=s.top,c=s.width,f=s.height,d=[[l,u],[l,u+f]],h=[[l,u],[l+c,u]],p=[[l+c,u],[l+c,u+f]],v=[[l,u+f],[l+c,u+f]];if(C0([[l,u],[l+c,u],[l,u+f],[l+c,u+f]],n,r))return{isAllBound:!1,isBound:!1,isVerticalBound:!1,isHorizontalBound:!1,offset:[0,0]};var m=ir(n,a,h,i),g=ir(n,a,v,i),b=ir(n,a,d,o),_=ir(n,a,p,o),w=m.isBound&&g.isBound,D=m.isBound||g.isBound,$=b.isBound&&_.isBound,E=b.isBound||_.isBound,A=yi(m.offset,g.offset),O=yi(b.offset,_.offset),N=[0,0],F=!1,S=!1;return Math.abs(O)<Math.abs(A)?(N=[A,0],F=D,S=w):(N=[0,O],F=E,S=$),{isAllBound:S,isVerticalBound:D,isHorizontalBound:E,isBound:F,offset:N}}function ir(t,e,n,r,i,o){var a=e[0],s=e[1],l=t[0],u=n[0],c=n[1],f=as(c[1]-u[1]),d=as(c[0]-u[0]),h=s,p=a,v=-a/s;if(d){if(!f){if(o&&!h)return{isBound:!1,offset:0};if(p){var _=(u[1]-l[1])/v+l[0];return xh(_,u[0],c[0],r,i)}else{var g=u[1]-l[1],b=Math.abs(g)<=(i||0);return{isBound:b,offset:b?g:0}}}}else{if(o&&!p)return{isBound:!1,offset:0};if(h){var m=v*(u[0]-l[0])+l[1];return xh(m,u[1],c[1],r,i)}else{var g=u[0]-l[0],b=Math.abs(g)<=(i||0);return{isBound:b,offset:b?g:0}}}return{isBound:!1,offset:0}}function M0(t,e,n){return e.map(function(r){var i=JP(t,r),o=i.isBound,a=i.offset,s=i.isVerticalBound,l=i.isHorizontalBound,u=r.multiple,c=xn({datas:n,distX:a[0],distY:a[1]}).map(function(f,d){return f*(u[d]?2/u[d]:0)});return{sign:u,isBound:o,isVerticalBound:s,isHorizontalBound:l,isSnap:!1,offset:c}})}function QP(t,e,n){var r,i=ef(t,e,[0,0],!1).map(function(d){return q(q({},d),{multiple:d.multiple.map(function(h){return Math.abs(h)*2})})}),o=M0(t,i,n),a=ns(o,0),s=ns(o,1),l=0,u=0,c=a.isVerticalBound||s.isVerticalBound,f=a.isHorizontalBound||s.isHorizontalBound;return(c||f)&&(r=$N({datas:n,distX:-a.offset[0],distY:-s.offset[1]}),l=r[0],u=r[1]),{vertical:{isBound:c,offset:l},horizontal:{isBound:f,offset:u}}}function tN(t,e){var n=[],r=t[0],i=t[1];return r&&i?n.push([[0,i*2],t,[-r,i]],[[r*2,0],t,[r,-i]]):r?(n.push([[r*2,0],[r,1],[r,-1]]),e&&n.push([[0,-1],[r,-1],[-r,-1]],[[0,1],[r,1],[-r,1]])):i?(n.push([[0,i*2],[1,i],[-1,i]]),e&&n.push([[-1,0],[-1,i],[-1,-i]],[[1,0],[1,i],[1,-i]])):n.push([[-1,0],[-1,-1],[-1,1]],[[1,0],[1,-1],[1,1]],[[0,-1],[-1,-1],[1,-1]],[[0,1],[-1,1],[1,1]]),n}function ef(t,e,n,r){var i=t.state,o=i.allMatrix,a=i.is3d,s=xi(o,100,100,a?4:3),l=Qt(s,[0,0]);return tN(n,r).map(function(u){var c=u[0],f=u[1],d=u[2],h=[Qt(s,f),Qt(s,d)],p=qP(h),v=E0(l,h),m=v.vertical,g=v.horizontal,b=tf(l,h)<=0;return{multiple:c,centerSign:b,verticalSign:m,horizontalSign:g,lineConstants:p,line:[Qt(e,f),Qt(e,d)]}})}function Sh(t,e,n,r){var i=r?t.map(function(o){return rr(o,r)}):t;return[[i[0],i[1]],[i[1],i[3]],[i[3],i[2]],[i[2],i[0]]].some(function(o){var a=tf(n,o)<=0;return!C0(e,o,a)})}function eN(t){var e=t[0],n=t[1],r=n[0]-e[0],i=n[1]-e[1];if(!r)return Math.abs(e[0]);if(!i)return Math.abs(e[1]);var o=i/r;return Math.abs((-o*e[0]+e[1])/Math.sqrt(Math.pow(o,2)+1))}function nN(t){var e=t[0],n=t[1],r=n[0]-e[0],i=n[1]-e[1];if(!r)return[e[0],0];if(!i)return[0,e[1]];var o=i/r,a=-o*e[0]+e[1];return[-a/(o+1/o),a/(o*o+1)]}function rN(t,e,n,r,i){var o=t.props.innerBounds,a=i*Math.PI/180;if(!o)return[];var s=o.left,l=o.top,u=o.width,c=o.height,f=s-r[0],d=s+u-r[0],h=l-r[1],p=l+c-r[1],v=[[f,h],[d,h],[f,p],[d,p]],m=Qt(n,[0,0]);if(!Sh(n,v,m,0))return[];var g=[],b=v.map(function(_){return[gn(_),Wt([0,0],_)]});return[[n[0],n[1]],[n[1],n[3]],[n[3],n[2]],[n[2],n[0]]].forEach(function(_){var w=Wt([0,0],nN(_)),D=eN(_);g.push.apply(g,b.filter(function($){var E=$[0];return E&&D<=E}).map(function($){var E=$[0],A=$[1],O=Math.acos(E?D/E:0),N=A+O,F=A-O;return[a+N-w,a+F-w]}).reduce(function($,E){return $.push.apply($,E),$},[]).filter(function($){return!Sh(e,v,m,$)}).map(function($){return $t($*180/Math.PI,Ie)}))}),g}function iN(t){var e=t.props.innerBounds;if(!e)return{vertical:[],horizontal:[]};var n=t.getRect(),r=n.pos1,i=n.pos2,o=n.pos3,a=n.pos4,s=[r,i,o,a],l=Qt(s,[0,0]),u=e.left,c=e.top,f=e.width,d=e.height,h=[[u,c],[u,c+d]],p=[[u,c],[u+f,c]],v=[[u+f,c],[u+f,c+d]],m=[[u,c+d],[u+f,c+d]],g=ef(t,s,[0,0],!1),b=[],_=[],w={top:!1,bottom:!1,left:!1,right:!1};return g.forEach(function(D){var $=D.line,E=D.lineConstants,A=E0(l,$),O=A.horizontal,N=A.vertical,F=ir($,E,p,N,1,!0),S=ir($,E,m,N,1,!0),G=ir($,E,h,O,1,!0),y=ir($,E,v,O,1,!0);F.isBound&&!w.top&&(b.push(c),w.top=!0),S.isBound&&!w.bottom&&(b.push(c+d),w.bottom=!0),G.isBound&&!w.left&&(_.push(u),w.left=!0),y.isBound&&!w.right&&(_.push(u+f),w.right=!0)}),{horizontal:b,vertical:_}}function nf(t,e,n){var r=t||{},i=r.position,o=i===void 0?"client":i,a=r.left,s=a===void 0?-1/0:a,l=r.top,u=l===void 0?-1/0:l,c=r.right,f=c===void 0?1/0:c,d=r.bottom,h=d===void 0?1/0:d,p={position:o,left:s,top:u,right:f,bottom:h};return{vertical:Eh(p,e,!0),horizontal:Eh(p,n,!1)}}function Xs(t,e){var n=t.state,r=n.containerClientRect,i=r.clientHeight,o=r.clientWidth,a=r.clientLeft,s=r.clientTop,l=n.snapOffset,u=l.left,c=l.top,f=l.right,d=l.bottom,h=e||t.props.bounds||{},p=h.position||"client",v=p==="css",m=h.left,g=m===void 0?-1/0:m,b=h.top,_=b===void 0?-1/0:b,w=h.right,D=w===void 0?v?-1/0:1/0:w,$=h.bottom,E=$===void 0?v?-1/0:1/0:$;return v&&(D=o+f-u-D,E=i+d-c-E),{left:g+u-a,right:D+u-a,top:_+c-s,bottom:E+c-s}}function oN(t,e,n){var r=Xs(t),i=r.left,o=r.top,a=r.right,s=r.bottom,l=n[0],u=n[1],c=St(n,e),f=c[0],d=c[1];Math.abs(f)<Ie&&(f=0),Math.abs(d)<Ie&&(d=0);var h=d>0,p=f>0,v={isBound:!1,offset:0,pos:0},m={isBound:!1,offset:0,pos:0};if(f===0&&d===0)return{vertical:v,horizontal:m};if(f===0)h?s<u&&(m.pos=s,m.offset=u-s):o>u&&(m.pos=o,m.offset=u-o);else if(d===0)p?a<l&&(v.pos=a,v.offset=l-a):i>l&&(v.pos=i,v.offset=l-i);else{var g=d/f,b=n[1]-g*l,_=0,w=0,D=!1;p&&a<=l?(_=g*a+b,w=a,D=!0):!p&&l<=i&&(_=g*i+b,w=i,D=!0),D&&(_<o||_>s)&&(D=!1),D||(h&&s<=u?(_=s,w=(_-b)/g,D=!0):!h&&u<=o&&(_=o,w=(_-b)/g,D=!0)),D&&(v.isBound=!0,v.pos=w,v.offset=l-w,m.isBound=!0,m.pos=_,m.offset=u-_)}return{vertical:v,horizontal:m}}function Eh(t,e,n){var r=t[n?"left":"top"],i=t[n?"right":"bottom"],o=Math.min.apply(Math,e),a=Math.max.apply(Math,e),s=[];return r+1>o&&s.push({isBound:!0,offset:o-r,pos:r}),i-1<a&&s.push({isBound:!0,offset:a-i,pos:i}),s.length||s.push({isBound:!1,offset:0,pos:0}),s.sort(function(l,u){return Math.abs(u.offset)-Math.abs(l.offset)})}function Ch(t,e,n){var r=n?t.map(function(i){return rr(i,n)}):t;return r.some(function(i){return i[0]<e.left&&Math.abs(i[0]-e.left)>.1||i[0]>e.right&&Math.abs(i[0]-e.right)>.1||i[1]<e.top&&Math.abs(i[1]-e.top)>.1||i[1]>e.bottom&&Math.abs(i[1]-e.bottom)>.1})}function aN(t,e,n){var r=gn(t),i=Math.sqrt(r*r-e*e)||0;return[i,-i].sort(function(o,a){return Math.abs(o-t[n?0:1])-Math.abs(a-t[n?0:1])}).map(function(o){return Wt([0,0],n?[o,e]:[e,o])})}function sN(t,e,n,r,i){if(!t.props.bounds)return[];var o=i*Math.PI/180,a=Xs(t),s=a.left,l=a.top,u=a.right,c=a.bottom,f=s-r[0],d=u-r[0],h=l-r[1],p=c-r[1],v={left:f,top:h,right:d,bottom:p};if(!Ch(n,v,0))return[];var m=[];return[[f,0],[d,0],[h,1],[p,1]].forEach(function(g){var b=g[0],_=g[1];n.forEach(function(w){var D=Wt([0,0],w);m.push.apply(m,aN(w,b,_).map(function($){return o+$-D}).filter(function($){return!Ch(e,v,$)}).map(function($){return $t($*180/Math.PI,Ie)}))})}),m}function lN(t,e){var n,r=t.direction,i=t.classNames,o=t.size,a=t.pos,s=t.zoom,l=t.key,u=r==="horizontal",c=u?"Y":"X";return e.createElement("div",{key:l,className:i.join(" "),style:(n={},n[u?"width":"height"]="".concat(o),n.transform="translate(".concat(a[0],", ").concat(a[1],") translate").concat(c,"(-50%) scale").concat(c,"(").concat(s,")"),n)})}function rf(t,e){return lN(q(q({},t),{classNames:wt([Et("line","guideline",t.direction)],t.classNames,!0).filter(function(n){return n}),size:t.size||"".concat(t.sizeValue,"px"),pos:t.pos||t.posValue.map(function(n){return"".concat($t(n,.1),"px")})}),e)}function Mh(t,e,n,r,i,o,a,s){var l=t.props.zoom;return n.map(function(u,c){var f=u.type,d=u.pos,h=[0,0];return h[a]=r,h[a?0:1]=-i+d,rf({key:"".concat(e,"TargetGuideline").concat(c),classNames:[Et("target","bold",f)],posValue:h,sizeValue:o,zoom:l,direction:e},s)})}function Dh(t,e,n,r,i,o){var a=t.props,s=a.zoom,l=a.isDisplayInnerSnapDigit,u=e==="horizontal"?dr:hr,c=i[u.start],f=i[u.end];return n.filter(function(d){var h=d.hide,p=d.elementRect;if(h)return!1;if(l&&p){var v=p.rect;if(v[u.start]<=c&&f<=v[u.end])return!1}return!0}).map(function(d,h){var p=d.pos,v=d.size,m=d.element,g=[-r[0]+p[0],-r[1]+p[1]];return rf({key:"".concat(e,"-default-guideline-").concat(h),classNames:m?[Et("bold")]:[],direction:e,posValue:g,sizeValue:v,zoom:s},o)})}function Fi(t,e,n,r,i,o,a,s){var l,u=t.props,c=u.snapDigit,f=c===void 0?0:c,d=u.isDisplaySnapDigit,h=d===void 0?!0:d,p=u.snapDistFormat,v=p===void 0?function(D){return D}:p,m=u.zoom,g=e==="horizontal"?"X":"Y",b=e==="vertical"?"height":"width",_=Math.abs(i),w=h?parseFloat(_.toFixed(f)):0;return s.createElement("div",{key:"".concat(e,"-").concat(n,"-guideline-").concat(r),className:Et("guideline-group",e),style:(l={left:"".concat(o[0],"px"),top:"".concat(o[1],"px")},l[b]="".concat(_,"px"),l)},rf({direction:e,classNames:[Et(n),a],size:"100%",posValue:[0,0],sizeValue:_,zoom:m},s),s.createElement("div",{className:Et("size-value","gap"),style:{transform:"translate".concat(g,"(-50%) scale(").concat(m,")")}},w>0?v(w):""))}function uN(t,e,n,r){var i=t==="vertical"?0:1,o=t==="vertical"?1:0,a=i?dr:hr,s=n[a.start],l=n[a.end];return ZN(e,function(u){return u.pos[i]}).map(function(u){var c=[],f=[],d=[];return u.forEach(function(h){var p,v,m=h.element,g=h.elementRect.rect;if(g[a.end]<s)c.push(h);else if(l<g[a.start])f.push(h);else if(g[a.start]<=s&&l<=g[a.end]&&r){var b=h.pos,_={element:m,rect:q(q({},g),(p={},p[a.end]=g[a.start],p))},w={element:m,rect:q(q({},g),(v={},v[a.start]=g[a.end],v))},D=[0,0],$=[0,0];D[i]=b[i],D[o]=b[o],$[i]=b[i],$[o]=b[o]+h.size,c.push({type:t,pos:D,size:0,elementRect:_}),f.push({type:t,pos:$,size:0,elementRect:w})}}),c.sort(function(h,p){return p.pos[o]-h.pos[o]}),f.sort(function(h,p){return h.pos[o]-p.pos[o]}),{total:u,start:c,end:f,inner:d}})}function cN(t,e,n,r,i){var o=t.props.isDisplayInnerSnapDigit,a=[];return["vertical","horizontal"].forEach(function(s){var l=e.filter(function(m){return m.type===s}),u=s==="vertical"?1:0,c=u?0:1,f=uN(s,l,r,o),d=u?hr:dr,h=u?dr:hr,p=r[d.start],v=r[d.end];f.forEach(function(m){var g=m.total,b=m.start,_=m.end,w=m.inner,D=n[c]+g[0].pos[c]-r[h.start],$=r;b.forEach(function(E){var A=E.elementRect.rect,O=$[d.start]-A[d.end];if(O>0){var N=[0,0];N[u]=n[u]+$[d.start]-p-O,N[c]=D,a.push(Fi(t,s,"dashed",a.length,O,N,E.className,i))}$=A}),$=r,_.forEach(function(E){var A=E.elementRect.rect,O=A[d.start]-$[d.end];if(O>0){var N=[0,0];N[u]=n[u]+$[d.end]-p,N[c]=D,a.push(Fi(t,s,"dashed",a.length,O,N,E.className,i))}$=A}),w.forEach(function(E){var A=E.elementRect.rect,O=p-A[d.start],N=A[d.end]-v,F=[0,0],S=[0,0];F[u]=n[u]-O,F[c]=D,S[u]=n[u]+v-p,S[c]=D,a.push(Fi(t,s,"dashed",a.length,O,F,E.className,i)),a.push(Fi(t,s,"dashed",a.length,N,S,E.className,i))})})}),a}function fN(t,e,n,r,i){var o=[];return["horizontal","vertical"].forEach(function(a){var s=e.filter(function(m){return m.type===a}),l=a==="vertical"?0:1,u=l?0:1,c=l?hr:dr,f=l?dr:hr,d=r[c.start],h=r[c.end],p=r[f.start],v=r[f.end];s.forEach(function(m){var g=m.gap,b=m.gapRects,_=m.className,w=Math.max.apply(Math,wt([p],b.map(function(E){var A=E.rect;return A[f.start]}),!1)),D=Math.min.apply(Math,wt([v],b.map(function(E){var A=E.rect;return A[f.end]}),!1)),$=(w+D)/2;w===D||$===(p+v)/2||b.forEach(function(E){var A=E.rect,O=[n[0],n[1]];if(A[c.end]<d)O[l]+=A[c.end]-d;else if(h<A[c.start])O[l]+=A[c.start]-d-g;else return;O[u]+=$-p,o.push(Fi(t,l?"vertical":"horizontal","gap",o.length,g,O,_,i))})})}),o}function dN(t,e,n,r){var i=e[0]-t[0],o=e[1]-t[1];if(Math.abs(i)<Jt&&(i=0),Math.abs(o)<Jt&&(o=0),!i)return r?[0,0]:[0,n];if(!o)return r?[n,0]:[0,0];var a=o/i,s=t[1]-a*t[0];if(r){var l=a*(e[0]+n)+s;return[n,l-e[1]]}else{var u=(e[1]+n-s)/a;return[u-e[0],n]}}function Xu(t,e,n,r,i){var o=dN(t,e,n,r);if(!o)return{isOutside:!1,offset:[0,0]};var a=On(t,e),s=On(o,t),l=On(o,e),u=s>a||l>a,c=xn({datas:i,distX:o[0],distY:o[1]}),f=c[0],d=c[1];return{offset:[f,d],isOutside:u}}function rs(t,e){return t.isBound?t.offset:e.isSnap?Yu(e).offset:0}function hN(t,e,n,r,i){var o=e[0],a=e[1],s=n[0],l=n[1],u=r[0],c=r[1],f=i[0],d=i[1],h=-f,p=-d;if(t&&o&&a){h=0,p=0;var v=[];if(s&&l?v.push([0,d],[f,0]):s?v.push([f,0]):l?v.push([0,d]):u&&c?v.push([0,d],[f,0]):u?v.push([f,0]):c&&v.push([0,d]),v.length){v.sort(function(_,w){return gn(St([o,a],_))-gn(St([o,a],w))});var m=v[0];if(m[0]&&Math.abs(o)>Jt)h=-m[0],p=a*Math.abs(o+h)/Math.abs(o)-a;else if(m[1]&&Math.abs(a)>Jt){var g=a;p=-m[1],h=o*Math.abs(a+p)/Math.abs(g)-o}if(t&&l&&s)if(Math.abs(h)>Jt&&Math.abs(h)<Math.abs(f)){var b=Math.abs(f)/Math.abs(h);h*=b,p*=b}else if(Math.abs(p)>Jt&&Math.abs(p)<Math.abs(d)){var b=Math.abs(d)/Math.abs(p);h*=b,p*=b}else h=yi(-f,h),p=yi(-d,p)}}else h=o||s?-f:0,p=a||l?-d:0;return[h,p]}function pN(t,e,n,r,i,o){if(!wi(t,"draggable"))return[{isSnap:!1,isBound:!1,offset:0},{isSnap:!1,isBound:!1,offset:0}];var a=uf(o.absolutePoses,[e,n]),s=Le(a),l=s.left,u=s.right,c=s.top,f=s.bottom,d={horizontal:a.map(function(y){return y[1]}),vertical:a.map(function(y){return y[0]})},h=Jc(t.props.snapDirections),p=Qc(h,{left:l,right:u,top:c,bottom:f,center:(l+u)/2,middle:(c+f)/2}),v=Ws(t,i,p,d),m=v.vertical,g=v.horizontal,b=QP(t,a,o),_=b.vertical,w=b.horizontal,D=m.isSnap,$=g.isSnap,E=m.isBound||_.isBound,A=g.isBound||w.isBound,O=yi(m.offset,_.offset),N=yi(g.offset,w.offset),F=hN(r,[e,n],[E,A],[D,$],[O,N]),S=F[0],G=F[1];return[{isBound:E,isSnap:D,offset:S},{isBound:A,isSnap:$,offset:G}]}function Ws(t,e,n,r){r===void 0&&(r=n);var i=nf(Xs(t),r.vertical,r.horizontal),o=i.horizontal,a=i.vertical,s=e?{horizontal:{isSnap:!1,index:-1},vertical:{isSnap:!1,index:-1}}:Ys(t,n.vertical,n.horizontal),l=s.horizontal,u=s.vertical,c=rs(o[0],l),f=rs(a[0],u),d=Math.abs(c),h=Math.abs(f);return{horizontal:{isBound:o[0].isBound,isSnap:l.isSnap,snapIndex:l.index,offset:c,dist:d,bounds:o,snap:l},vertical:{isBound:a[0].isBound,isSnap:u.isSnap,snapIndex:u.index,offset:f,dist:h,bounds:a,snap:u}}}function $h(t,e,n,r,i){var o=nf(e,n,r),a=o.horizontal,s=o.vertical,l=x0(t,n,r,i),u=l.horizontal,c=l.vertical,f=rs(a[0],u),d=rs(s[0],c),h=Math.abs(f),p=Math.abs(d);return{horizontal:{isBound:a[0].isBound,isSnap:u.isSnap,snapIndex:u.index,offset:f,dist:h,bounds:a,snap:u},vertical:{isBound:s[0].isBound,isSnap:c.isSnap,snapIndex:c.index,offset:d,dist:p,bounds:s,snap:c}}}function vN(t,e,n,r){var i=Wt(t,e)/Math.PI*180,o=n.vertical,a=o.isBound,s=o.isSnap,l=o.dist,u=n.horizontal,c=u.isBound,f=u.isSnap,d=u.dist,h=i%180,p=h<3||h>177,v=h>87&&h<93;return d<l&&(a||s&&!v&&(!r||!p))?"vertical":c||f&&!p&&(!r||!v)?"horizontal":""}function gN(t,e,n,r,i,o){return n.map(function(a){var s=a[0],l=a[1],u=Qt(e,s),c=Qt(e,l),f=r?mN(t,u,c,i):Ws(t,i,{vertical:[c[0]],horizontal:[c[1]]}),d=f.horizontal,h=d.offset,p=d.isBound,v=d.isSnap,m=f.vertical,g=m.offset,b=m.isBound,_=m.isSnap,w=St(l,s);if(!g&&!h)return{isBound:b||p,isSnap:_||v,sign:w,offset:[0,0]};var D=vN(u,c,f,r);if(!D)return{sign:w,isBound:!1,isSnap:!1,offset:[0,0]};var $=D==="vertical",E=[0,0];return!r&&Math.abs(l[0])===1&&Math.abs(l[1])===1&&s[0]!==l[0]&&s[1]!==l[1]?E=xn({datas:o,distX:-g,distY:-h}):E=Xu(u,c,-($?g:h),$,o).offset,E=E.map(function(A,O){return A*(w[O]?2/w[O]:0)}),{sign:w,isBound:$?b:p,isSnap:$?_:v,offset:E}})}function Th(t,e){return t.isBound?t.offset:e.isSnap?e.offset:0}function mN(t,e,n,r){var i=oN(t,e,n),o=i.horizontal,a=i.vertical,s=r?{horizontal:{isSnap:!1},vertical:{isSnap:!1}}:jP(t,e,n),l=s.horizontal,u=s.vertical,c=Th(o,l),f=Th(a,u),d=Math.abs(c),h=Math.abs(f);return{horizontal:{isBound:o.isBound,isSnap:l.isSnap,offset:c,dist:d},vertical:{isBound:a.isBound,isSnap:u.isSnap,offset:f,dist:h}}}function yN(t,e,n,r,i){var o=[-n[0],-n[1]],a=t.state,s=a.width,l=a.height,u=t.props.bounds,c=1/0,f=1/0;if(u){var d=[[n[0],-n[1]],[-n[0],n[1]]],h=u.left,p=h===void 0?-1/0:h,v=u.top,m=v===void 0?-1/0:v,g=u.right,b=g===void 0?1/0:g,_=u.bottom,w=_===void 0?1/0:_;d.forEach(function(D){var $=D[0]!==o[0],E=D[1]!==o[1],A=Qt(e,D),O=Wt(r,A)*360/Math.PI;if(E){var N=A.slice();(Math.abs(O-360)<2||Math.abs(O-180)<2)&&(N[1]=r[1]);var F=Xu(r,N,(r[1]<A[1]?w:m)-A[1],!1,i),S=F.offset,G=S[1],y=F.isOutside;isNaN(G)||(f=l+(y?1:-1)*Math.abs(G))}if($){var N=A.slice();(Math.abs(O-90)<2||Math.abs(O-270)<2)&&(N[0]=r[0]);var R=Xu(r,N,(r[0]<A[0]?b:p)-A[0],!0,i),M=R.offset[0],L=R.isOutside;isNaN(M)||(c=s+(L?1:-1)*Math.abs(M))}})}return{maxWidth:c,maxHeight:f}}function Ll(t){var e=t.state;if(!(e.guidelines&&e.guidelines.length)){var n=t.state.container,r=t.props.snapContainer||n,i=e.containerClientRect,o={left:0,top:0,bottom:0,right:0};if(n!==r){var a=Qs(r,!0);if(a){var s=Ca(a),l=Ah(e,[s.left-i.left,s.top-i.top]),u=Ah(e,[s.right-i.right,s.bottom-i.bottom]);o.left=$t(l[0],.1),o.top=$t(l[1],.1),o.right=$t(u[0],.1),o.bottom=$t(u[1],.1)}}e.snapOffset=o,e.guidelines=Hu(t),e.enableSnap=!0}}function D0(t,e,n,r,i,o){var a=xi(t,e,n,o?4:3),s=Qt(a,r);return uf(a,St(i,s))}function _N(t,e,n,r,i,o){var a=o.fixedDirection,s=ZP(n,a,r),l=ef(t,e,n,r),u=wt(wt([],gN(t,e,s,r,i,o),!0),M0(t,l,o),!0),c=ns(u,0),f=ns(u,1);return{width:{isBound:c.isBound,offset:c.offset[0]},height:{isBound:f.isBound,offset:f.offset[1]}}}function bN(t,e,n,r,i,o,a,s,l){var u=Qt(e,a),c=Ws(t,s,{vertical:[u[0]],horizontal:[u[1]]}),f=c.horizontal.offset,d=c.vertical.offset;if(d||f){var h=xn({datas:l,distX:-d,distY:-f}),p=h[0],v=h[1],m=Math.min(i||1/0,n+a[0]*p),g=Math.min(o||1/0,r+a[1]*v);return[m-n,g-r]}return[0,0]}function $0(t,e,n,r,i,o,a,s){for(var l=Te(t.state),u=t.props.keepRatio,c=0,f=0,d=0;d<2;++d){var h=e(c,f),p=_N(t,h,i,u,a,s),v=p.width,m=p.height,g=v.isBound,b=m.isBound,_=v.offset,w=m.offset;if(d===1&&(g||(_=0),b||(w=0)),d===0&&a&&!g&&!b)return[0,0];if(u){var D=Math.abs(_)*(n?1/n:1),$=Math.abs(w)*(r?1/r:1),E=g&&b?D<$:b||!g&&D<$;E?_=n*w/r:w=r*_/n}c+=_,f+=w}if(i[0]&&i[1]){var A=yN(t,l,i,o,s),O=A.maxWidth,N=A.maxHeight,F=bN(t,e(c,f).map(function(y){return y.map(function(R){return $t(R,AP)})}),n+c,r+f,O,N,i,a,s),_=F[0],w=F[1];c+=_,f+=w}return[c,f]}function wN(t,e,n,r){if(!wi(t,"rotatable"))return r;var i=e.pos1,o=e.pos2,a=e.pos3,s=e.pos4,l=r*Math.PI/180,u=[i,o,a,s].map(function(d){return St(d,n)}),c=u.map(function(d){return rr(d,l)}),f=wt(wt([],sN(t,u,c,n,r),!0),rN(t,u,c,n,r),!0);return f.sort(function(d,h){return Math.abs(d-r)-Math.abs(h-r)}),f.length?f[0]:r}function xN(t,e,n,r,i,o,a){if(!wi(t,"resizable"))return[0,0];var s=a.fixedDirection,l=t.state,u=l.allMatrix,c=l.is3d;return $0(t,function(f,d){return D0(u,e+f,n+d,s,i,c)},e,n,r,i,o,a)}function SN(t,e,n,r,i){if(!wi(t,"scalable"))return[0,0];var o=i.startOffsetWidth,a=i.startOffsetHeight,s=i.fixedPosition,l=i.fixedDirection,u=i.is3d,c=$0(t,function(f,d){return D0(RN(i,Dt(e,[f/o,d/a])),o,a,l,s,u)},o,a,n,s,r,i);return[c[0]/o,c[1]/a]}function EN(t,e){e.absolutePoses=Te(t.state)}function Ph(t){var e=[];return t.forEach(function(n){n.guidelineInfos.forEach(function(r){var i=r.guideline;e.indexOf(i)>-1||e.push(i)})}),e}function Nh(t,e,n,r,i,o){var a=nf(Xs(t,o),e,n),s=a.vertical,l=a.horizontal;s.forEach(function(d){d.isBound&&r.push({type:"bounds",pos:d.pos})}),l.forEach(function(d){d.isBound&&i.push({type:"bounds",pos:d.pos})});var u=iN(t),c=u.vertical,f=u.horizontal;c.forEach(function(d){yn(r,function(h){var p=h.type,v=h.pos;return p==="bounds"&&v===d})>=0||r.push({type:"bounds",pos:d})}),f.forEach(function(d){yn(i,function(h){var p=h.type,v=h.pos;return p==="bounds"&&v===d})>=0||i.push({type:"bounds",pos:d})})}var CN={name:"snappable",dragRelation:"strong",props:{snappable:[Boolean,Array],snapContainer:Object,snapDirections:[Boolean,Object],elementSnapDirections:[Boolean,Object],snapGap:Boolean,snapGridWidth:Number,snapGridHeight:Number,isDisplaySnapDigit:Boolean,isDisplayInnerSnapDigit:Boolean,snapDigit:Number,snapThreshold:Number,horizontalGuidelines:Array,verticalGuidelines:Array,elementGuidelines:Array,bounds:Object,innerBounds:Object,snapDistFormat:Function},events:{onSnap:"snap"},css:[`:host {
    --bounds-color: #d66;
}
.guideline {
    pointer-events: none;
    z-index: 2;
}
.guideline.bounds {
    background: #d66;
    background: var(--bounds-color);
}
.guideline-group {
    position: absolute;
    top: 0;
    left: 0;
}
.guideline-group .size-value {
    position: absolute;
    color: #f55;
    font-size: 12px;
    font-weight: bold;
}
.guideline-group.horizontal .size-value {
    transform-origin: 50% 100%;
    transform: translateX(-50%);
    left: 50%;
    bottom: 5px;
}
.guideline-group.vertical .size-value {
    transform-origin: 0% 50%;
    top: 50%;
    transform: translateY(-50%);
    left: 5px;
}
.guideline.gap {
    background: #f55;
}
.size-value.gap {
    color: #f55;
}
`],render:function(t,e){var n=t.state,r=n.top,i=n.left,o=n.pos1,a=n.pos2,s=n.pos3,l=n.pos4,u=n.snapRenderInfo;if(!u||!wi(t,""))return[];n.guidelines=Hu(t);var c=Math.min(o[0],a[0],s[0],l[0]),f=Math.min(o[1],a[1],s[1],l[1]),d=u.externalPoses||[],h=Te(t.state),p=[],v=[],m=[],g=[],b=[],_=Le(h),w=_.width,D=_.height,$=_.top,E=_.left,A=_.bottom,O=_.right,N={left:E,right:O,top:$,bottom:A,center:(E+O)/2,middle:($+A)/2},F=d.length>0,S=F?Le(d):{};if(!u.request){if(u.direction&&b.push(KP(t,h,u.direction)),u.snap){var G=Le(h);u.center&&(G.middle=(G.top+G.bottom)/2,G.center=(G.left+G.right)/2),b.push(bh(t,G,1))}F&&(u.center&&(S.middle=(S.top+S.bottom)/2,S.center=(S.left+S.right)/2),b.push(bh(t,S,1))),b.forEach(function(L){var k=L.vertical.posInfos,z=L.horizontal.posInfos;p.push.apply(p,k.filter(function(V){var Y=V.guidelineInfos;return Y.some(function(j){var rt=j.guideline;return!rt.hide})}).map(function(V){return{type:"snap",pos:V.pos}})),v.push.apply(v,z.filter(function(V){var Y=V.guidelineInfos;return Y.some(function(j){var rt=j.guideline;return!rt.hide})}).map(function(V){return{type:"snap",pos:V.pos}})),m.push.apply(m,Ph(k)),g.push.apply(g,Ph(z))})}Nh(t,[E,O],[$,A],p,v),F&&Nh(t,[S.left,S.right],[S.top,S.bottom],p,v,u.externalBounds);var y=wt(wt([],m,!0),g,!0),R=y.filter(function(L){return L.element&&!L.gapRects}),M=y.filter(function(L){return L.gapRects});return ct(t,"onSnap",{guidelines:y.filter(function(L){var k=L.element;return!k}),elements:R,gaps:M},!0),wt(wt(wt(wt(wt(wt([],cN(t,R,[c,f],N,e),!0),fN(t,M,[c,f],N,e),!0),Dh(t,"horizontal",g,[i,r],N,e),!0),Dh(t,"vertical",m,[i,r],N,e),!0),Mh(t,"horizontal",v,c,r,w,0,e),!0),Mh(t,"vertical",p,f,i,D,1,e),!0)},dragStart:function(t,e){t.state.snapRenderInfo={request:e.isRequest,snap:!0,center:!0},Ll(t)},drag:function(t){var e=t.state;e.guidelines=Hu(t)},pinchStart:function(t){this.unset(t)},dragEnd:function(t){this.unset(t)},dragControlCondition:function(t,e){if(bo(t,e)||Vu(t,e))return!0;if(!e.isRequest&&e.inputEvent)return je(e.inputEvent.target,Et("snap-control"))},dragControlStart:function(t){t.state.snapRenderInfo=null,Ll(t)},dragControl:function(t){this.drag(t)},dragControlEnd:function(t){this.unset(t)},dragGroupStart:function(t,e){this.dragStart(t,e)},dragGroup:function(t){this.drag(t)},dragGroupEnd:function(t){this.unset(t)},dragGroupControlStart:function(t){t.state.snapRenderInfo=null,Ll(t)},dragGroupControl:function(t){this.drag(t)},dragGroupControlEnd:function(t){this.unset(t)},unset:function(t){var e=t.state;e.enableSnap=!1,e.guidelines=[],e.snapRenderInfo=null,e.elementRects=[]}},_e={name:"draggable",props:{draggable:Boolean,throttleDrag:Number,throttleDragRotate:Number,startDragRotate:Number,edgeDraggable:Boolean},events:{onDragStart:"dragStart",onDrag:"drag",onDragEnd:"dragEnd",onDragGroupStart:"dragGroupStart",onDragGroup:"dragGroup",onDragGroupEnd:"dragGroupEnd"},render:function(t,e){var n=t.props,r=n.throttleDragRotate,i=n.zoom,o=t.state,a=o.dragInfo,s=o.beforeOrigin;if(!r||!a)return[];var l=a.dist;if(!l[0]&&!l[1])return[];var u=gn(l),c=Wt(l,[0,0]);return[e.createElement("div",{className:Et("line","horizontal","dragline","dashed"),key:"dragRotateGuideline",style:{width:"".concat(u,"px"),transform:"translate(".concat(s[0],"px, ").concat(s[1],"px) rotate(").concat(c,"rad) scaleY(").concat(i,")")}})]},dragStart:function(t,e){var n=e.datas,r=e.parentEvent,i=e.parentGesto,o=t.state,a=o.target,s=o.gesto;if(s)return!1;o.gesto=i||t.targetGesto;var l=Ee(a);n.datas={},n.left=parseFloat(l.left||"")||0,n.top=parseFloat(l.top||"")||0,n.bottom=parseFloat(l.bottom||"")||0,n.right=parseFloat(l.right||"")||0,n.startValue=[0,0],Lr(t,e),Zs(e,"translate"),EN(t,n),n.prevDist=[0,0],n.prevBeforeDist=[0,0],n.isDrag=!1,n.deltaOffset=[0,0];var u=xt(t,e,q({set:function(f){n.startValue=f}},Ks(e))),c=r||ct(t,"onDragStart",u);return c!==!1?(n.isDrag=!0,t.state.dragInfo={startRect:t.getRect(),dist:[0,0]}):(o.gesto=null,n.isPinch=!1),n.isDrag?u:!1},drag:function(t,e){if(e){Us(e,"translate");var n=e.datas,r=e.parentEvent,i=e.parentFlag,o=e.isPinch,a=e.isRequest,s=e.deltaOffset,l=e.distX,u=e.distY,c=n.isDrag,f=n.prevDist,d=n.prevBeforeDist,h=n.startValue;if(c){s&&(l+=s[0],u+=s[1]);var p=t.props,v=p.parentMoveable,m=r?0:p.throttleDrag||0,g=r?0:p.throttleDragRotate||0,b=!1,_=0;if(!r&&g>0&&(l||u)){var w=p.startDragRotate||0,D=$t(w+Wt([0,0],[l,u])*180/Math.PI,g)-w,$=u*Math.abs(Math.cos((D-90)/180*Math.PI)),E=l*Math.abs(Math.cos(D/180*Math.PI)),A=gn([E,$]);_=D*Math.PI/180,l=A*Math.cos(_),u=A*Math.sin(_)}if(!o&&!r&&!i&&(!g||l||u)){var O=pN(t,l,u,g,a||s,n),N=O[0],F=O[1],S=N.isSnap,G=N.isBound,y=N.offset,R=F.isSnap,M=F.isBound,L=F.offset;b=S||R||G||M,l+=y,u+=L}var k=Dt(N0({datas:n,distX:l,distY:u}),h),z=Dt(DN({datas:n,distX:l,distY:u}),h);!g&&!b&&(uh(z,m),uh(k,m));var V=St(k,h),Y=St(z,h),j=St(Y,f),rt=St(V,d);n.prevDist=Y,n.prevBeforeDist=V,n.passDelta=j,n.passDist=Y;var Z=n.left+V[0],J=n.top+V[1],tt=n.right-V[0],it=n.bottom-V[1],at=qs(n,"translate(".concat(z[0],"px, ").concat(z[1],"px)"),"translate(".concat(Y[0],"px, ").concat(Y[1],"px)"));if(of(e,at),t.state.dragInfo.dist=r?[0,0]:Y,!(!r&&!v&&j.every(function(B){return!B})&&rt.some(function(B){return!B}))){var ot=t.state,dt=ot.width,lt=ot.height,I=xt(t,e,{transform:at,dist:Y,delta:j,translate:z,beforeDist:V,beforeDelta:rt,beforeTranslate:k,left:Z,top:J,right:tt,bottom:it,width:dt,height:lt,isPinch:o});return!r&&ct(t,"onDrag",I),I}}}},dragAfter:function(t,e){var n=e.datas,r=n.deltaOffset;return r[0]||r[1]?(n.deltaOffset=[0,0],this.drag(t,q(q({},e),{deltaOffset:r}))):!1},dragEnd:function(t,e){var n=e.parentEvent,r=e.datas;if(t.state.gesto=null,t.state.dragInfo=null,!!r.isDrag){r.isDrag=!1;var i=Ae(t,e,{});return!n&&ct(t,"onDragEnd",i),i}},dragGroupStart:function(t,e){var n=e.datas,r=e.clientX,i=e.clientY,o=this.dragStart(t,e);if(!o)return!1;var a=Bl(t,this,"dragStart",[r||0,i||0],e),s=q(q({},o),{targets:t.props.targets,events:a}),l=ct(t,"onDragGroupStart",s);return n.isDrag=l!==!1,n.isDrag?o:!1},dragGroup:function(t,e){var n=e.datas;if(n.isDrag){var r=this.drag(t,e),i=e.datas.passDelta,o=Bl(t,this,"drag",i,e);if(r){var a=q({targets:t.props.targets,events:o},r);return ct(t,"onDragGroup",a),a}}},dragGroupEnd:function(t,e){var n=e.isDrag,r=e.datas;if(r.isDrag){this.dragEnd(t,e);var i=Bl(t,this,"dragEnd",[0,0],e);return ct(t,"onDragGroupEnd",Ae(t,e,{targets:t.props.targets,events:i})),n}},request:function(t){var e={},n=t.getRect(),r=0,i=0;return{isControl:!1,requestStart:function(){return{datas:e}},request:function(o){return"x"in o?r=o.x-n.left:"deltaX"in o&&(r+=o.deltaX),"y"in o?i=o.y-n.top:"deltaY"in o&&(i+=o.deltaY),{datas:e,distX:r,distY:i}},requestEnd:function(){return{datas:e,isDrag:!0}}}},unset:function(t){t.state.dragInfo=null}};function T0(t,e){var n=e.clientX,r=e.clientY,i=e.datas,o=t.state,a=o.moveableClientRect,s=o.rootMatrix,l=o.is3d,u=o.pos1,c=a.left,f=a.top,d=l?4:3,h=St(li(s,[n-c,r-f],d),u),p=h[0],v=h[1],m=xn({datas:i,distX:p,distY:v}),g=m[0],b=m[1];return[g,b]}function Lr(t,e){var n=e.datas,r=t.state,i=r.allMatrix,o=r.beforeMatrix,a=r.is3d,s=r.left,l=r.top,u=r.origin,c=r.offsetMatrix,f=r.targetMatrix,d=r.transformOrigin,h=a?4:3;n.is3d=a,n.matrix=i,n.targetMatrix=f,n.beforeMatrix=o,n.offsetMatrix=c,n.transformOrigin=d,n.inverseMatrix=_n(i,h),n.inverseBeforeMatrix=_n(o,h),n.absoluteOrigin=Ro(Dt([s,l],u),h),n.startDragBeforeDist=Se(n.inverseBeforeMatrix,n.absoluteOrigin,h),n.startDragDist=Se(n.inverseMatrix,n.absoluteOrigin,h)}function MN(t){return os(t.datas.beforeTransform,[50,50],100,100).direction}function Us(t,e){var n=t.datas,r=t.originalDatas.beforeRenderable,i=n.transformIndex,o=r.nextTransforms,a=r.nextTransformAppendedIndexes,s=0;i===-1?(s=o.length,n.transformIndex=s):s=i+a.filter(function(f){return f<i}).length;var l=nR(o,s),u=l.targetFunction,c=e==="rotate"?"rotateZ":e;n.beforeFunctionTexts=l.beforeFunctionTexts,n.afterFunctionTexts=l.afterFunctionTexts,n.beforeTransform=l.beforeFunctionMatrix,n.beforeTransform2=l.beforeFunctionMatrix2,n.targetTansform=l.targetFunctionMatrix,n.afterTransform=l.afterFunctionMatrix,n.afterTransform2=l.afterFunctionMatrix2,n.targetAllTransform=l.allFunctionMatrix,u.functionName===c?(n.afterFunctionTexts.splice(0,1),n.isAppendTransform=!1):(n.isAppendTransform=!0,r.nextTransformAppendedIndexes=wt(wt([],a,!0),[s],!1))}function qs(t,e,n){return"".concat(t.beforeFunctionTexts.join(" ")," ").concat(t.isAppendTransform?n:e," ").concat(t.afterFunctionTexts.join(" "))}function DN(t){var e=t.datas,n=t.distX,r=t.distY,i=N0({datas:e,distX:n,distY:r}),o=i[0],a=i[1],s=P0(e,zT([o,a],4));return Se(s,Ro([0,0,0],4),4)}function P0(t,e,n){var r=t.beforeTransform,i=t.afterTransform,o=t.beforeTransform2,a=t.afterTransform2,s=t.targetAllTransform,l=n?kt(s,e,4):kt(e,s,4),u=kt(_n(n?o:r,4),l,4),c=kt(u,_n(n?a:i,4),4);return c}function N0(t){var e=t.datas,n=t.distX,r=t.distY,i=e.inverseBeforeMatrix,o=e.is3d,a=e.startDragBeforeDist,s=e.absoluteOrigin,l=o?4:3;return St(Se(i,Dt(s,[n,r]),l),a)}function xn(t,e){var n=t.datas,r=t.distX,i=t.distY,o=n.inverseBeforeMatrix,a=n.inverseMatrix,s=n.is3d,l=n.startDragBeforeDist,u=n.startDragDist,c=n.absoluteOrigin,f=s?4:3;return St(Se(e?o:a,Dt(c,[r,i]),f),e?l:u)}function $N(t,e){var n=t.datas,r=t.distX,i=t.distY;n.beforeMatrix;var o=n.matrix,a=n.is3d;n.startDragBeforeDist;var s=n.startDragDist,l=n.absoluteOrigin,u=a?4:3;return St(Se(o,Dt(s,[r,i]),u),l)}function TN(t,e,n,r,i,o){return r===void 0&&(r=e),i===void 0&&(i=n),o===void 0&&(o=[0,0]),t?t.map(function(a,s){var l=To(a),u=l.value,c=l.unit,f=s?i:r,d=s?n:e;if(a==="%"||isNaN(u)){var h=f?o[s]/f:0;return d*h}else if(c!=="%")return u;return d*u/100}):o}function R0(t){var e=[];return t[1]>=0&&(t[0]>=0&&e.push(3),t[0]<=0&&e.push(2)),t[1]<=0&&(t[0]>=0&&e.push(1),t[0]<=0&&e.push(0)),e}function O0(t,e){return R0(e).map(function(n){return t[n]})}function Qt(t,e){var n=O0(t,e);return[mo(n.map(function(r){return r[0]})),mo(n.map(function(r){return r[1]}))]}function PN(t,e,n,r,i,o){var a=xi(e,n,r,i),s=Qt(a,o),l=t[0]-s[0],u=t[1]-s[1];return[l,u]}function js(t,e,n,r){return kt(t,af(e,r,n),r)}function NN(t,e,n){var r=t.transformOrigin,i=t.offsetMatrix,o=t.is3d,a=e.beforeTransform,s=e.afterTransform,l=o?4:3,u=s0([n]);return js(i,Ln(kt(kt(a,u,4),s,4),4,l),r,l)}function RN(t,e){var n=t.transformOrigin,r=t.offsetMatrix,i=t.is3d,o=t.targetMatrix,a=i?4:3;return js(r,kt(o,a0(e,a),a),n,a)}function Ks(t){var e=t.originalDatas.beforeRenderable;return{setTransform:function(n,r){r===void 0&&(r=-1),e.startTransforms=Fr(n)?n:cr(n),Wu(t,r)},setTransformIndex:function(n){Wu(t,n)}}}function Zs(t,e){var n=t.originalDatas.beforeRenderable,r=n.startTransforms;Wu(t,yn(r,function(i){return i.indexOf("".concat(e,"("))===0}))}function Wu(t,e){var n=t.originalDatas.beforeRenderable,r=t.datas;if(r.transformIndex=e,e!==-1){var i=n.startTransforms[e];if(i){var o=Sr([i]);r.startValue=o[0].functionValue}}}function of(t,e){var n=t.originalDatas.beforeRenderable;n.nextTransforms=cr(e)}function Rh(t){var e=t.originalDatas.beforeRenderable;return e.nextTransforms.join(" ")}function I0(t,e,n,r,i){return of(i,e),{transform:e,drag:_e.drag(t,Hs(i,t.state,n,r))}}function A0(t,e,n,r,i){var o=t.state,a=o.left,s=o.top,l=t.props.groupable,u=NN(t.state,i,e),c=l?a:0,f=l?s:0,d=B0(t,n,u),h=St(r,d);return St(h,[c,f])}function ON(t,e,n,r,i){var o=A0(t,"scale(".concat(e.join(", "),")"),n,r,i);return o}function k0(t){var e=t.state,n=e.width,r=e.height,i=e.transformOrigin;return[-1+i[0]/(n/2),-1+i[1]/(r/2)]}function B0(t,e,n){n===void 0&&(n=t.state.allMatrix);var r=t.state,i=r.width,o=r.height,a=r.is3d,s=a?4:3,l=[i/2*(1+e[0]),o/2*(1+e[1])];return oe(n,l,s)}function IN(t,e,n,r){var i=k0(t);return A0(t,"rotate(".concat(e,"deg)"),i,n,r)}function AN(t,e,n,r,i,o){var a=t.props.groupable,s=t.state,l=s.transformOrigin,u=s.targetMatrix,c=s.offsetMatrix,f=s.is3d,d=s.width,h=s.height,p=s.left,v=s.top,m=f?4:3,g=TN(o,e,n,d,h,l),b=a?p:0,_=a?v:0,w=js(c,u,g,m),D=PN(i,w,e,n,m,r);return St(D,[b,_])}function z0(t,e){return Qt(Te(t.state),e)}function kN(t,e){return[t[0]*e[0],t[1]*e[1]]}function Et(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return V$.apply(void 0,wt([jc],t,!1))}function BN(t){return!t||t==="none"?[1,0,0,1,0,0]:mn(t)?t:s0(t)}function af(t,e,n){return Nu(e,_o(n,e),t,_o(n.map(function(r){return-r}),e))}function zN(t,e,n){if(e==="%"){var r=sf(t.ownerSVGElement);return r[n?"width":"height"]/100}return 1}function FN(t){var e=Uu(Ee(t,":before"));return e.map(function(n,r){var i=To(n),o=i.value,a=i.unit;return o*zN(t,a,r===0)})}function Uu(t){var e=t.transformOrigin;return e?e.split(" "):["0","0"]}function F0(t,e){e===void 0&&(e=Ee(t));var n=e.transform;if(n&&n!=="none")return e.transform;if("transform"in t){var r=t.transform,i=r.baseVal;if(!i)return"";var o=i.length;if(!o)return"";for(var a=[],s=function(u){var c=i[u].matrix;a.push("matrix(".concat(["a","b","c","d","e","f"].map(function(f){return c[f]}).join(", "),")"))},l=0;l<o;++l)s(l);return a.join(" ")}return""}function is(t,e,n){for(var r=document.body,i=!t||n?t:t.parentElement,o=t===e||i===e,a="relative";i&&i!==r;){e===i&&(o=!0);var s=Ee(i),l=i.tagName.toLowerCase(),u=F0(i,s);if(a=s.position,l==="svg"||a!=="static"||u&&u!=="none")break;i=i.parentElement,a="relative"}return{isStatic:a==="static",isEnd:o||!i||i===r,offsetParent:i||r}}function GN(t,e){var n,r=t.tagName.toLowerCase(),i=t.offsetLeft,o=t.offsetTop,a=$o(i),s=!a,l,u;return!s&&r!=="svg"?(l=m0?FN(t):Uu(e).map(function(c){return parseFloat(c)}),u=l.slice(),s=!0,n=WN(t,l),i=n[0],o=n[1],l[0]=n[2],l[1]=n[3]):(l=Uu(e).map(function(c){return parseFloat(c)}),u=l.slice()),{tagName:r,isSVG:a,hasOffset:s,offset:[i||0,o||0],origin:l,targetOrigin:u}}function G0(t,e,n){n===void 0&&(n=Ee(t));var r=Ee(document.body),i=r.position;if(!e&&(!i||i==="static"))return[0,0];var o=parseInt(r.marginLeft,10),a=parseInt(r.marginTop,10);return n.position==="absolute"&&((n.top!=="auto"||n.bottom!=="auto")&&(a=0),(n.left!=="auto"||n.right!=="auto")&&(o=0)),[o,a]}function qu(t){t.forEach(function(e){var n=e.matrix;n&&(e.matrix=Ln(n,3,4))})}function LN(){return[document.documentElement.scrollLeft||document.body.scrollLeft,document.documentElement.scrollTop||document.body.scrollTop]}function VN(t){for(var e=t.parentElement,n=!1;e;){var r=Ee(e).transform;if(r&&r!=="none"){n=!0;break}if(e===document.body)break;e=e.parentElement}return{fixedContainer:e||document.body,hasTransform:n}}function Oh(t,e,n){for(var r=t,i=[],o=!n&&t===e||t===document.body,a=o,s=!1,l=3,u,c,f,d=!1,h=is(e,e,!0).offsetParent;r&&!a;){a=o;var p=Ee(r),v=p.position,m=F0(r,p),g=FT(BN(m)),b=v==="fixed",_={hasTransform:!1,fixedContainer:null};b&&(d=!0,_=VN(r),h=_.fixedContainer);var w=g.length;!s&&w===16&&(s=!0,l=4,qu(i),f&&(f=Ln(f,3,4))),s&&w===9&&(g=Ln(g,3,4));var D=GN(r,p),$=D.tagName,E=D.hasOffset,A=D.isSVG,O=D.origin,N=D.targetOrigin,F=D.offset,S=F[0],G=F[1];$==="svg"&&f?(i.push({type:"target",target:r,matrix:XN(r,l)}),i.push({type:"offset",target:r,matrix:Yt(l)})):$==="g"&&t!==r&&(S=0,G=0);var y=void 0,R=!1,M=!1;if(b)y=_.fixedContainer,R=!0;else{var L=is(r,e);y=L.offsetParent,R=L.isEnd,M=L.isStatic}g0&&E&&!A&&M&&(v==="relative"||v==="static")&&(S-=y.offsetLeft,G-=y.offsetTop,o=o||R);var k=0,z=0,V=0,Y=0;if(b)E&&_.hasTransform&&(V=y.clientLeft,Y=y.clientTop);else if(E&&h!==y&&(k=y.clientLeft,z=y.clientTop),E&&y===document.body){var j=G0(r,!1,p);S+=j[0],G+=j[1]}if(i.push({type:"target",target:r,matrix:af(g,l,O)}),E?i.push({type:"offset",target:r,matrix:_o([S-r.scrollLeft+k-V,G-r.scrollTop+z-Y],l)}):i.push({type:"offset",target:r,origin:O}),f||(f=g),u||(u=O),c||(c=N),a||b)break;r=y,o=R,(!n||r===document.body)&&(a=o)}return f||(f=Yt(l)),u||(u=[0,0]),c||(c=[0,0]),{offsetContainer:h,matrixes:i,targetMatrix:f,transformOrigin:u,targetOrigin:c,is3d:s,hasFixed:d}}function HN(t,e,n,r){n===void 0&&(n=e);var i=0,o=0,a=0,s={};if(t){var l=H0(t),u=l.offsetWidth,c=l.offsetHeight;i=u,o=c}if(t){var f=YN(t,e,n),d=os(f.allMatrix,f.transformOrigin,i,o);s=q(q({},f),d);var h=os(f.allMatrix,[50,50],100,100);a=Y0([h.pos1,h.pos2],h.direction)}var p=3;return q({width:i,height:o,rotation:a,rootMatrix:Yt(p),beforeMatrix:Yt(p),offsetMatrix:Yt(p),allMatrix:Yt(p),targetMatrix:Yt(p),targetTransform:"",transformOrigin:[0,0],targetOrigin:[0,0],is3d:!1,left:0,top:0,right:0,bottom:0,origin:[0,0],pos1:[0,0],pos2:[0,0],pos3:[0,0],pos4:[0,0],direction:1,hasFixed:!1},s)}function YN(t,e,n,r){var i;n===void 0&&(n=e);var o=Oh(t,e),a=o.matrixes,s=o.is3d,l=o.targetMatrix,u=o.transformOrigin,c=o.targetOrigin,f=o.offsetContainer,d=o.hasFixed,h=Oh(f,n,!0),p=h.matrixes,v=h.is3d,m=v||s,g=m?4:3,b=t.tagName.toLowerCase()!=="svg"&&"ownerSVGElement"in t,_=l,w=Yt(g),D=Yt(g),$=Yt(g),E=Yt(g),A=a.length;p.reverse(),a.reverse(),!s&&m&&(_=Ln(_,3,4),qu(a)),!v&&m&&qu(p),p.forEach(function(y){D=kt(D,y.matrix,g)});var O=n||document.body,N=((i=p[0])===null||i===void 0?void 0:i.target)||is(O,O,!0).offsetParent,F=p.slice(1).reduce(function(y,R){return kt(y,R.matrix,g)},Yt(g));a.forEach(function(y,R){if(A-2===R&&($=w.slice()),A-1===R&&(E=w.slice()),!y.matrix){var M=a[R+1],L=UN(y,M,N,g,kt(F,w,g));y.matrix=_o(L,g)}w=kt(w,y.matrix,g)});var S=!b&&s;_||(_=Yt(S?4:3));var G=Js(b&&_.length===16?Ln(_,4,3):_,S);return D=i0(D,g,g),{hasFixed:d,rootMatrix:D,beforeMatrix:$,offsetMatrix:E,allMatrix:w,targetMatrix:_,targetTransform:G,transformOrigin:u,targetOrigin:c,is3d:m}}function Js(t,e){return e===void 0&&(e=t.length>9),"".concat(e?"matrix3d":"matrix","(").concat(o0(t,!e).join(","),")")}function sf(t){var e=t.clientWidth,n=t.clientHeight;if(!t)return{x:0,y:0,width:0,height:0,clientWidth:e,clientHeight:n};var r=t.viewBox,i=r&&r.baseVal||{x:0,y:0,width:0,height:0};return{x:i.x,y:i.y,width:i.width||e,height:i.height||n,clientWidth:e,clientHeight:n}}function XN(t,e){var n=sf(t),r=n.width,i=n.height,o=n.clientWidth,a=n.clientHeight,s=o/r,l=a/i,u=t.preserveAspectRatio.baseVal,c=u.align,f=u.meetOrSlice,d=[0,0],h=[s,l],p=[0,0];if(c!==1){var v=(c-2)%3,m=Math.floor((c-2)/3);d[0]=r*v/2,d[1]=i*m/2;var g=f===2?Math.max(l,s):Math.min(s,l);h[0]=g,h[1]=g,p[0]=(o-r)/2*v,p[1]=(a-i)/2*m}var b=a0(h,e);return b[e*(e-1)]=p[0],b[e*(e-1)+1]=p[1],af(b,e,d)}function WN(t,e){if(!t.getBBox||t.tagName.toLowerCase()==="g")return[0,0,0,0];var n=t.getBBox(),r=sf(t.ownerSVGElement),i=n.x-r.x,o=n.y-r.y;return[i,o,e[0]-i,e[1]-o]}function oe(t,e,n){return Se(t,Ro(e,n),n)}function xi(t,e,n,r){return[[0,0],[e,0],[0,n],[e,n]].map(function(i){return oe(t,i,r)})}function Le(t){var e=t.map(function(u){return u[0]}),n=t.map(function(u){return u[1]}),r=Math.min.apply(Math,e),i=Math.min.apply(Math,n),o=Math.max.apply(Math,e),a=Math.max.apply(Math,n),s=o-r,l=a-i;return{left:r,top:i,right:o,bottom:a,width:s,height:l}}function Ih(t,e,n,r){var i=xi(t,e,n,r);return Le(i)}function UN(t,e,n,r,i){var o,a=t.target,s=t.origin,l=e.matrix,u=H0(a),c=u.offsetWidth,f=u.offsetHeight,d=n.getBoundingClientRect(),h=[0,0];n===document.body&&(h=G0(a,!0));for(var p=a.getBoundingClientRect(),v=p.left-d.left+n.scrollLeft-(n.clientLeft||0)+h[0],m=p.top-d.top+n.scrollTop-(n.clientTop||0)+h[1],g=p.width,b=p.height,_=Nu(r,i,l),w=Ih(_,c,f,r),D=w.left,$=w.top,E=w.width,A=w.height,O=oe(_,s,r),N=St(O,[D,$]),F=[v+N[0]*g/E,m+N[1]*b/A],S=[0,0],G=0;++G<10;){var y=_n(i,r);o=St(oe(y,F,r),oe(y,O,r)),S[0]=o[0],S[1]=o[1];var R=Nu(r,i,_o(S,r),l),M=Ih(R,c,f,r),L=M.left,k=M.top,z=L-v,V=k-m;if(Math.abs(z)<2&&Math.abs(V)<2)break;F[0]-=z,F[1]-=V}return S.map(function(Y){return Math.round(Y)})}function os(t,e,n,r){var i=t.length===16,o=i?4:3,a=xi(t,n,r,o),s=a[0],l=s[0],u=s[1],c=a[1],f=c[0],d=c[1],h=a[2],p=h[0],v=h[1],m=a[3],g=m[0],b=m[1],_=oe(t,e,o),w=_[0],D=_[1],$=Math.min(l,f,p,g),E=Math.min(u,d,v,b),A=Math.max(l,f,p,g),O=Math.max(u,d,v,b);l=l-$||0,f=f-$||0,p=p-$||0,g=g-$||0,u=u-E||0,d=d-E||0,v=v-E||0,b=b-E||0,w=w-$||0,D=D-E||0;var N=Mu(a);return{left:$,top:E,right:A,bottom:O,origin:[w,D],pos1:[l,u],pos2:[f,d],pos3:[p,v],pos4:[g,b],direction:N}}function gn(t){return Math.sqrt(t[0]*t[0]+t[1]*t[1])}function L0(t,e){return gn([e[0]-t[0],e[1]-t[1]])}function Gi(t,e,n,r){n===void 0&&(n=1),r===void 0&&(r=Wt(t,e));var i=L0(t,e);return{transform:"translateY(-50%) translate(".concat(t[0],"px, ").concat(t[1],"px) rotate(").concat(r,"rad) scaleY(").concat(n,")"),width:"".concat(i,"px")}}function V0(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var i=n.length,o=n.reduce(function(s,l){return s+l[0]},0)/i,a=n.reduce(function(s,l){return s+l[1]},0)/i;return{transform:"translateZ(0px) translate(".concat(o,"px, ").concat(a,"px) rotate(").concat(t,"rad) scale(").concat(e,")")}}function qN(t){var e=Ee(t);return[parseFloat(e.width),parseFloat(e.height)]}function H0(t,e){e===void 0&&(e=Ee(t));var n=!$o(t.offsetWidth);if(!n&&t.tagName.toLowerCase()!=="svg"){var r=t.getBBox(),i=r.width,o=r.height;return{svg:!0,offsetWidth:i,offsetHeight:o,clientWidth:i,clientHeight:o,cssWidth:i,cssHeight:o}}else{var a=e.boxSizing==="border-box",s=parseFloat(e.borderLeftWidth)||0,l=parseFloat(e.borderRightWidth)||0,u=parseFloat(e.borderTopWidth)||0,c=parseFloat(e.borderBottomWidth)||0,f=parseFloat(e.paddingLeft)||0,d=parseFloat(e.paddingRight)||0,h=parseFloat(e.paddingTop)||0,p=parseFloat(e.paddingBottom)||0,v=parseFloat(e.width),m=parseFloat(e.height),i=v,o=m,g=v,b=m,_=f+d,w=h+p,D=s+l,$=u+c,E=_+D,A=w+$;return a?(v=i-E,m=o-A):(i=v+E,o=m+A),g=v+_,b=m+w,{svg:!1,offsetWidth:i,offsetHeight:o,clientWidth:g,clientHeight:b,cssWidth:v,cssHeight:m}}}function Y0(t,e){return Wt(e>0?t[0]:t[1],e>0?t[1]:t[0])}function ju(t,e,n,r,i){var o=1,a=[0,0],s=Vl(),l=Vl(),u=Vl(),c=HN(e,n,i);if(e){var f=c.is3d?4:3,d=os(c.offsetMatrix,Dt(c.transformOrigin,BT(c.targetMatrix,f)),c.width,c.height);o=d.direction,a=Dt(d.origin,[d.left-c.left,d.top-c.top]),s=Ca(e),l=Ca(is(r,r,!0).offsetParent||document.body,!0),t&&(u=Ca(t))}return q({targetClientRect:s,containerClientRect:l,moveableClientRect:u,beforeDirection:o,beforeOrigin:a,originalBeforeOrigin:a,target:e},c)}function Vl(){return{left:0,right:0,top:0,bottom:0,width:0,height:0,clientLeft:0,clientTop:0,clientWidth:0,clientHeight:0,scrollWidth:0,scrollHeight:0}}function Ca(t,e){var n,r=0,i=0,o=0,a=0;if(t===document.body||t===document.documentElement){o=window.innerWidth,a=window.innerHeight;var s=LN();n=[-s[0],-s[1]],r=n[0],i=n[1]}else{var l=t.getBoundingClientRect();r=l.left,i=l.top,o=l.width,a=l.height}var u={left:r,right:r+o,top:i,bottom:i+a,width:o,height:a};return e&&(u.clientLeft=t.clientLeft,u.clientTop=t.clientTop,u.clientWidth=t.clientWidth,u.clientHeight=t.clientHeight,u.scrollWidth=t.scrollWidth,u.scrollHeight=t.scrollHeight,u.overflow=Ee(t).overflow!=="visible"),u}function lf(t){if(t){var e=t.getAttribute("data-direction");if(e){var n=[0,0];return e.indexOf("w")>-1&&(n[0]=-1),e.indexOf("e")>-1&&(n[0]=1),e.indexOf("n")>-1&&(n[1]=-1),e.indexOf("s")>-1&&(n[1]=1),n}}}function uf(t,e){return[Dt(e,t[0]),Dt(e,t[1]),Dt(e,t[2]),Dt(e,t[3])]}function Te(t){var e=t.left,n=t.top,r=t.pos1,i=t.pos2,o=t.pos3,a=t.pos4;return uf([r,i,o,a],[e,n])}function jN(t){return Math.round(t%1===-.5?t-1:t)}function Zr(t,e){var n;(n=t[e])===null||n===void 0||n.unset(),t[e]=null}function xt(t,e,n,r){var i=e.datas;i.datas||(i.datas={});var o=q(q({},n),{target:t.state.target,clientX:e.clientX,clientY:e.clientY,inputEvent:e.inputEvent,currentTarget:t,moveable:t,datas:i.datas});return i.isStartEvent?r||(i.lastEvent=o):i.isStartEvent=!0,o}function Ae(t,e,n){var r=e.datas,i="isDrag"in n?n.isDrag:e.isDrag;return r.datas||(r.datas={}),q(q({isDrag:i},n),{moveable:t,target:t.state.target,clientX:e.clientX,clientY:e.clientY,inputEvent:e.inputEvent,currentTarget:t,lastEvent:r.lastEvent,isDouble:e.isDouble,datas:r.datas})}function cf(t,e,n){t._emitter.on(e,n)}function ct(t,e,n,r){return t.triggerEvent(e,n,r)}function Ee(t,e){return window.getComputedStyle(t,e)}function ia(t,e,n){var r={},i={};return t.filter(function(o){var a=o.name;if(r[a]||!e.some(function(s){return o[s]}))return!1;if(!n&&o.ableGroup){if(i[o.ableGroup])return!1;i[o.ableGroup]=!0}return r[a]=!0,!0})}function Ku(t,e){return t===e||t==null&&e==null}function KN(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=t.length-1,r=0;r<n;++r){var i=t[r];if(!$o(i))return i}return t[n]}function ZN(t,e){var n=[],r=[];return t.forEach(function(i,o){var a=e(i,o,t),s=r.indexOf(a),l=n[s]||[];s===-1&&(r.push(a),n.push(l)),l.push(i)}),n}function JN(t,e){var n=[],r={};return t.forEach(function(i,o){var a=e(i,o,t),s=r[a];s||(s=[],r[a]=s,n.push(s)),s.push(i)}),n}function QN(t){return t.reduce(function(e,n){return e.concat(n)},[])}function yi(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return t.sort(function(n,r){return Math.abs(r)-Math.abs(n)}),t[0]}function li(t,e,n){return Se(_n(t,n),Ro(e,n),n)}function tR(t,e){var n,r=t.is3d,i=t.rootMatrix,o=r?4:3;return n=li(i,[e.distX,e.distY],o),e.distX=n[0],e.distY=n[1],e}function oa(t,e,n,r,i){return St(oe(t,Dt(n,e),i),r)}function Xe(t,e,n){return n?"".concat(t/e*100,"%"):"".concat(t,"px")}function as(t){return Math.abs(t)<=Ie?0:t}function bo(t,e){return e.isRequest?e.requestAble==="resizable"||e.requestAble==="scalable"?e.parentDirection:!1:je(e.inputEvent.target,Et("direction"))}function eR(t){var e={};for(var n in t)e[t[n]]=n;return e}function nR(t,e){var n=t.slice(0,e<0?void 0:e),r=t.slice(0,e<0?void 0:e+1),i=t[e]||"",o=e<0?[]:t.slice(e),a=e<0?[]:t.slice(e+1),s=Sr(n),l=Sr(r),u=Sr([i]),c=Sr(o),f=Sr(a),d=qr(s),h=qr(l),p=qr(c),v=qr(f),m=kt(d,p,4);return{transforms:t,beforeFunctionMatrix:d,beforeFunctionMatrix2:h,targetFunctionMatrix:qr(u),afterFunctionMatrix:p,afterFunctionMatrix2:v,allFunctionMatrix:m,beforeFunctions:s,beforeFunctions2:l,targetFunction:u[0],afterFunctions:c,afterFunctions2:f,beforeFunctionTexts:n,beforeFunctionTexts2:r,targetFunctionText:i,afterFunctionTexts:o,afterFunctionTexts2:a}}function rR(t){return!t||!mn(t)||t instanceof Element?!1:Fr(t)||"length"in t}function Qs(t,e){return t?tn(t)?e?document.querySelector(t):t:Lg(t)?t():"current"in t?t.current:t:null}function X0(t,e){if(!t)return[];var n=rR(t)?[].slice.call(t):[t];return n.reduce(function(r,i){return tn(i)&&e?wt(wt([],r,!0),[].slice.call(document.querySelectorAll(i)),!0):(r.push(Qs(i,e)),r)},[])}function iR(t,e){var n=[];return t.forEach(function(r){if(r){if(tn(r)){e[r]&&n.push.apply(n,e[r]);return}n.push(r)}}),n}function oR(t,e,n){var r=Wt(t,e)/Math.PI*180;return r=n>=0?r:180-r,r=r>=0?r:360+r,r}function Ah(t,e){var n=t.rootMatrix,r=t.is3d,i=r?4:3,o=_n(n,i);return r||(o=Ln(o,3,4)),o[12]=0,o[13]=0,o[14]=0,YT(o,e)}function W0(t,e,n,r,i){var o=t[0],a=t[1],s=0,l=0;if(i&&o&&a){var u=Wt([0,0],e),c=Wt([0,0],r),f=gn(e),d=Math.cos(u-c)*f;if(!r[0])l=d,s=l*n;else if(!r[1])s=d,l=s/n;else{var h=r[0]*2*o,p=r[1]*2*a,v=gn([h+e[0],p+e[1]])-gn([h,p]),m=Wt([0,0],[n,1]);s=Math.cos(m)*v,l=Math.sin(m)*v}}else s=r[0]*e[0],l=r[1]*e[1];return[s,l]}function U0(t,e,n,r){var i,o=n.ratio,a=n.startOffsetWidth,s=n.startOffsetHeight,l=0,u=0,c=r.distX,f=r.distY,d=r.parentDistance,h=r.parentDist,p=r.parentScale,v=r.isPinch,m=n.fixedDirection;if(h)l=h[0],u=h[1],e&&(l?u||(u=l/o):l=u*o);else if(p)l=(p[0]-1)*a,u=(p[1]-1)*s;else if(v)d&&(l=d,u=d*s/a);else{var g=xn({datas:n,distX:c,distY:f});g=[0,1].map(function(b){var _=Math.abs(t[b]-m[b]);return _!==0&&(_=2/_),g[b]*_}),i=W0([a,s],g,o,t,e),l=i[0],u=i[1]}return{distWidth:l,distHeight:u}}var aR=Io("pinchable",{events:{onPinchStart:"pinchStart",onPinch:"pinch",onPinchEnd:"pinchEnd",onPinchGroupStart:"pinchGroupStart",onPinchGroup:"pinchGroup",onPinchGroupEnd:"pinchGroupEnd"},dragStart:function(){return!0},pinchStart:function(t,e){var n=e.datas,r=e.targets,i=e.angle,o=e.originalDatas,a=t.props,s=a.pinchable,l=a.ables;if(!s)return!1;var u="onPinch".concat(r?"Group":"","Start"),c="drag".concat(r?"Group":"","ControlStart"),f=(s===!0?t.controlAbles:l.filter(function(v){return s.indexOf(v.name)>-1})).filter(function(v){return v.canPinch&&v[c]}),d=xt(t,e,{});r&&(d.targets=r);var h=ct(t,u,d);n.isPinch=h!==!1,n.ables=f;var p=n.isPinch;return p?(f.forEach(function(v){if(o[v.name]=o[v.name]||{},!!v[c]){var m=q(q({},e),{datas:o[v.name],parentRotate:i,isPinch:!0});v[c](t,m)}}),t.state.snapRenderInfo={request:e.isRequest,direction:[0,0]},p):!1},pinch:function(t,e){var n=e.datas,r=e.scale,i=e.distance,o=e.originalDatas,a=e.inputEvent,s=e.targets,l=e.angle;if(n.isPinch){var u=i*(1-1/r),c=xt(t,e,{});s&&(c.targets=s);var f="onPinch".concat(s?"Group":"");ct(t,f,c);var d=n.ables,h="drag".concat(s?"Group":"","Control");return d.forEach(function(p){p[h]&&p[h](t,q(q({},e),{datas:o[p.name],inputEvent:a,parentDistance:u,parentRotate:l,isPinch:!0}))}),c}},pinchEnd:function(t,e){var n=e.datas,r=e.isPinch,i=e.inputEvent,o=e.targets,a=e.originalDatas;if(n.isPinch){var s="onPinch".concat(o?"Group":"","End"),l=Ae(t,e,{isDrag:r});o&&(l.targets=o),ct(t,s,l);var u=n.ables,c="drag".concat(o?"Group":"","ControlEnd");return u.forEach(function(f){f[c]&&f[c](t,q(q({},e),{isDrag:r,datas:a[f.name],inputEvent:i,isPinch:!0}))}),r}},pinchGroupStart:function(t,e){return this.pinchStart(t,q(q({},e),{targets:t.props.targets}))},pinchGroup:function(t,e){return this.pinch(t,q(q({},e),{targets:t.props.targets}))},pinchGroupEnd:function(t,e){return this.pinchEnd(t,q(q({},e),{targets:t.props.targets}))}}),sR={name:"resizable",ableGroup:"size",canPinch:!0,props:{resizable:Boolean,throttleResize:Number,renderDirections:Array,keepRatio:Boolean,resizeFormat:Function},events:{onResizeStart:"resizeStart",onBeforeResize:"beforeResize",onResize:"resize",onResizeEnd:"resizeEnd",onResizeGroupStart:"resizeGroupStart",onBeforeResizeGroup:"beforeResizeGroup",onResizeGroup:"resizeGroup",onResizeGroupEnd:"resizeGroupEnd"},render:function(t,e){var n=t.props,r=n.resizable,i=n.edge;if(r)return i?b0(t,e):Zc(t,e)},dragControlCondition:bo,dragControlStart:function(t,e){var n,r=e.inputEvent,i=e.isPinch,o=e.parentDirection,a=e.datas,s=e.parentFlag,l=o||(i?[0,0]:lf(r.target)),u=t.state,c=u.target,f=u.width,d=u.height;if(!l||!c)return!1;!i&&Lr(t,e),a.datas={},a.direction=l,a.startOffsetWidth=f,a.startOffsetHeight=d,a.prevWidth=0,a.prevHeight=0,n=qN(c),a.startWidth=n[0],a.startHeight=n[1];var h=[Math.max(0,f-a.startWidth),Math.max(0,d-a.startHeight)];if(a.minSize=h,a.maxSize=[1/0,1/0],!s){var p=Ee(c),v=p.position,m=p.minWidth,g=p.minHeight,b=p.maxWidth,_=p.maxHeight,w=v==="static"||v==="relative",D=w?c.parentElement:c.offsetParent,$=f,E=d;if(D&&($=D.clientWidth,E=D.clientHeight,w)){var A=Ee(D);$-=parseFloat(A.paddingLeft)||0,E-=parseFloat(A.paddingTop)||0}a.minSize=Dt([Ut(m,$)||0,Ut(g,E)||0],h),a.maxSize=Dt([Ut(b,$)||1/0,Ut(_,E)||1/0],h)}var O=t.props.transformOrigin||"% %";a.transformOrigin=tn(O)?O.split(" "):O,a.isWidth=!l[0]&&!l[1]||l[0]||!l[1];function N(y){a.ratio=y&&isFinite(y)?y:0}a.startPositions=Te(t.state);function F(y){a.fixedDirection=y,a.fixedPosition=Qt(a.startPositions,y)}N(f/d),F([-l[0],-l[1]]),a.setFixedDirection=F;var S=xt(t,e,{direction:l,set:function(y){var R=y[0],M=y[1];a.startWidth=R,a.startHeight=M},setMin:function(y){a.minSize=[Ut("".concat(y[0]),0)||0,Ut("".concat(y[1]),0)||0]},setMax:function(y){var R=[y[0]||1/0,y[1]||1/0];(!Cu(R[0])||isFinite(R[0]))&&(R[0]=Ut("".concat(R[0]),0)||1/0),(!Cu(R[1])||isFinite(R[1]))&&(R[1]=Ut("".concat(R[1]),0)||1/0),a.maxSize=R},setRatio:N,setFixedDirection:F,setOrigin:function(y){a.transformOrigin=y},dragStart:_e.dragStart(t,new Ao().dragStart([0,0],e))}),G=ct(t,"onResizeStart",S);return G!==!1&&(a.isResize=!0,t.state.snapRenderInfo={request:e.isRequest,direction:l}),a.isResize?S:!1},dragControl:function(t,e){var n,r=e.datas,i=e.parentFlag,o=e.isPinch,a=e.parentKeepRatio,s=e.dragClient,l=e.parentDist,u=e.isRequest,c=r.isResize,f=r.transformOrigin,d=r.startWidth,h=r.startHeight,p=r.prevWidth,v=r.prevHeight,m=r.minSize,g=r.maxSize,b=r.ratio,_=r.isWidth,w=r.startOffsetWidth,D=r.startOffsetHeight;if(!c)return;var $=t.props,E=$.resizeFormat,A=$.throttleResize,O=A===void 0?1:A,N=$.parentMoveable,F=r.direction,S=F,G=0,y=0;!F[0]&&!F[1]&&(S=[1,1]);var R=b&&(a??$.keepRatio)||!1;function M(){var it=U0(S,R,r,e);G=it.distWidth,y=it.distHeight;var at=S[0]||R?Math.max(w+G,Ie):w,ot=S[1]||R?Math.max(D+y,Ie):D;return R&&w&&D&&(_?ot=at/b:at=ot*b),[at,ot]}var L=M(),k=L[0],z=L[1];r.setFixedDirection(r.fixedDirection),ct(t,"onBeforeResize",xt(t,e,{setFixedDirection:function(it){var at;return r.setFixedDirection(it),at=M(),k=at[0],z=at[1],[k,z]},boundingWidth:k,boundingHeight:z,setSize:function(it){k=it[0],z=it[1]}},!0));var V=s;s||(!i&&o?V=z0(t,[0,0]):V=r.fixedPosition);var Y=[0,0];o||(Y=xN(t,k,z,F,V,u,r)),l&&(!l[0]&&(Y[0]=0),!l[1]&&(Y[1]=0));function j(){var it;E&&(it=E([k,z]),k=it[0],z=it[1]),k=$t(k,O),z=$t(z,O)}if(R){S[0]&&S[1]&&Y[0]&&Y[1]&&(Math.abs(Y[0])>Math.abs(Y[1])?Y[1]=0:Y[0]=0);var rt=!Y[0]&&!Y[1];rt&&j(),S[0]&&!S[1]||Y[0]&&!Y[1]||rt&&_?(k+=Y[0],z=k/b):(!S[0]&&S[1]||!Y[0]&&Y[1]||rt&&!_)&&(z+=Y[1],k=z*b)}else k+=Y[0],z+=Y[1],k=Math.max(0,k),z=Math.max(0,z);n=uT([k,z],m,g,b),k=n[0],z=n[1],j(),G=k-w,y=z-D;var Z=[G-p,y-v];r.prevWidth=G,r.prevHeight=y;var J=AN(t,k,z,r.fixedDirection,V,f);if(!(!N&&Z.every(function(it){return!it})&&J.every(function(it){return!it}))){var tt=xt(t,e,{width:d+G,height:h+y,offsetWidth:Math.round(k),offsetHeight:Math.round(z),boundingWidth:k,boundingHeight:z,direction:F,dist:[G,y],delta:Z,isPinch:!!o,drag:_e.drag(t,Hs(e,t.state,J,!!o))});return ct(t,"onResize",tt),tt}},dragControlAfter:function(t,e){var n=e.datas,r=n.isResize,i=n.startOffsetWidth,o=n.startOffsetHeight,a=n.prevWidth,s=n.prevHeight;if(r){var l=t.state,u=l.width,c=l.height,f=u-(i+a),d=c-(o+s),h=Math.abs(f)>3,p=Math.abs(d)>3;if(h&&(n.startWidth+=f,n.startOffsetWidth+=f,n.prevWidth+=f),p&&(n.startHeight+=d,n.startOffsetHeight+=d,n.prevHeight+=d),h||p)return this.dragControl(t,e)}},dragControlEnd:function(t,e){var n=e.datas;if(n.isResize){n.isResize=!1;var r=Ae(t,e,{});return ct(t,"onResizeEnd",r),r}},dragGroupControlCondition:bo,dragGroupControlStart:function(t,e){var n=e.datas,r=this.dragControlStart(t,e);if(!r)return!1;var i=fr(t,"resizable",e);function o(c,f){var d=n.fixedDirection,h=n.fixedPosition,p=f.datas.startPositions||Te(c.state),v=Qt(p,d),m=Se(mi(-t.rotation/180*Math.PI,3),[v[0]-h[0],v[1]-h[1],1],3),g=m[0],b=m[1];return f.datas.originalX=g,f.datas.originalY=b,f}var a=An(t,this,"dragControlStart",e,function(c,f){return o(c,f)}),s=function(c){r.setFixedDirection(c),a.forEach(function(f,d){f.setFixedDirection(c),o(f.moveable,i[d])})};n.setFixedDirection=s;var l=q(q({},r),{targets:t.props.targets,events:a,setFixedDirection:s}),u=ct(t,"onResizeGroupStart",l);return n.isResize=u!==!1,n.isResize?r:!1},dragGroupControl:function(t,e){var n=e.datas;if(n.isResize){cf(t,"onBeforeResize",function(d){ct(t,"onBeforeResizeGroup",xt(t,e,q(q({},d),{targets:t.props.targets}),!0))});var r=this.dragControl(t,e);if(r){var i=r.boundingWidth,o=r.boundingHeight,a=r.dist,s=t.props.keepRatio,l=[i/(i-a[0]),o/(o-a[1])],u=n.fixedPosition,c=An(t,this,"dragControl",e,function(d,h){var p=Se(mi(t.rotation/180*Math.PI,3),[h.datas.originalX*l[0],h.datas.originalY*l[1],1],3),v=p[0],m=p[1];return q(q({},h),{parentDist:null,parentScale:l,dragClient:Dt(u,[v,m]),parentKeepRatio:s})}),f=q({targets:t.props.targets,events:c},r);return ct(t,"onResizeGroup",f),f}}},dragGroupControlEnd:function(t,e){var n=e.isDrag,r=e.datas;if(r.isResize){this.dragControlEnd(t,e);var i=An(t,this,"dragControlEnd",e),o=Ae(t,e,{targets:t.props.targets,events:i});return ct(t,"onResizeGroupEnd",o),n}},request:function(t){var e={},n=0,r=0,i=t.getRect();return{isControl:!0,requestStart:function(o){return{datas:e,parentDirection:o.direction||[1,1]}},request:function(o){return"offsetWidth"in o?n=o.offsetWidth-i.offsetWidth:"deltaWidth"in o&&(n+=o.deltaWidth),"offsetHeight"in o?r=o.offsetHeight-i.offsetHeight:"deltaHeight"in o&&(r+=o.deltaHeight),{datas:e,parentDist:[n,r],parentKeepRatio:o.keepRatio}},requestEnd:function(){return{datas:e,isDrag:!0}}}}},lR={name:"scalable",ableGroup:"size",canPinch:!0,props:{scalable:Boolean,throttleScale:Number,renderDirections:String,keepRatio:Boolean},events:{onScaleStart:"scaleStart",onBeforeScale:"beforeScale",onScale:"scale",onScaleEnd:"scaleEnd",onScaleGroupStart:"scaleGroupStart",onBeforeScaleGroup:"beforeScaleGroup",onScaleGroup:"scaleGroup",onScaleGroupEnd:"scaleGroupEnd"},render:function(t,e){var n=t.props,r=n.resizable,i=n.scalable,o=n.edge;if(!r&&i)return o?b0(t,e):Zc(t,e)},dragControlCondition:bo,dragControlStart:function(t,e){var n=e.datas,r=e.isPinch,i=e.inputEvent,o=e.parentDirection,a=o||(r?[0,0]:lf(i.target)),s=t.state,l=s.width,u=s.height,c=s.targetTransform,f=s.target,d=s.pos1,h=s.pos2,p=s.pos4;if(!a||!f)return!1;r||Lr(t,e),n.datas={},n.transform=c,n.prevDist=[1,1],n.direction=a,n.startOffsetWidth=l,n.startOffsetHeight=u,n.startValue=[1,1];var v=On(d,h),m=On(h,p),g=!a[0]&&!a[1]||a[0]||!a[1];n.scaleWidth=v,n.scaleHeight=m,n.scaleXRatio=v/l,n.scaleYRatio=m/u,Zs(e,"scale"),n.isWidth=g;function b($){n.ratio=$&&isFinite($)?$:0}n.startPositions=Te(t.state);function _($){n.fixedDirection=$,n.fixedPosition=Qt(n.startPositions,$)}n.setFixedDirection=_,b(On(d,h)/On(h,p)),_([-a[0],-a[1]]);var w=xt(t,e,q(q({direction:a,set:function($){n.startValue=$},setRatio:b,setFixedDirection:_},Ks(e)),{dragStart:_e.dragStart(t,new Ao().dragStart([0,0],e))})),D=ct(t,"onScaleStart",w);return D!==!1&&(n.isScale=!0,t.state.snapRenderInfo={request:e.isRequest,direction:a}),n.isScale?w:!1},dragControl:function(t,e){Us(e,"scale");var n=e.datas,r=e.parentKeepRatio,i=e.parentFlag,o=e.isPinch,a=e.dragClient,s=e.isRequest,l=n.prevDist,u=n.direction,c=n.startOffsetWidth,f=n.startOffsetHeight,d=n.isScale,h=n.startValue,p=n.isWidth,v=n.ratio;if(!d)return!1;var m=t.props,g=m.throttleScale,b=m.parentMoveable,_=u;!u[0]&&!u[1]&&(_=[1,1]);var w=v&&(r??m.keepRatio)||!1,D=t.state;function $(){var Y=U0(_,w,n,e),j=Y.distWidth,rt=Y.distHeight,Z=(c+j)/c,J=(f+rt)/f;return Z=_[0]||w?Z*h[0]:h[0],J=_[1]||w?J*h[1]:h[1],Z===0&&(Z=(l[0]>0?1:-1)*ra),J===0&&(J=(l[1]>0?1:-1)*ra),[Z,J]}var E=$();if(!o&&t.props.groupable){var A=D.snapRenderInfo||{},O=A.direction;Fr(O)&&(O[0]||O[1])&&(D.snapRenderInfo={direction:u,request:e.isRequest})}ct(t,"onBeforeScale",xt(t,e,{scale:E,setFixedDirection:function(Y){return n.setFixedDirection(Y),E=$(),E},setScale:function(Y){E=Y}},!0));var N=[E[0]/h[0],E[1]/h[1]],F=a,S=[0,0];if(a||(!i&&o?F=z0(t,[0,0]):F=n.fixedPosition),o||(S=SN(t,N,u,s,n)),w){_[0]&&_[1]&&S[0]&&S[1]&&(Math.abs(S[0]*c)>Math.abs(S[1]*f)?S[1]=0:S[0]=0);var G=!S[0]&&!S[1];if(G&&(p?N[0]=$t(N[0]*h[0],g)/h[0]:N[1]=$t(N[1]*h[1],g)/h[1]),_[0]&&!_[1]||S[0]&&!S[1]||G&&p){N[0]+=S[0];var y=c*N[0]*h[0]/v;N[1]=y/f/h[1]}else if(!_[0]&&_[1]||!S[0]&&S[1]||G&&!p){N[1]+=S[1];var R=f*N[1]*h[1]*v;N[0]=R/c/h[0]}}else N[0]+=S[0],N[1]+=S[1],S[0]||(N[0]=$t(N[0]*h[0],g)/h[0]),S[1]||(N[1]=$t(N[1]*h[1],g)/h[1]);N[0]===0&&(N[0]=(l[0]>0?1:-1)*ra),N[1]===0&&(N[1]=(l[1]>0?1:-1)*ra);var M=[N[0]/l[0],N[1]/l[1]];E=kN(N,h);var L=ON(t,N,n.fixedDirection,F,n),k=St(L,n.prevInverseDist||[0,0]);if(n.prevDist=N,n.prevInverseDist=L,E[0]===l[0]&&E[1]===l[1]&&k.every(function(Y){return!Y})&&!b)return!1;var z=qs(n,"scale(".concat(E.join(", "),")"),"scale(".concat(N.join(", "),")")),V=xt(t,e,q({offsetWidth:c,offsetHeight:f,direction:u,scale:E,dist:N,delta:M,isPinch:!!o},I0(t,z,k,o,e)));return ct(t,"onScale",V),V},dragControlEnd:function(t,e){var n=e.datas,r=e.isDrag;return n.isScale?(n.isScale=!1,ct(t,"onScaleEnd",Ae(t,e,{})),r):!1},dragGroupControlCondition:bo,dragGroupControlStart:function(t,e){var n=e.datas,r=this.dragControlStart(t,e);if(!r)return!1;var i=fr(t,"resizable",e);function o(c,f){var d=n.fixedDirection,h=n.fixedPosition,p=f.datas.startPositions||Te(c.state),v=Qt(p,d),m=Se(mi(-t.rotation/180*Math.PI,3),[v[0]-h[0],v[1]-h[1],1],3),g=m[0],b=m[1];return f.datas.originalX=g,f.datas.originalY=b,f}n.moveableScale=t.scale;var a=An(t,this,"dragControlStart",e,function(c,f){return o(c,f)}),s=function(c){r.setFixedDirection(c),a.forEach(function(f,d){f.setFixedDirection(c),o(f.moveable,i[d])})};n.setFixedDirection=s;var l=q(q({},r),{targets:t.props.targets,events:a,setFixedDirection:s}),u=ct(t,"onScaleGroupStart",l);return n.isScale=u!==!1,n.isScale?l:!1},dragGroupControl:function(t,e){var n=e.datas;if(n.isScale){cf(t,"onBeforeScale",function(f){ct(t,"onBeforeScaleGroup",xt(t,e,q(q({},f),{targets:t.props.targets}),!0))});var r=this.dragControl(t,e);if(r){var i=n.moveableScale;t.scale=[r.scale[0]*i[0],r.scale[1]*i[1]];var o=t.props.keepRatio,a=r.dist,s=r.scale,l=n.fixedPosition,u=An(t,this,"dragControl",e,function(f,d){var h=Se(mi(t.rotation/180*Math.PI,3),[d.datas.originalX*a[0],d.datas.originalY*a[1],1],3),p=h[0],v=h[1];return q(q({},d),{parentDist:null,parentScale:s,parentKeepRatio:o,dragClient:Dt(l,[p,v])})}),c=q({targets:t.props.targets,events:u},r);return ct(t,"onScaleGroup",c),c}}},dragGroupControlEnd:function(t,e){var n=e.isDrag,r=e.datas;if(r.isScale){this.dragControlEnd(t,e);var i=An(t,this,"dragControlEnd",e),o=Ae(t,e,{targets:t.props.targets,events:i});return ct(t,"onScaleGroupEnd",o),n}},request:function(){var t={},e=0,n=0;return{isControl:!0,requestStart:function(r){return{datas:t,parentDirection:r.direction||[1,1]}},request:function(r){return e+=r.deltaWidth,n+=r.deltaHeight,{datas:t,parentDist:[e,n],parentKeepRatio:r.keepRatio}},requestEnd:function(){return{datas:t,isDrag:!0}}}}};function Un(t,e){return t.map(function(n,r){return rT(n,e[r],1,2)})}function kh(t,e,n){var r=Wt(t,e),i=Wt(t,n),o=i-r;return o>=0?o:o+2*Math.PI}function uR(t,e){var n=kh(t[0],t[1],t[2]),r=kh(e[0],e[1],e[2]),i=Math.PI;return!(n>=i&&r<=i||n<=i&&r>=i)}var cR={name:"warpable",ableGroup:"size",props:{warpable:Boolean,renderDirections:Array},events:{onWarpStart:"warpStart",onWarp:"warp",onWarpEnd:"warpEnd"},render:function(t,e){var n=t.props,r=n.resizable,i=n.scalable,o=n.warpable,a=n.zoom;if(r||i||!o)return[];var s=t.state,l=s.pos1,u=s.pos2,c=s.pos3,f=s.pos4,d=Un(l,u),h=Un(u,l),p=Un(l,c),v=Un(c,l),m=Un(c,f),g=Un(f,c),b=Un(u,f),_=Un(f,u);return wt([e.createElement("div",{className:Et("line"),key:"middeLine1",style:Gi(d,m,a)}),e.createElement("div",{className:Et("line"),key:"middeLine2",style:Gi(h,g,a)}),e.createElement("div",{className:Et("line"),key:"middeLine3",style:Gi(p,b,a)}),e.createElement("div",{className:Et("line"),key:"middeLine4",style:Gi(v,_,a)})],Zc(t,e),!0)},dragControlCondition:function(t,e){return e.isRequest?!1:je(e.inputEvent.target,Et("direction"))},dragControlStart:function(t,e){var n=e.datas,r=e.inputEvent,i=t.props.target,o=r.target,a=lf(o);if(!a||!i)return!1;var s=t.state,l=s.transformOrigin,u=s.is3d,c=s.targetTransform,f=s.targetMatrix,d=s.width,h=s.height,p=s.left,v=s.top;n.datas={},n.targetTransform=c,n.warpTargetMatrix=u?f:Ln(f,3,4),n.targetInverseMatrix=i0(_n(n.warpTargetMatrix,4),3,4),n.direction=a,n.left=p,n.top=v,n.poses=[[0,0],[d,0],[0,h],[d,h]].map(function(b){return St(b,l)}),n.nextPoses=n.poses.map(function(b){var _=b[0],w=b[1];return Se(n.warpTargetMatrix,[_,w,0,1],4)}),n.startValue=Yt(4),n.prevMatrix=Yt(4),n.absolutePoses=Te(s),n.posIndexes=R0(a),Lr(t,e),Zs(e,"matrix3d"),s.snapRenderInfo={request:e.isRequest,direction:a};var m=xt(t,e,q({set:function(b){n.startValue=b}},Ks(e))),g=ct(t,"onWarpStart",m);return g!==!1&&(n.isWarp=!0),n.isWarp},dragControl:function(t,e){var n=e.datas,r=e.isRequest,i=e.distX,o=e.distY,a=n.targetInverseMatrix,s=n.prevMatrix,l=n.isWarp,u=n.startValue,c=n.poses,f=n.posIndexes,d=n.absolutePoses;if(!l)return!1;if(Us(e,"matrix3d"),wi(t,"warpable")){var h=f.map(function(O){return d[O]});h.length>1&&h.push([(h[0][0]+h[1][0])/2,(h[0][1]+h[1][1])/2]);var p=Ws(t,r,{horizontal:h.map(function(O){return O[1]+o}),vertical:h.map(function(O){return O[0]+i})}),v=p.horizontal,m=p.vertical;o-=v.offset,i-=m.offset}var g=xn({datas:n,distX:i,distY:o},!0),b=n.nextPoses.slice();if(f.forEach(function(O){b[O]=Dt(b[O],g)}),!IP.every(function(O){return uR(O.map(function(N){return c[N]}),O.map(function(N){return b[N]}))}))return!1;var _=qc(c[0],c[2],c[1],c[3],b[0],b[2],b[1],b[3]);if(!_.length)return!1;var w=kt(a,_,4),D=P0(n,w,!0),$=kt(_n(s,4),D,4);n.prevMatrix=D;var E=kt(u,D,4),A=qs(n,"matrix3d(".concat(E.join(", "),")"),"matrix3d(".concat(D.join(", "),")"));return of(e,A),ct(t,"onWarp",xt(t,e,{delta:$,matrix:E,dist:D,multiply:kt,transform:A})),!0},dragControlEnd:function(t,e){var n=e.datas,r=e.isDrag;return n.isWarp?(n.isWarp=!1,ct(t,"onWarpEnd",Ae(t,e,{})),r):!1}},fR=Et("area-pieces"),aa=Et("area-piece"),q0=Et("avoid");function Hl(t){var e=t.areaElement;if(e){var n=t.state,r=n.width,i=n.height;hT(e,q0),e.style.cssText+="left: 0px; top: 0px; width: ".concat(r,"px; height: ").concat(i,"px")}}function Bh(t){return t.createElement("div",{key:"area_pieces",className:fR},t.createElement("div",{className:aa}),t.createElement("div",{className:aa}),t.createElement("div",{className:aa}),t.createElement("div",{className:aa}))}var j0={name:"dragArea",props:{dragArea:Boolean,passDragArea:Boolean},events:{onClick:"click",onClickGroup:"clickGroup"},render:function(t,e){var n=t.props,r=n.target,i=n.dragArea,o=n.groupable,a=n.passDragArea,s=t.state,l=s.width,u=s.height,c=s.renderPoses,f=a?Et("area","pass"):Et("area");if(o)return[e.createElement("div",{key:"area",ref:vn(t,"areaElement"),className:f}),Bh(e)];if(!r||!i)return[];var d=qc([0,0],[l,0],[0,u],[l,u],c[0],c[1],c[2],c[3]),h=d.length?Js(d,!0):"none";return[e.createElement("div",{key:"area",ref:vn(t,"areaElement"),className:f,style:{top:"0px",left:"0px",width:"".concat(l,"px"),height:"".concat(u,"px"),transformOrigin:"0 0",transform:h}}),Bh(e)]},dragStart:function(t,e){var n=e.datas,r=e.clientX,i=e.clientY,o=e.inputEvent;if(!o)return!1;n.isDragArea=!1;var a=t.areaElement,s=t.state,l=s.moveableClientRect,u=s.renderPoses,c=s.rootMatrix,f=s.is3d,d=l.left,h=l.top,p=Le(u),v=p.left,m=p.top,g=p.width,b=p.height,_=f?4:3,w=li(c,[r-d,i-h],_),D=w[0],$=w[1];D-=v,$-=m;var E=[{left:v,top:m,width:g,height:$-10},{left:v,top:m,width:D-10,height:b},{left:v,top:m+$+10,width:g,height:b-$-10},{left:v+D+10,top:m,width:g-D-10,height:b}],A=[].slice.call(a.nextElementSibling.children);E.forEach(function(O,N){A[N].style.cssText="left: ".concat(O.left,"px;top: ").concat(O.top,"px; width: ").concat(O.width,"px; height: ").concat(O.height,"px;")}),dT(a,q0),s.disableNativeEvent=!0},drag:function(t,e){var n=e.datas,r=e.inputEvent;if(this.enableNativeEvent(t),!r)return!1;n.isDragArea||(n.isDragArea=!0,Hl(t))},dragEnd:function(t,e){this.enableNativeEvent(t);var n=e.inputEvent,r=e.datas;if(!n)return!1;r.isDragArea||Hl(t)},dragGroupStart:function(t,e){return this.dragStart(t,e)},dragGroup:function(t,e){return this.drag(t,e)},dragGroupEnd:function(t,e){return this.dragEnd(t,e)},unset:function(t){Hl(t),t.state.disableNativeEvent=!1},enableNativeEvent:function(t){var e=t.state;e.disableNativeEvent&&Lc(function(){e.disableNativeEvent=!1})}},dR=Io("origin",{render:function(t,e){var n=t.props.zoom,r=t.state,i=r.beforeOrigin,o=r.rotation;return[e.createElement("div",{className:Et("control","origin"),style:V0(o,n,i),key:"beforeOrigin"})]}});function hR(t){var e=t.scrollContainer;return[e.scrollLeft,e.scrollTop]}var pR={name:"scrollable",canPinch:!0,props:{scrollable:Boolean,scrollContainer:Object,scrollThreshold:Number,getScrollPosition:Function},events:{onScroll:"scroll",onScrollGroup:"scrollGroup"},dragRelation:"strong",dragStart:function(t,e){var n=t.props,r=n.scrollContainer,i=r===void 0?t.getContainer():r,o=new lP,a=Qs(i,!0);e.datas.dragScroll=o;var s=e.isControl?"controlGesto":"targetGesto",l=e.targets;o.on("scroll",function(u){var c=u.container,f=u.direction,d=xt(t,e,{scrollContainer:c,direction:f}),h=l?"onScrollGroup":"onScroll";l&&(d.targets=l),ct(t,h,d)}).on("move",function(u){var c=u.offsetX,f=u.offsetY;t[s].scrollBy(c,f,e.inputEvent,!1)}),o.dragStart(e,{container:a})},checkScroll:function(t,e){var n=e.datas.dragScroll;if(n){var r=t.props,i=r.scrollContainer,o=i===void 0?t.getContainer():i,a=r.scrollThreshold,s=a===void 0?0:a,l=r.getScrollPosition,u=l===void 0?hR:l;return n.drag(e,{container:o,threshold:s,getScrollPosition:function(c){return u({scrollContainer:c.container,direction:c.direction})}}),!0}},drag:function(t,e){return this.checkScroll(t,e)},dragEnd:function(t,e){e.datas.dragScroll.dragEnd(),e.datas.dragScroll=null},dragControlStart:function(t,e){return this.dragStart(t,q(q({},e),{isControl:!0}))},dragControl:function(t,e){return this.drag(t,e)},dragControlEnd:function(t,e){return this.dragEnd(t,e)},dragGroupStart:function(t,e){return this.dragStart(t,q(q({},e),{targets:t.props.targets}))},dragGroup:function(t,e){return this.drag(t,q(q({},e),{targets:t.props.targets}))},dragGroupEnd:function(t,e){return this.dragEnd(t,q(q({},e),{targets:t.props.targets}))},dragGroupControlStart:function(t,e){return this.dragStart(t,q(q({},e),{targets:t.props.targets,isControl:!0}))},dragGroupContro:function(t,e){return this.drag(t,q(q({},e),{targets:t.props.targets}))},dragGroupControEnd:function(t,e){return this.dragEnd(t,q(q({},e),{targets:t.props.targets}))}},K0={name:"",props:{target:Object,dragTarget:Object,container:Object,portalContainer:Object,rootContainer:Object,useResizeObserver:Boolean,zoom:Number,transformOrigin:Array,edge:Boolean,ables:Array,className:String,pinchThreshold:Number,pinchOutside:Boolean,triggerAblesSimultaneously:Boolean,checkInput:Boolean,cspNonce:String,translateZ:Number,hideDefaultLines:Boolean,props:Object},events:{}},vR=Io("padding",{render:function(t,e){var n=t.props;if(n.dragArea)return[];var r=n.padding||{},i=r.left,o=i===void 0?0:i,a=r.top,s=a===void 0?0:a,l=r.right,u=l===void 0?0:l,c=r.bottom,f=c===void 0?0:c,d=t.state,h=d.renderPoses,p=d.pos1,v=d.pos2,m=d.pos3,g=d.pos4,b=[p,v,m,g],_=[];return o>0&&_.push([0,2]),s>0&&_.push([0,1]),u>0&&_.push([1,3]),f>0&&_.push([2,3]),_.map(function(w,D){var $=w[0],E=w[1],A=b[$],O=b[E],N=h[$],F=h[E],S=qc([0,0],[100,0],[0,100],[100,100],A,O,N,F);if(S.length)return e.createElement("div",{key:"padding".concat(D),className:Et("padding"),style:{transform:Js(S,!0)}})})}}),zh=["nw","ne","se","sw"];function sa(t,e){var n=t[0]+t[1],r=n>e?e/n:1;return t[0]*=r,t[1]=e-t[1]*r,t}var gR=[1,2,5,6],mR=[0,3,4,7],Er=[1,-1,-1,1],Cr=[1,1,-1,-1];function ff(t,e,n,r,i,o,a,s,l){o===void 0&&(o=0),a===void 0&&(a=0),s===void 0&&(s=r),l===void 0&&(l=i);var u=[],c=!1,f=t.map(function(d,h){var p=e[h],v=p.horizontal,m=p.vertical;if(m&&!c&&(c=!0,u.push("/")),c){var g=Math.max(0,m===1?d[1]-a:l-d[1]);return u.push(Xe(g,i,n)),g}else{var g=Math.max(0,v===1?d[0]-o:s-d[0]);return u.push(Xe(g,r,n)),g}});return{styles:u,raws:f}}function Z0(t){for(var e=[0,0],n=[0,0],r=t.length,i=0;i<r;++i){var o=t[i];o.sub&&(o.horizontal&&(e[1]===0&&(e[0]=i),e[1]=i-e[0]+1,n[0]=i+1),o.vertical&&(n[1]===0&&(n[0]=i),n[1]=i-n[0]+1))}return{horizontalRange:e,verticalRange:n}}function J0(t,e,n,r,i,o){var a,s,l,u;o===void 0&&(o=[0,0]);var c=t.indexOf("/"),f=(c>-1?t.slice(0,c):t).length,d=t.slice(0,f),h=t.slice(f+1),p=d[0],v=p===void 0?"0px":p,m=d[1],g=m===void 0?v:m,b=d[2],_=b===void 0?v:b,w=d[3],D=w===void 0?g:w,$=h[0],E=$===void 0?v:$,A=h[1],O=A===void 0?E:A,N=h[2],F=N===void 0?E:N,S=h[3],G=S===void 0?O:S,y=[v,g,_,D].map(function(V){return Ut(V,e)}),R=[E,O,F,G].map(function(V){return Ut(V,n)}),M=y.slice(),L=R.slice();a=sa([M[0],M[1]],e),M[0]=a[0],M[1]=a[1],s=sa([M[3],M[2]],e),M[3]=s[0],M[2]=s[1],l=sa([L[0],L[3]],n),L[0]=l[0],L[3]=l[1],u=sa([L[1],L[2]],n),L[1]=u[0],L[2]=u[1];var k=M.slice(0,Math.max(o[0],d.length)),z=L.slice(0,Math.max(o[1],h.length));return wt(wt([],k.map(function(V,Y){var j=zh[Y];return{horizontal:Er[Y],vertical:0,pos:[r+V,i+(Cr[Y]===-1?n:0)],sub:!0,raw:y[Y],direction:j}}),!0),z.map(function(V,Y){var j=zh[Y];return{horizontal:0,vertical:Cr[Y],pos:[r+(Er[Y]===-1?e:0),i+V],sub:!0,raw:R[Y],direction:j}}),!0)}function Q0(t,e,n,r,i){i===void 0&&(i=e.length);var o=Z0(t.slice(r)),a=o.horizontalRange,s=o.verticalRange,l=n-r,u=0;if(l===0)u=i;else if(l>0&&l<a[1])u=a[1]-l;else if(l>=s[0])u=s[0]+s[1]-l;else return;t.splice(n,u),e.splice(n,u)}function tm(t,e,n,r,i,o,a,s,l,u,c){u===void 0&&(u=0),c===void 0&&(c=0);var f=Z0(t.slice(n)),d=f.horizontalRange,h=f.verticalRange;if(r>-1)for(var p=Er[r]===1?o-u:s-o,v=d[1];v<=r;++v){var m=Cr[v]===1?c:l,g=0;if(r===v?g=o:v===0?g=u+p:Er[v]===-1&&(g=s-(e[n][0]-u)),t.splice(n+v,0,{horizontal:Er[v],vertical:0,pos:[g,m]}),e.splice(n+v,0,[g,m]),v===0)break}else if(i>-1){var b=Cr[i]===1?a-c:l-a;if(d[1]===0&&h[1]===0){var _=[u+b,c];t.push({horizontal:Er[0],vertical:0,pos:_}),e.push(_)}for(var w=h[0],v=h[1];v<=i;++v){var g=Er[v]===1?u:s,m=0;if(i===v?m=a:v===0?m=c+b:Cr[v]===1?m=e[n+w][1]:Cr[v]===-1&&(m=l-(e[n+w][1]-c)),t.push({horizontal:0,vertical:Cr[v],pos:[g,m]}),e.push([g,m]),v===0)break}}}function em(t,e){e===void 0&&(e=t.map(function(i){return i.raw}));var n=t.map(function(i,o){return i.horizontal?e[o]:null}).filter(function(i){return i!=null}),r=t.map(function(i,o){return i.vertical?e[o]:null}).filter(function(i){return i!=null});return{horizontals:n,verticals:r}}var yR=[[0,-1,"n"],[1,0,"e"]],_R=[[-1,-1,"nw"],[0,-1,"n"],[1,-1,"ne"],[1,0,"e"],[1,1,"se"],[0,1,"s"],[-1,1,"sw"],[-1,0,"w"]];function df(t,e,n){var r=t.props.clipRelative,i=t.state,o=i.width,a=i.height,s=e,l=s.type,u=s.poses,c=l==="rect",f=l==="circle";if(l==="polygon")return n.map(function($){return"".concat(Xe($[0],o,r)," ").concat(Xe($[1],a,r))});if(c||l==="inset"){var d=n[1][1],h=n[3][0],p=n[7][0],v=n[5][1];if(c)return[d,h,v,p].map(function($){return"".concat($,"px")});var m=[d,o-h,a-v,p].map(function($,E){return Xe($,E%2?o:a,r)});if(n.length>8){var g=St(n[4],n[0]),b=g[0],_=g[1];m.push.apply(m,wt(["round"],ff(n.slice(8),u.slice(8),r,b,_,p,d,h,v).styles,!1))}return m}else if(f||l==="ellipse"){var w=n[0],D=Xe(Math.abs(n[1][1]-w[1]),f?Math.sqrt((o*o+a*a)/2):a,r),m=f?[D]:[Xe(Math.abs(n[2][0]-w[0]),o,r),D];return m.push("at",Xe(w[0],o,r),Xe(w[1],a,r)),m}}function ss(t,e,n,r){var i=[r,(r+e)/2,e],o=[t,(t+n)/2,n];return _R.map(function(a){var s=a[0],l=a[1],u=a[2],c=i[s+1],f=o[l+1];return{vertical:Math.abs(l),horizontal:Math.abs(s),direction:u,pos:[c,f]}})}function nm(t){var e=[1/0,-1/0],n=[1/0,-1/0];return t.forEach(function(r){var i=r.pos;e[0]=Math.min(e[0],i[0]),e[1]=Math.max(e[1],i[0]),n[0]=Math.min(n[0],i[1]),n[1]=Math.max(n[1],i[1])}),[Math.abs(e[1]-e[0]),Math.abs(n[1]-n[0])]}function bR(t,e,n,r,i){var o=t[e],a=o.direction,s=o.sub,l=t.map(function(){return[0,0]}),u=a?a.split(""):[];if(r&&e<8){var c=u.filter(function(G){return G==="w"||G==="e"}),f=u.filter(function(G){return G==="n"||G==="s"}),d=c[0],h=f[0];l[e]=n;var p=nm(t),v=p[0],m=p[1],g=v&&m?v/m:0;if(g&&i){var b=(e+4)%8,_=t[b].pos,w=[0,0];a.indexOf("w")>-1?w[0]=-1:a.indexOf("e")>-1&&(w[0]=1),a.indexOf("n")>-1?w[1]=-1:a.indexOf("s")>-1&&(w[1]=1);var D=W0([v,m],n,g,w,!0),$=v+D[0],E=m+D[1],A=_[1],O=_[1],N=_[0],F=_[0];w[0]===-1?N=F-$:w[0]===1?F=N+$:(N=N-$/2,F=F+$/2),w[1]===-1?A=O-E:(w[1]===1||(A=O-E/2),O=A+E);var S=ss(A,F,O,N);t.forEach(function(G,y){l[y][0]=S[y].pos[0]-G.pos[0],l[y][1]=S[y].pos[1]-G.pos[1]})}else t.forEach(function(G,y){var R=G.direction;R&&(R.indexOf(d)>-1&&(l[y][0]=n[0]),R.indexOf(h)>-1&&(l[y][1]=n[1]))}),d&&(l[1][0]=n[0]/2,l[5][0]=n[0]/2),h&&(l[3][1]=n[1]/2,l[7][1]=n[1]/2)}else a&&!s?u.forEach(function(G){var y=G==="n"||G==="s";t.forEach(function(R,M){var L=R.direction,k=R.horizontal,z=R.vertical;!L||L.indexOf(G)===-1||(l[M]=[y||!k?0:n[0],!y||!z?0:n[1]])})}):l[e]=n;return l}function Fh(t,e,n,r,i){var o,a,s,l,u,c,f,d=i;if(!d){var h=Ee(t),p=h.clipPath;d=p!=="none"?p:h.clip}if(!((!d||d==="none"||d==="auto")&&(d=r,!d))){var v=Yg(d),m=v.prefix,g=m===void 0?d:m,b=v.value,_=b===void 0?"":b,w=g==="circle",D=" ";if(g==="polygon"){var $=$r(_||"0% 0%, 100% 0%, 100% 100%, 0% 100%");D=",";var E=$.map(function(T){var H=T.split(" "),X=H[0],U=H[1];return{vertical:1,horizontal:1,pos:[Ut(X,e),Ut(U,n)]}});return{type:g,clipText:d,poses:E,splitter:D}}else if(w||g==="ellipse"){var A="",O="",N=0,F=0,$=cr(_);if(w){var S="";o=$[0],S=o===void 0?"50%":o,a=$[2],A=a===void 0?"50%":a,s=$[3],O=s===void 0?"50%":s,N=Ut(S,Math.sqrt((e*e+n*n)/2)),F=N}else{var G="",y="";l=$[0],G=l===void 0?"50%":l,u=$[1],y=u===void 0?"50%":u,c=$[3],A=c===void 0?"50%":c,f=$[4],O=f===void 0?"50%":f,N=Ut(G,e),F=Ut(y,n)}var R=[Ut(A,e),Ut(O,n)],E=wt([{vertical:1,horizontal:1,pos:R,direction:"nesw"}],yR.slice(0,w?1:2).map(function(X){return{vertical:Math.abs(X[1]),horizontal:X[0],direction:X[2],sub:!0,pos:[R[0]+X[0]*N,R[1]+X[1]*F]}}),!0);return{type:g,clipText:d,radiusX:N,radiusY:F,left:R[0]-N,top:R[1]-F,poses:E,splitter:D}}else if(g==="inset"){var $=cr(_||"0 0 0 0"),M=$.indexOf("round"),L=(M>-1?$.slice(0,M):$).length,k=$.slice(L+1),z=$.slice(0,L),V=z[0],Y=z[1],j=Y===void 0?V:Y,rt=z[2],Z=rt===void 0?V:rt,J=z[3],tt=J===void 0?j:J,it=[V,Z].map(function(X){return Ut(X,n)}),at=it[0],ot=it[1],dt=[tt,j].map(function(X){return Ut(X,e)}),lt=dt[0],I=dt[1],B=e-I,x=n-ot,C=J0(k,B-lt,x-at,lt,at),E=wt(wt([],ss(at,B,x,lt),!0),C,!0);return{type:"inset",clipText:d,poses:E,top:at,left:lt,right:B,bottom:x,radius:k,splitter:D}}else if(g==="rect"){var $=$r(_||"0px, ".concat(e,"px, ").concat(n,"px, 0px"));D=",";var P=$.map(function(K){var nt=To(K).value;return nt}),at=P[0],I=P[1],ot=P[2],lt=P[3],E=ss(at,I,ot,lt);return{type:"rect",clipText:d,poses:E,top:at,right:I,bottom:ot,left:lt,values:$,splitter:D}}}}function wR(t,e){var n=T0(t,e),r=n[0],i=n[1],o=e.datas,a=o.clipPath,s=o.clipIndex,l=a,u=l.type,c=l.poses,f=l.splitter,d=c.map(function(g){return g.pos});if(u==="polygon")d.splice(s,0,[r,i]);else if(u==="inset"){var h=gR.indexOf(s),p=mR.indexOf(s),v=c.length;if(tm(c,d,8,h,p,r,i,d[4][0],d[4][1],d[0][0],d[0][1]),v===c.length)return}else return;var m=df(t,a,d);ct(t,"onClip",xt(t,e,{clipEventType:"added",clipType:u,poses:d,clipStyles:m,clipStyle:"".concat(u,"(").concat(m.join(f),")"),distX:0,distY:0}))}function xR(t,e){var n=e.datas,r=n.clipPath,i=n.clipIndex,o=r,a=o.type,s=o.poses,l=o.splitter,u=s.map(function(d){return d.pos}),c=u.length;if(a==="polygon")s.splice(i,1),u.splice(i,1);else if(a==="inset"){if(i<8||(Q0(s,u,i,8,c),c===s.length))return}else return;var f=df(t,r,u);ct(t,"onClip",xt(t,e,{clipEventType:"removed",clipType:a,poses:u,clipStyles:f,clipStyle:"".concat(a,"(").concat(f.join(l),")"),distX:0,distY:0}))}var SR={name:"clippable",props:{clippable:Boolean,defaultClipPath:String,customClipPath:String,keepRatio:Boolean,clipRelative:Boolean,clipArea:Boolean,dragWithClip:Boolean,clipTargetBounds:Boolean,clipVerticalGuidelines:Array,clipHorizontalGuidelines:Array,clipSnapThreshold:Boolean},events:{onClipStart:"clipStart",onClip:"clip",onClipEnd:"clipEnd"},css:[`.control.clip-control {
    background: #6d6;
    cursor: pointer;
}
.control.clip-control.clip-radius {
    background: #d66;
}
.line.clip-line {
    background: #6e6;
    cursor: move;
    z-index: 1;
}
.clip-area {
    position: absolute;
    top: 0;
    left: 0;
}
.clip-ellipse {
    position: absolute;
    cursor: move;
    border: 1px solid #6d6;
    border: var(--zoompx) solid #6d6;
    border-radius: 50%;
    transform-origin: 0px 0px;
}`,`:host {
    --bounds-color: #d66;
}`,`.guideline {
    pointer-events: none;
    z-index: 2;
}`,`.line.guideline.bounds {
    background: #d66;
    background: var(--bounds-color);
}`],render:function(t,e){var n=t.props,r=n.customClipPath,i=n.defaultClipPath,o=n.clipArea,a=n.zoom,s=t.state,l=s.target,u=s.width,c=s.height,f=s.allMatrix,d=s.is3d,h=s.left,p=s.top,v=s.pos1,m=s.pos2,g=s.pos3,b=s.pos4,_=s.clipPathState,w=s.snapBoundInfos,D=s.rotation;if(!l)return[];var $=Fh(l,u,c,i||"inset",_||r);if(!$)return[];var E=d?4:3,A=$.type,O=$.poses,N=O.map(function(x){var C=oe(f,x.pos,E);return[C[0]-h,C[1]-p]}),F=[],S=[],G=A==="rect",y=A==="inset",R=A==="polygon";if(G||y||R){var M=y?N.slice(0,8):N;S=M.map(function(x,C){var P=C===0?M[M.length-1]:M[C-1],T=Wt(P,x),H=L0(P,x);return e.createElement("div",{key:"clipLine".concat(C),className:Et("line","clip-line","snap-control"),"data-clip-index":C,style:{width:"".concat(H,"px"),transform:"translate(".concat(P[0],"px, ").concat(P[1],"px) rotate(").concat(T,"rad) scaleY(").concat(a,")")}})})}if(F=N.map(function(x,C){return e.createElement("div",{key:"clipControl".concat(C),className:Et("control","clip-control","snap-control"),"data-clip-index":C,style:{transform:"translate(".concat(x[0],"px, ").concat(x[1],"px) rotate(").concat(D,"rad) scale(").concat(a,")")}})}),y&&F.push.apply(F,N.slice(8).map(function(x,C){return e.createElement("div",{key:"clipRadiusControl".concat(C),className:Et("control","clip-control","clip-radius","snap-control"),"data-clip-index":8+C,style:{transform:"translate(".concat(x[0],"px, ").concat(x[1],"px) rotate(").concat(D,"rad) scale(").concat(a,")")}})})),A==="circle"||A==="ellipse"){var L=$.left,k=$.top,z=$.radiusX,V=$.radiusY,Y=St(oe(f,[L,k],E),oe(f,[0,0],E)),j=Y[0],rt=Y[1],Z="none";if(!o){for(var J=Math.max(10,z/5,V/5),tt=[],it=0;it<=J;++it){var at=Math.PI*2/J*it;tt.push([z+(z-a)*Math.cos(at),V+(V-a)*Math.sin(at)])}tt.push([z,-2]),tt.push([-2,-2]),tt.push([-2,V*2+2]),tt.push([z*2+2,V*2+2]),tt.push([z*2+2,-2]),tt.push([z,-2]),Z="polygon(".concat(tt.map(function(x){return"".concat(x[0],"px ").concat(x[1],"px")}).join(", "),")")}F.push(e.createElement("div",{key:"clipEllipse",className:Et("clip-ellipse","snap-control"),style:{width:"".concat(z*2,"px"),height:"".concat(V*2,"px"),clipPath:Z,transform:"translate(".concat(-h+j,"px, ").concat(-p+rt,"px) ").concat(Js(f))}}))}if(o){var ot=Le(wt([v,m,g,b],N,!0)),dt=ot.width,lt=ot.height,I=ot.left,B=ot.top;if(R||G||y){var tt=y?N.slice(0,8):N;F.push(e.createElement("div",{key:"clipArea",className:Et("clip-area","snap-control"),style:{width:"".concat(dt,"px"),height:"".concat(lt,"px"),transform:"translate(".concat(I,"px, ").concat(B,"px)"),clipPath:"polygon(".concat(tt.map(function(C){return"".concat(C[0]-I,"px ").concat(C[1]-B,"px")}).join(", "),")")}}))}}return w&&["vertical","horizontal"].forEach(function(x){var C=w[x],P=x==="horizontal";C.isSnap&&S.push.apply(S,C.snap.posInfos.map(function(T,H){var X=T.pos,U=St(oe(f,P?[0,X]:[X,0],E),[h,p]),W=St(oe(f,P?[u,X]:[X,c],E),[h,p]);return Kr(e,"",U,W,a,"clip".concat(x,"snap").concat(H),"guideline")})),C.isBound&&S.push.apply(S,C.bounds.map(function(T,H){var X=T.pos,U=St(oe(f,P?[0,X]:[X,0],E),[h,p]),W=St(oe(f,P?[u,X]:[X,c],E),[h,p]);return Kr(e,"",U,W,a,"clip".concat(x,"bounds").concat(H),"guideline","bounds","bold")}))}),wt(wt([],F,!0),S,!0)},dragControlCondition:function(t,e){return e.inputEvent&&(e.inputEvent.target.getAttribute("class")||"").indexOf("clip")>-1},dragStart:function(t,e){var n=t.props,r=n.dragWithClip,i=r===void 0?!0:r;return i?!1:this.dragControlStart(t,e)},drag:function(t,e){return this.dragControl(t,q(q({},e),{isDragTarget:!0}))},dragEnd:function(t,e){return this.dragControlEnd(t,e)},dragControlStart:function(t,e){var n=t.state,r=t.props,i=r.defaultClipPath,o=r.customClipPath,a=n.target,s=n.width,l=n.height,u=e.inputEvent?e.inputEvent.target:null,c=u&&u.getAttribute("class")||"",f=e.datas,d=Fh(a,s,l,i||"inset",o);if(!d)return!1;var h=d.clipText,p=d.type,v=d.poses,m=ct(t,"onClipStart",xt(t,e,{clipType:p,clipStyle:h,poses:v.map(function(g){return g.pos})}));return m===!1?(f.isClipStart=!1,!1):(f.isControl=c&&c.indexOf("clip-control")>-1,f.isLine=c.indexOf("clip-line")>-1,f.isArea=c.indexOf("clip-area")>-1||c.indexOf("clip-ellipse")>-1,f.clipIndex=u?parseInt(u.getAttribute("data-clip-index"),10):-1,f.clipPath=d,f.isClipStart=!0,n.clipPathState=h,Lr(t,e),!0)},dragControl:function(t,e){var n,r=e.datas,i=e.originalDatas,o=e.isDragTarget;if(!r.isClipStart)return!1;var a=r,s=a.isControl,l=a.isLine,u=a.isArea,c=a.clipIndex,f=a.clipPath;if(!f)return!1;var d=t.props.keepRatio,h=0,p=0,v=i.draggable,m=xn(e);o&&v?(n=v.prevBeforeDist,h=n[0],p=n[1]):(h=m[0],p=m[1]);var g=[h,p],b=t.props,_=t.state,w=_.width,D=_.height,$=!u&&!s&&!l,E=f.type,A=f.poses,O=f.splitter,N=A.map(function(zt){return zt.pos});$&&(h=-h,p=-p);var F=!s||A[c].direction==="nesw",S=E==="inset"||E==="rect",G=A.map(function(){return[0,0]});if(s&&!F){var y=A[c],R=y.horizontal,M=y.vertical,L=[h*Math.abs(R),p*Math.abs(M)];G=bR(A,c,L,S,d)}else F&&(G=N.map(function(){return[h,p]}));var k=N.map(function(zt,me){return Dt(zt,G[me])}),z=wt([],k,!0);_.snapBoundInfos=null;var V=f.type==="circle",Y=f.type==="ellipse";if(V||Y){var j=Le(k),rt=Math.abs(j.bottom-j.top),Z=Math.abs(Y?j.right-j.left:rt),J=k[0][1]+rt,tt=k[0][0]-Z,it=k[0][0]+Z;V&&(z.push([it,j.bottom]),G.push([1,0])),z.push([j.left,J]),G.push([0,1]),z.push([tt,j.bottom]),G.push([1,0])}var at=w0((b.clipHorizontalGuidelines||[]).map(function(zt){return Ut("".concat(zt),D)}),(b.clipVerticalGuidelines||[]).map(function(zt){return Ut("".concat(zt),w)}),w,D),ot=[],dt=[];if(V||Y)ot=[z[4][0],z[2][0]],dt=[z[1][1],z[3][1]];else if(S){var lt=[z[0],z[2],z[4],z[6]],I=[G[0],G[2],G[4],G[6]];ot=lt.filter(function(zt,me){return I[me][0]}).map(function(zt){return zt[0]}),dt=lt.filter(function(zt,me){return I[me][1]}).map(function(zt){return zt[1]})}else ot=z.filter(function(zt,me){return G[me][0]}).map(function(zt){return zt[0]}),dt=z.filter(function(zt,me){return G[me][1]}).map(function(zt){return zt[1]});var B=[0,0],x=$h(at,b.clipTargetBounds&&{left:0,top:0,right:w,bottom:D},ot,dt,5),C=x.horizontal,P=x.vertical,T=C.offset,H=P.offset;if(C.isBound&&(B[1]+=T),P.isBound&&(B[0]+=H),(Y||V)&&G[0][0]===0&&G[0][1]===0){var j=Le(k),X=j.bottom-j.top,U=Y?j.right-j.left:X,W=P.isBound?Math.abs(H):P.snapIndex===0?-H:H,Q=C.isBound?Math.abs(T):C.snapIndex===0?-T:T;U-=W,X-=Q,V&&(X=S0(P,C)>0?X:U,U=X);var K=z[0];z[1][1]=K[1]-X,z[2][0]=K[0]+U,z[3][1]=K[1]+X,z[4][0]=K[0]-U}else if(S&&d&&s){var nt=nm(A),st=nt[0],mt=nt[1],Tt=st&&mt?st/mt:0,Pt=A[c],jt=Pt.direction||"",ne=z[1][1],J=z[5][1],tt=z[7][0],it=z[3][0];T<=H?T=H/Tt:H=T*Tt,jt.indexOf("w")>-1?tt-=H:jt.indexOf("e")>-1?it-=H:(tt+=H/2,it-=H/2),jt.indexOf("n")>-1?ne-=T:jt.indexOf("s")>-1?J-=T:(ne+=T/2,J-=T/2);var ke=ss(ne,it,J,tt);z.forEach(function(_f,fm){var el;el=ke[fm].pos,_f[0]=el[0],_f[1]=el[1]})}else z.forEach(function(zt,me){var yf=G[me];yf[0]&&(zt[0]-=H),yf[1]&&(zt[1]-=T)});var Pe=df(t,f,k),Yn="".concat(E,"(").concat(Pe.join(O),")");if(_.clipPathState=Yn,V||Y)ot=[z[4][0],z[2][0]],dt=[z[1][1],z[3][1]];else if(S){var lt=[z[0],z[2],z[4],z[6]];ot=lt.map(function(me){return me[0]}),dt=lt.map(function(me){return me[1]})}else ot=z.map(function(zt){return zt[0]}),dt=z.map(function(zt){return zt[1]});if(_.snapBoundInfos=$h(at,b.clipTargetBounds&&{left:0,top:0,right:w,bottom:D},ot,dt,1),v){var ko=_.is3d,ge=_.allMatrix,Be=ko?4:3,Vr=B;o&&(Vr=[g[0]+B[0]-m[0],g[1]+B[1]-m[1]]),v.deltaOffset=kt(ge,[Vr[0],Vr[1],0,0],Be)}return ct(t,"onClip",xt(t,e,{clipEventType:"changed",clipType:E,poses:k,clipStyle:Yn,clipStyles:Pe,distX:h,distY:p})),!0},dragControlEnd:function(t,e){this.unset(t);var n=e.isDrag,r=e.datas,i=e.isDouble,o=r.isLine,a=r.isClipStart,s=r.isControl;return a?(ct(t,"onClipEnd",Ae(t,e,{})),i&&(s?xR(t,e):o&&wR(t,e)),i||n):!1},unset:function(t){t.state.clipPathState="",t.state.snapBoundInfos=null}},ER={name:"originDraggable",props:{originDraggable:Boolean,originRelative:Boolean},events:{onDragOriginStart:"dragOriginStart",onDragOrigin:"dragOrigin",onDragOriginEnd:"dragOriginEnd"},css:[`:host[data-able-origindraggable] .control.origin {
    pointer-events: auto;
}`],dragControlCondition:function(t,e){return e.isRequest?e.requestAble==="originDraggable":je(e.inputEvent.target,Et("origin"))},dragControlStart:function(t,e){var n=e.datas;Lr(t,e);var r=xt(t,e,{dragStart:_e.dragStart(t,new Ao().dragStart([0,0],e))}),i=ct(t,"onDragOriginStart",r);return n.startOrigin=t.state.transformOrigin,n.startTargetOrigin=t.state.targetOrigin,n.prevOrigin=[0,0],n.isDragOrigin=!0,i===!1?(n.isDragOrigin=!1,!1):r},dragControl:function(t,e){var n=e.datas,r=e.isPinch,i=e.isRequest;if(!n.isDragOrigin)return!1;var o=xn(e),a=o[0],s=o[1],l=t.state,u=l.width,c=l.height,f=l.offsetMatrix,d=l.targetMatrix,h=l.is3d,p=t.props.originRelative,v=p===void 0?!0:p,m=h?4:3,g=[a,s];if(i){var b=e.distOrigin;(b[0]||b[1])&&(g=b)}var _=Dt(n.startOrigin,g),w=Dt(n.startTargetOrigin,g),D=St(g,n.prevOrigin),$=js(f,d,_,m),E=t.getRect(),A=Le(xi($,u,c,m)),O=[E.left-A.left,E.top-A.top];n.prevOrigin=g;var N=[Xe(w[0],u,v),Xe(w[1],c,v)].join(" "),F=xt(t,e,{width:u,height:c,origin:_,dist:g,delta:D,transformOrigin:N,drag:_e.drag(t,Hs(e,t.state,O,!!r))});return ct(t,"onDragOrigin",F),F},dragControlEnd:function(t,e){var n=e.datas;return n.isDragOrigin?(ct(t,"onDragOriginEnd",Ae(t,e,{})),!0):!1},dragGroupControlCondition:function(t,e){return this.dragControlCondition(t,e)},dragGroupControlStart:function(t,e){var n=this.dragControlStart(t,e);return!!n},dragGroupControl:function(t,e){var n=this.dragControl(t,e);return n?(t.transformOrigin=n.transformOrigin,!0):!1},request:function(t){var e={},n=t.getRect(),r=0,i=0,o=n.transformOrigin,a=[0,0];return{isControl:!0,requestStart:function(){return{datas:e}},request:function(s){return"deltaOrigin"in s?(a[0]+=s.deltaOrigin[0],a[1]+=s.deltaOrigin[1]):"origin"in s?(a[0]=s.origin[0]-o[0],a[1]=s.origin[1]-o[1]):("x"in s?r=s.x-n.left:"deltaX"in s&&(r+=s.deltaX),"y"in s?i=s.y-n.top:"deltaY"in s&&(i+=s.deltaY)),{datas:e,distX:r,distY:i,distOrigin:a}},requestEnd:function(){return{datas:e,isDrag:!0}}}}};function CR(t,e,n,r,i,o,a){var s=em(t),l=s.horizontals,u=s.verticals,c=l.length,f=u.length,d=-1,h=-1;n===0?c===0?d=0:c===1&&(d=1):n===3&&(c<=2?d=2:c<=3&&(d=3)),n===2?f===0?h=0:f<4&&(h=3):n===1&&(f<=1?h=1:f<=2&&(h=2)),tm(t,e,0,d,h,r,i,o,a)}function Gh(t,e,n,r,i){r===void 0&&(r=[0,0]);var o,a=[];if(i)o=i;else{var s=Ee(t);o=s&&s.borderRadius||""}return!o||!i&&o==="0px"?a=[]:a=cr(o),J0(a,e,n,0,0,r)}function Lh(t,e,n,r,i,o){var a=t.state,s=a.width,l=a.height,u=ff(o,i,t.props.roundRelative,s,l),c=u.raws,f=u.styles,d=em(i,c),h=d.horizontals,p=d.verticals,v=f.join(" ");a.borderRadiusState=v,ct(t,"onRound",xt(t,e,{horizontals:h,verticals:p,borderRadius:v,width:s,height:l,delta:r,dist:n}))}var MR={name:"roundable",props:{roundable:Boolean,roundRelative:Boolean,minRoundControls:Array,maxRoundControls:Array,roundClickable:Boolean},events:{onRoundStart:"roundStart",onRound:"round",onRoundEnd:"roundEnd"},css:[`.control.border-radius {
    background: #d66;
    cursor: pointer;
}`,`:host[data-able-roundable] .line.direction {
    cursor: pointer;
}`],render:function(t,e){var n=t.state,r=n.target,i=n.width,o=n.height,a=n.allMatrix,s=n.is3d,l=n.left,u=n.top,c=n.borderRadiusState,f=t.props,d=f.minRoundControls,h=d===void 0?[0,0]:d,p=f.maxRoundControls,v=p===void 0?[4,4]:p,m=f.zoom;if(!r)return null;var g=s?4:3,b=Gh(r,i,o,h,c);if(!b)return null;var _=0,w=0;return b.map(function(D,$){w+=Math.abs(D.horizontal),_+=Math.abs(D.vertical);var E=St(oe(a,D.pos,g),[l,u]),A=D.vertical?_<=v[1]:w<=v[0];return e.createElement("div",{key:"borderRadiusControl".concat($),className:Et("control","border-radius"),"data-radius-index":$,style:{display:A?"block":"none",transform:"translate(".concat(E[0],"px, ").concat(E[1],"px) scale(").concat(m,")")}})})},dragControlCondition:function(t,e){if(!e.inputEvent||e.isRequest)return!1;var n=e.inputEvent.target.getAttribute("class")||"";return n.indexOf("border-radius")>-1||n.indexOf("moveable-line")>-1&&n.indexOf("moveable-direction")>-1},dragControlStart:function(t,e){var n=e.inputEvent,r=e.datas,i=n.target,o=i.getAttribute("class")||"",a=o.indexOf("border-radius")>-1,s=o.indexOf("moveable-line")>-1&&o.indexOf("moveable-direction")>-1,l=a?parseInt(i.getAttribute("data-radius-index"),10):-1,u=s?parseInt(i.getAttribute("data-line-index"),10):-1;if(!a&&!s)return!1;var c=ct(t,"onRoundStart",xt(t,e,{}));if(c===!1)return!1;r.lineIndex=u,r.controlIndex=l,r.isControl=a,r.isLine=s,Lr(t,e);var f=t.props,d=f.roundRelative,h=f.minRoundControls,p=h===void 0?[0,0]:h,v=t.state,m=v.target,g=v.width,b=v.height;r.isRound=!0,r.prevDist=[0,0];var _=Gh(m,g,b,p)||[];return r.controlPoses=_,v.borderRadiusState=ff(_.map(function(w){return w.pos}),_,d,g,b).styles.join(" "),!0},dragControl:function(t,e){var n=e.datas;if(!n.isRound||!n.isControl||!n.controlPoses.length)return!1;var r=n.controlIndex,i=n.controlPoses,o=xn(e),a=o[0],s=o[1],l=[a,s],u=St(l,n.prevDist),c=t.props.maxRoundControls,f=c===void 0?[4,4]:c,d=t.state,h=d.width,p=d.height,v=i[r],m=v.vertical,g=v.horizontal,b=i.map(function(w){var D=w.horizontal,$=w.vertical,E=[D*g*l[0],$*m*l[1]];if(D){if(f[0]===1)return E;if(f[0]<4&&D!==g)return E}else{if(f[1]===0)return E[1]=$*g*l[0]/h*p,E;if(m){if(f[1]===1)return E;if(f[1]<4&&$!==m)return E}}return[0,0]});b[r]=l;var _=i.map(function(w,D){return Dt(w.pos,b[D])});return n.prevDist=[a,s],Lh(t,e,l,u,i,_),!0},dragControlEnd:function(t,e){var n=t.state;n.borderRadiusState="";var r=e.datas,i=e.isDouble;if(!r.isRound)return!1;var o=n.width,a=n.height,s=r.isControl,l=r.controlIndex,u=r.isLine,c=r.lineIndex,f=r.controlPoses,d=f.map(function(_){return _.pos}),h=d.length,p=t.props.roundClickable,v=p===void 0?!0:p;if(i&&v){if(s)Q0(f,d,l,0);else if(u){var m=T0(t,e),g=m[0],b=m[1];CR(f,d,c,g,b,o,a)}h!==f.length&&Lh(t,e,[0,0],[0,0],f,d)}return ct(t,"onRoundEnd",Ae(t,e,{})),n.borderRadiusState="",!0},unset:function(t){t.state.borderRadiusState=""}};function DR(t,e){var n=e?"matrix3d(".concat(Yt(4)):"matrix(".concat(Yt(3),")");return t===n||t==="matrix(1,0,0,1,0,0)"}var rm={isPinch:!0,name:"beforeRenderable",props:{},events:{onBeforeRenderStart:"beforeRenderStart",onBeforeRender:"beforeRender",onBeforeRenderEnd:"beforeRenderEnd",onBeforeRenderGroupStart:"beforeRenderGroupStart",onBeforeRenderGroup:"beforeRenderGroup",onBeforeRenderGroupEnd:"beforeRenderGroupEnd"},dragRelation:"weak",setTransform:function(t,e){var n=t.state,r=n.is3d,i=n.target,o=n.targetMatrix,a=i==null?void 0:i.style.transform,s=r?"matrix3d(".concat(o.join(","),")"):"matrix(".concat(o0(o,!0),")"),l=!a||a==="none"?s:a;e.datas.startTransforms=DR(l,r)?[]:cr(l)},resetTransform:function(t){t.datas.nextTransforms=t.datas.startTransforms,t.datas.nextTransformAppendedIndexes=[]},fillDragStartParams:function(t,e){return xt(t,e,{setTransform:function(n){e.datas.startTransforms=Fr(n)?n:cr(n)},isPinch:!!e.isPinch})},fillDragParams:function(t,e){return xt(t,e,{isPinch:!!e.isPinch})},dragStart:function(t,e){this.setTransform(t,e),ct(t,"onBeforeRenderStart",this.fillDragStartParams(t,e))},drag:function(t,e){this.resetTransform(e),ct(t,"onBeforeRender",xt(t,e,{isPinch:!!e.isPinch}))},dragEnd:function(t,e){ct(t,"onBeforeRenderEnd",xt(t,e,{isPinch:!!e.isPinch,isDrag:e.isDrag}))},dragGroupStart:function(t,e){var n=this;this.dragStart(t,e);var r=fr(t,"beforeRenderable",e),i=t.moveables,o=r.map(function(a,s){var l=i[s];return n.setTransform(l,a),n.fillDragStartParams(l,a)});ct(t,"onBeforeRenderGroupStart",xt(t,e,{isPinch:!!e.isPinch,targets:t.props.targets,setTransform:function(){},events:o}))},dragGroup:function(t,e){var n=this;this.drag(t,e);var r=fr(t,"beforeRenderable",e),i=t.moveables,o=r.map(function(a,s){var l=i[s];return n.resetTransform(a),n.fillDragParams(l,a)});ct(t,"onBeforeRenderGroup",xt(t,e,{isPinch:!!e.isPinch,targets:t.props.targets,events:o}))},dragGroupEnd:function(t,e){this.dragEnd(t,e),ct(t,"onBeforeRenderGroupEnd",xt(t,e,{isPinch:!!e.isPinch,isDrag:e.isDrag,targets:t.props.targets}))},dragControlStart:function(t,e){return this.dragStart(t,e)},dragControl:function(t,e){return this.drag(t,e)},dragControlEnd:function(t,e){return this.dragEnd(t,e)},dragGroupControlStart:function(t,e){return this.dragGroupStart(t,e)},dragGroupControl:function(t,e){return this.dragGroup(t,e)},dragGroupControlEnd:function(t,e){return this.dragGroupEnd(t,e)}},im={name:"renderable",props:{},events:{onRenderStart:"renderStart",onRender:"render",onRenderEnd:"renderEnd",onRenderGroupStart:"renderGroupStart",onRenderGroup:"renderGroup",onRenderGroupEnd:"renderGroupEnd"},dragRelation:"weak",dragStart:function(t,e){ct(t,"onRenderStart",xt(t,e,{isPinch:!!e.isPinch}))},drag:function(t,e){ct(t,"onRender",this.fillDragParams(t,e))},dragAfter:function(t,e){if(e.resultCount)return this.drag(t,e)},dragEnd:function(t,e){ct(t,"onRenderEnd",this.fillDragEndParams(t,e))},dragGroupStart:function(t,e){ct(t,"onRenderGroupStart",xt(t,e,{isPinch:!!e.isPinch,targets:t.props.targets}))},dragGroup:function(t,e){var n=this,r=fr(t,"beforeRenderable",e),i=t.moveables,o=r.map(function(a,s){var l=i[s];return n.fillDragParams(l,a)});ct(t,"onRenderGroup",xt(t,e,{isPinch:!!e.isPinch,targets:t.props.targets,transform:Rh(e),events:o}))},dragGroupEnd:function(t,e){var n=this,r=fr(t,"beforeRenderable",e),i=t.moveables,o=r.map(function(a,s){var l=i[s];return n.fillDragEndParams(l,a)});ct(t,"onRenderGroupEnd",xt(t,e,{isPinch:!!e.isPinch,isDrag:e.isDrag,targets:t.props.targets,events:o}))},dragControlStart:function(t,e){return this.dragStart(t,e)},dragControl:function(t,e){return this.drag(t,e)},dragControlAfter:function(t,e){return this.dragAfter(t,e)},dragControlEnd:function(t,e){return this.dragEnd(t,e)},dragGroupControlStart:function(t,e){return this.dragGroupStart(t,e)},dragGroupControl:function(t,e){return this.dragGroup(t,e)},dragGroupControlEnd:function(t,e){return this.dragGroupEnd(t,e)},fillDragParams:function(t,e){return xt(t,e,{isPinch:!!e.isPinch,transform:Rh(e)})},fillDragEndParams:function(t,e){return xt(t,e,{isPinch:!!e.isPinch,isDrag:e.isDrag})}};function Ki(t,e,n,r,i,o,a){var s=i==="Start",l=t.state.target,u=o.isRequest;if(!l||s&&r.indexOf("Control")>-1&&!u&&t.areaElement===o.inputEvent.target)return!1;var c="".concat(n).concat(r).concat(i),f="".concat(n).concat(r,"Condition"),d=i==="End",h=i==="After",p=s&&(!t.targetGesto||!t.controlGesto||!t.targetGesto.isFlag()||!t.controlGesto.isFlag());p&&t.updateRect(i,!0,!1),i===""&&!u&&tR(t.state,o);var v=wt([],t[e],!0);if(u){var m=o.requestAble;v.some(function(O){return O.name===m})||v.push.apply(v,t.props.ables.filter(function(O){return O.name===m}))}if(!v.length)return!1;var g=wt(wt([rm],v,!0),[im],!1).filter(function(O){return O[c]}),b=o.datas;p&&g.forEach(function(O){O.unset&&O.unset(t)});var _=o.inputEvent,w;d&&_&&(w=document.elementFromPoint(o.clientX,o.clientY)||_.target);var D=0,$=g.filter(function(O){var N=O.name,F=b[N]||(b[N]={});if(s&&(F.isEventStart=!O[f]||O[f](t,o)),F.isEventStart){var S=O[c](t,q(q({},o),{resultCount:D,datas:F,originalDatas:b,inputTarget:w}));return t._emitter.off(),s&&S===!1&&(F.isEventStart=!1),D+=S?1:0,S}return!1}),E=$.length,A=!1;return s&&g.length&&!E&&(A=g.filter(function(O){var N=O.name,F=b[N];return F.isEventStart?O.dragRelation==="strong"?(F.isEventStart=!1,!1):!0:!1}).length===0),(d||A)&&(t.state.gesto=null,t.moveables&&t.moveables.forEach(function(O){O.state.gesto=null})),p&&A&&g.forEach(function(O){O.unset&&O.unset(t)}),s&&!u&&E&&(o==null||o.preventDefault()),t.isUnmounted||A?!1:((!s&&E&&!a||d)&&(t.updateRect(d?i:"",!0,!1),t.forceUpdate()),!s&&!d&&!h&&E&&!a&&Ki(t,e,n,r,i+"After",o),!0)}function om(t,e,n){var r=t.controlBox.getElement(),i=[];i.push(r),(!t.props.dragArea||t.props.dragTarget)&&i.push(e);var o=function(a){var s=a.inputEvent.target,l=t.areaElement;return s===l||!t.isMoveableElement(s)&&!t.controlBox.getElement().contains(s)||je(s,"moveable-area")||je(s,"moveable-padding")};return hf(t,i,"targetAbles",n,{dragStart:o,pinchStart:o})}function hf(t,e,n,r,i){i===void 0&&(i={});var o=t.props,a=o.pinchOutside,s=o.pinchThreshold,l={preventDefault:!1,container:window,pinchThreshold:s,pinchOutside:a},u=new vP(e,l);return["drag","pinch"].forEach(function(c){["Start","","End"].forEach(function(f){u.on("".concat(c).concat(f),function(d){var h=d.eventType;if(i[h]&&!i[h](d)){d.stop();return}var p=Ki(t,n,c,r,f,d);p||d.stop()})})}),u}var $R=function(){function t(n,r,i){var o=this;this.target=n,this.moveable=r,this.eventName=i,this.ables=[],this._onEvent=function(a){var s=o.eventName,l=o.moveable;l.state.disableNativeEvent||o.ables.forEach(function(u){u[s](l,{inputEvent:a})})},n.addEventListener(i.toLowerCase(),this._onEvent)}var e=t.prototype;return e.setAbles=function(n){this.ables=n},e.destroy=function(){this.target.removeEventListener(this.eventName.toLowerCase(),this._onEvent),this.target=null,this.moveable=null},t}(),_i=function(t){Oo(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.state=q({container:null,gesto:null,renderPoses:[[0,0],[0,0],[0,0],[0,0]],disableNativeEvent:!1},ju(null)),r.enabledAbles=[],r.targetAbles=[],r.controlAbles=[],r.rotation=0,r.scale=[1,1],r.isUnmounted=!1,r.events={mouseEnter:null,mouseLeave:null},r._emitter=new DP,r._prevTarget=null,r._prevDragArea=!1,r._observer=null,r._observerId=0,r.onPreventClick=function(i){i.stopPropagation(),Ce(window,"click",r.onPreventClick,!0)},r.checkUpdateRect=function(){if(!r.isDragging()){var i=r.props.parentMoveable;if(i){i.checkUpdateRect();return}sT(r._observerId),r._observerId=Lc(function(){r.isDragging()||r.updateRect()})}},r}var n=e.prototype;return n.render=function(){var r=this.props,i=this.state,o=r.parentPosition,a=r.className,s=r.target,l=r.zoom,u=r.cspNonce,c=r.translateZ,f=r.cssStyled,d=r.portalContainer;this.checkUpdate(),this.updateRenderPoses();var h=o||{left:0,top:0},p=h.left,v=h.top,m=i.left,g=i.top,b=i.target,_=i.direction,w=i.hasFixed,D=r.targets,$=(D&&D.length||s)&&b,E=this.isDragging(),A={};return this.getEnabledAbles().forEach(function(O){A["data-able-".concat(O.name.toLowerCase())]=!0}),Ge(f,q({cspNonce:u,ref:vn(this,"controlBox"),className:"".concat(Et("control-box",_===-1?"reverse":"",E?"dragging":"")," ").concat(a)},A,{onClick:this.onPreventClick,portalContainer:d,style:{position:w?"fixed":"absolute",display:$?"block":"none",transform:"translate3d(".concat(m-p,"px, ").concat(g-v,"px, ").concat(c,")"),"--zoom":l,"--zoompx":"".concat(l,"px")}}),this.renderAbles(),this._renderLines())},n.componentDidMount=function(){this.isUnmounted=!1,this.controlBox.getElement();var r=this.props,i=r.parentMoveable,o=r.container,a=r.wrapperMoveable;this._updateTargets(),this._updateNativeEvents(),this._updateEvents(),!o&&!i&&!a&&this.updateRect("",!1,!0),this.updateCheckInput(),this._updateObserver(this.props)},n.componentDidUpdate=function(r){this._updateNativeEvents(),this._updateEvents(),this._updateTargets(),this.updateCheckInput(),this._updateObserver(r)},n.componentWillUnmount=function(){this.isUnmounted=!0,this._emitter.off(),Zr(this,"targetGesto"),Zr(this,"controlGesto");var r=this.events;for(var i in r){var o=r[i];o&&o.destroy()}},n.getContainer=function(){var r=this.props,i=r.parentMoveable,o=r.wrapperMoveable,a=r.container;return a||o&&o.getContainer()||i&&i.getContainer()||this.controlBox.getElement().parentElement},n.isMoveableElement=function(r){return r&&(r.getAttribute("class")||"").indexOf(jc)>-1},n.dragStart=function(r){var i=this.targetGesto;return i&&!i.isFlag()&&i.triggerDragStart(r),this},n.hitTest=function(r){var i=this.state,o=i.target,a=i.pos1,s=i.pos2,l=i.pos3,u=i.pos4,c=i.targetClientRect;if(!o)return 0;var f;if(r instanceof Element){var d=r.getBoundingClientRect();f={left:d.left,top:d.top,width:d.width,height:d.height}}else f=q({width:0,height:0},r);var h=f.left,p=f.top,v=f.width,m=f.height,g=gh([a,s,u,l],c),b=QT(g,[[h,p],[h+v,p],[h+v,p+m],[h,p+m]]),_=u0(g);return!b||!_?0:Math.min(100,b/_*100)},n.isInside=function(r,i){var o=this.state,a=o.target,s=o.pos1,l=o.pos2,u=o.pos3,c=o.pos4,f=o.targetClientRect;return a?Ou([r,i],gh([s,l,c,u],f)):!1},n.updateRect=function(r,i,o){o===void 0&&(o=!0);var a=this.props,s=a.parentMoveable,l=this.state,u=l.target||this.props.target,c=this.getContainer(),f=s?s.props.rootContainer:a.rootContainer;this.updateState(ju(this.controlBox&&this.controlBox.getElement(),u,c,c,f||c),s?!1:o)},n.isDragging=function(){return(this.targetGesto?this.targetGesto.isFlag():!1)||(this.controlGesto?this.controlGesto.isFlag():!1)},n.updateTarget=function(r){this.updateRect(r,!0)},n.getRect=function(){var r=this.state,i=Te(this.state),o=i[0],a=i[1],s=i[2],l=i[3],u=Le(i),c=r.width,f=r.height,d=u.width,h=u.height,p=u.left,v=u.top,m=[r.left,r.top],g=Dt(m,r.origin),b=Dt(m,r.beforeOrigin),_=r.transformOrigin;return{width:d,height:h,left:p,top:v,pos1:o,pos2:a,pos3:s,pos4:l,offsetWidth:c,offsetHeight:f,beforeOrigin:b,origin:g,transformOrigin:_,rotation:this.getRotation()}},n.getManager=function(){return this},n.getRotation=function(){var r=this.state,i=r.pos1,o=r.pos2,a=r.direction;return oR(i,o,a)},n.request=function(r,i,o){i===void 0&&(i={});var a=this.props,s=a.ables,l=a.groupable,u=s.filter(function(m){return m.name===r})[0];if(this.isDragging()||!u||!u.request)return{request:function(){return this},requestEnd:function(){return this}};var c=this,f=u.request(this),d=o||i.isInstant,h=f.isControl?"controlAbles":"targetAbles",p="".concat(l?"Group":"").concat(f.isControl?"Control":""),v={request:function(m){return Ki(c,h,"drag",p,"",q(q({},f.request(m)),{requestAble:r,isRequest:!0}),d),this},requestEnd:function(){return Ki(c,h,"drag",p,"End",q(q({},f.requestEnd()),{requestAble:r,isRequest:!0}),d),this}};return Ki(c,h,"drag",p,"Start",q(q({},f.requestStart(i)),{requestAble:r,isRequest:!0}),d),d?v.request(i).requestEnd():v},n.destroy=function(){this.componentWillUnmount()},n.updateRenderPoses=function(){var r=this.state,i=this.props,o=r.originalBeforeOrigin,a=r.transformOrigin,s=r.allMatrix,l=r.is3d,u=r.pos1,c=r.pos2,f=r.pos3,d=r.pos4,h=r.left,p=r.top,v=i.padding||{},m=v.left,g=m===void 0?0:m,b=v.top,_=b===void 0?0:b,w=v.bottom,D=w===void 0?0:w,$=v.right,E=$===void 0?0:$,A=l?4:3,O=i.groupable?o:Dt(o,[h,p]);r.renderPoses=[Dt(u,oa(s,[-g,-_],a,O,A)),Dt(c,oa(s,[E,-_],a,O,A)),Dt(f,oa(s,[-g,D],a,O,A)),Dt(d,oa(s,[E,D],a,O,A))]},n.checkUpdate=function(){var r=this.props,i=r.target,o=r.container,a=r.parentMoveable,s=this.state,l=s.target,u=s.container;if(!(!l&&!i)){this.updateAbles();var c=!Ku(l,i)||!Ku(u,o);if(c){var f=o||this.controlBox;f&&this.unsetAbles(),this.updateState({target:i,container:o}),!a&&f&&this.updateRect("End",!1,!1)}}},n.triggerEvent=function(r,i){this._emitter.trigger(r,i);var o=this.props[r];return o&&o(i)},n.useCSS=function(r,i){var o=this.props.customStyledMap,a=r+i;return o[a]||(o[a]=v0(r,i)),o[a]},n.unsetAbles=function(){var r=this;this.targetAbles.forEach(function(i){i.unset&&i.unset(r)})},n.updateAbles=function(r,i){r===void 0&&(r=this.props.ables),i===void 0&&(i="");var o=this.props,a=o.triggerAblesSimultaneously,s=r.filter(function(h){return h&&(h.always&&o[h.name]!==!1||o[h.name])}),l="drag".concat(i,"Start"),u="pinch".concat(i,"Start"),c="drag".concat(i,"ControlStart"),f=ia(s,[l,u],a),d=ia(s,[c],a);this.enabledAbles=s,this.targetAbles=f,this.controlAbles=d},n.updateState=function(r,i){if(i){if(this.isUnmounted)return;this.setState(r)}else{var o=this.state;for(var a in r)o[a]=r[a]}},n.getEnabledAbles=function(){var r=this.props,i=r.ables;return i.filter(function(o){return o&&r[o.name]})},n.renderAbles=function(){var r=this,i=this.props,o=i.triggerAblesSimultaneously,a={createElement:Ge};return JN(QN(ia(this.getEnabledAbles(),["render"],o).map(function(s){var l=s.render;return l(r,a)||[]})).filter(function(s){return s}),function(s){var l=s.key;return l}).map(function(s){return s[0]})},n.updateCheckInput=function(){this.targetGesto&&(this.targetGesto.options.checkInput=this.props.checkInput)},n._updateObserver=function(r){var i,o=this.props,a=o.target;if(!window.ResizeObserver||!a||!o.useResizeObserver){(i=this._observer)===null||i===void 0||i.disconnect();return}if(!(r.target===a&&this._observer)){var s=new ResizeObserver(this.checkUpdateRect);s.observe(a,{box:"border-box"}),this._observer=s}},n._updateEvents=function(){var r=this.controlBox.getElement(),i=this.targetAbles.length,o=this.controlAbles.length,a=this.props,s=a.dragTarget||a.target,l=!i&&this.targetGesto||this._isTargetChanged(!0);l&&(Zr(this,"targetGesto"),this.updateState({gesto:null})),o||Zr(this,"controlGesto"),s&&i&&!this.targetGesto&&(this.targetGesto=om(this,s,"")),!this.controlGesto&&o&&(this.controlGesto=hf(this,r,"controlAbles","Control"))},n._updateTargets=function(){var r=this.props;this._prevTarget=r.dragTarget||r.target,this._prevDragArea=r.dragArea},n._renderLines=function(){var r=this.props,i=r.edge,o=r.zoom,a=r.hideDefaultLines;if(a)return[];var s=this.state.renderPoses,l={createElement:Ge};return[Kr(l,i?"n":"",s[0],s[1],o,0),Kr(l,i?"e":"",s[1],s[3],o,1),Kr(l,i?"w":"",s[0],s[2],o,2),Kr(l,i?"s":"",s[2],s[3],o,3)]},n._isTargetChanged=function(r){var i=this.props,o=i.dragTarget||i.target,a=this._prevTarget,s=this._prevDragArea,l=i.dragArea,u=!l&&a!==o,c=(r||l)&&s!==l;return u||c},n._updateNativeEvents=function(){var r=this,i=this.props,o=i.dragArea?this.areaElement:this.state.target,a=this.events,s=Xg(a);if(this._isTargetChanged())for(var l in a){var u=a[l];u&&u.destroy(),a[l]=null}if(o){var c=this.enabledAbles;s.forEach(function(f){var d=ia(c,[f]),h=d.length>0,p=a[f];if(!h){p&&(p.destroy(),a[f]=null);return}p||(p=new $R(o,r,f),a[f]=p),p.setAbles(d)})}},e.defaultProps={target:null,dragTarget:null,container:null,rootContainer:null,origin:!0,edge:!1,parentMoveable:null,wrapperMoveable:null,parentPosition:null,portalContainer:null,useResizeObserver:!1,ables:[],pinchThreshold:20,dragArea:!1,passDragArea:!1,transformOrigin:"",className:"",zoom:1,triggerAblesSimultaneously:!1,padding:{},pinchOutside:!0,checkInput:!1,groupable:!1,hideDefaultLines:!1,cspNonce:"",translateZ:0,cssStyled:null,customStyledMap:{},props:{}},e}(Xc),pf={name:"groupable",props:{defaultGroupRotate:Number,defaultGroupOrigin:String,groupable:Boolean},events:{},render:function(t,e){var n=t.props.targets||[];t.moveables=[];var r=t.state,i=r.left,o=r.top,a={left:i,top:o},s=t.props;return n.map(function(l,u){return e.createElement(_i,{key:"moveable"+u,ref:zg(t,"moveables",u),target:l,origin:!1,cssStyled:s.cssStyled,customStyledMap:s.customStyledMap,useResizeObserver:s.useResizeObserver,parentMoveable:t,parentPosition:a})})}},TR=Io("clickable",{props:{clickable:Boolean},events:{onClick:"click",onClickGroup:"clickGroup"},always:!0,dragRelation:"weak",dragStart:function(t,e){e.isRequest||Ye(window,"click",t.onPreventClick,!0)},dragControlStart:function(t,e){this.dragStart(t,e)},dragGroupStart:function(t,e){this.dragStart(t,e),e.datas.inputTarget=e.inputEvent&&e.inputEvent.target},dragEnd:function(t,e){this.endEvent(t);var n=t.state.target,r=e.inputEvent,i=e.inputTarget,o=t.isMoveableElement(i),a=!o&&t.controlBox.getElement().contains(i);if((!e.isDrag||a)&&this.unset(t),!(!r||!i||e.isDrag||t.isMoveableElement(i)||a)){var s=n.contains(i);ct(t,"onClick",xt(t,e,{isDouble:e.isDouble,inputTarget:i,isTarget:n===i,containsTarget:s}))}},dragGroupEnd:function(t,e){this.endEvent(t);var n=e.inputEvent,r=e.inputTarget;if(!(!n||!r||e.isDrag||t.isMoveableElement(r)||e.datas.inputTarget===r)){var i=t.props.targets,o=i.indexOf(r),a=o>-1,s=!1;o===-1&&(o=yn(i,function(l){return l.contains(r)}),s=o>-1),ct(t,"onClickGroup",xt(t,e,{isDouble:e.isDouble,targets:i,inputTarget:r,targetIndex:o,isTarget:a,containsTarget:s}))}},dragControlEnd:function(t,e){this.dragEnd(t,e)},dragGroupControlEnd:function(t,e){this.dragEnd(t,e)},endEvent:function(t){var e=this;Lc(function(){e.unset(t)})},unset:function(t){Ce(window,"click",t.onPreventClick,!0)}});function Xr(t){var e=t.originalDatas.draggable;return e||(t.originalDatas.draggable={},e=t.originalDatas.draggable),q(q({},t),{datas:e})}var PR=Io("edgeDraggable",{dragControlCondition:function(t,e){if(!t.props.edgeDraggable||!e.inputEvent)return!1;var n=e.inputEvent.target;return je(n,Et("direction"))&&je(n,Et("line"))},dragControlStart:function(t,e){return _e.dragStart(t,Xr(e))},dragControl:function(t,e){return _e.drag(t,Xr(e))},dragControlEnd:function(t,e){return _e.dragEnd(t,Xr(e))},dragGroupControlCondition:function(t,e){if(!t.props.edgeDraggable||!e.inputEvent)return!1;var n=e.inputEvent.target;return je(n,Et("direction"))&&je(n,Et("line"))},dragGroupControlStart:function(t,e){return _e.dragGroupStart(t,Xr(e))},dragGroupControl:function(t,e){return _e.dragGroup(t,Xr(e))},dragGroupControlEnd:function(t,e){return _e.dragGroupEnd(t,Xr(e))},unset:function(t){return _e.unset(t)}}),am={name:"individualGroupable",props:{individualGroupable:Boolean},events:{}},vf=[rm,K0,CN,aR,_e,PR,FP,sR,lR,cR,pR,vR,dR,ER,SR,MR,pf,am,TR,j0,im],NR=vf.reduce(function(t,e){return q(q({},t),"events"in e?e.events:{})},{}),RR=vf.reduce(function(t,e){return q(q({},t),e.props)},{}),OR=eR(NR),IR=Object.keys(OR),AR=Object.keys(RR);function la(t,e){return Math.max.apply(Math,t.map(function(n){var r=n[0],i=n[1],o=n[2],a=n[3];return Math.max(r[e],i[e],o[e],a[e])}))}function ua(t,e){return Math.min.apply(Math,t.map(function(n){var r=n[0],i=n[1],o=n[2],a=n[3];return Math.min(r[e],i[e],o[e],a[e])}))}function kR(t,e){if(!t.length)return[0,0,0,0];var n=t.map(function(v){var m=v.state;return Te(m)}),r=zi,i=zi,o=0,a=0,s=$t(e,Ie);if(s%90){var l=s/180*Math.PI,u=Math.tan(l),c=-1/u,f=[_h,zi],d=[_h,zi];n.forEach(function(v){v.forEach(function(m){var g=m[1]-u*m[0],b=m[1]-c*m[0];f[0]=Math.max(f[0],g),f[1]=Math.min(f[1],g),d[0]=Math.max(d[0],b),d[1]=Math.min(d[1],b)})}),f.forEach(function(v){d.forEach(function(m){var g=(m-v)/(u-c),b=u*g+v;r=Math.min(r,g),i=Math.min(i,b)})});var h=n.map(function(v){var m=v[0],g=v[1],b=v[2],_=v[3];return[rr(m,-l),rr(g,-l),rr(b,-l),rr(_,-l)]});o=la(h,0)-ua(h,0),a=la(h,1)-ua(h,1)}else if(r=ua(n,0),i=ua(n,1),o=la(n,0)-r,a=la(n,1)-i,s%180){var p=o;o=a,a=p}return[r,i,o,a]}var BR=function(t){Oo(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.differ=new WT,r.moveables=[],r.transformOrigin="50% 50%",r}var n=e.prototype;return n.checkUpdate=function(){this.updateAbles()},n.updateRect=function(r,i,o){if(o===void 0&&(o=!0),!!this.controlBox){this.moveables.forEach(function(G){G.updateRect(r,!1,!1)});var a=this.state,s=this.props,l=a.target||s.target;(!i||r!==""&&s.updateGroup)&&(this.rotation=s.defaultGroupRotate,this.transformOrigin=s.defaultGroupOrigin||"50% 50%",this.scale=[1,1]);var u=this.rotation,c=this.scale,f=kR(this.moveables,u),d=f[0],h=f[1],p=f[2],v=f[3],m="rotate(".concat(u,"deg) scale(").concat(c[0]>=0?1:-1,", ").concat(c[1]>=0?1:-1,")");l.style.cssText+="left:0px;top:0px; transform-origin: ".concat(this.transformOrigin,"; width:").concat(p,"px; height:").concat(v,"px;")+"transform:".concat(m),a.width=p,a.height=v;var g=this.getContainer(),b=ju(this.controlBox.getElement(),l,this.controlBox.getElement(),this.getContainer(),this.props.rootContainer||g),_=[b.left,b.top],w=Te(b),D=w[0],$=w[1],E=w[2],A=w[3],O=Vs([D,$,E,A]),N=[O.minX,O.minY];b.pos1=St(D,N),b.pos2=St($,N),b.pos3=St(E,N),b.pos4=St(A,N),b.left=d-b.left+N[0],b.top=h-b.top+N[1],b.origin=St(Dt(_,b.origin),N),b.beforeOrigin=St(Dt(_,b.beforeOrigin),N),b.originalBeforeOrigin=Dt(_,b.originalBeforeOrigin);var F=b.targetClientRect,S=c[0]*c[1]>0?1:-1;F.top+=b.top-a.top,F.left+=b.left-a.left,l.style.transform="translate(".concat(-N[0],"px, ").concat(-N[1],"px) ").concat(m),this.updateState(q(q({},b),{direction:S,beforeDirection:S}),o)}},n.getRect=function(){return q(q({},t.prototype.getRect.call(this)),{children:this.moveables.map(function(r){return r.getRect()})})},n.triggerEvent=function(r,i,o){if(o||r.indexOf("Group")>-1)return t.prototype.triggerEvent.call(this,r,i);this._emitter.trigger(r,i)},n.updateAbles=function(){t.prototype.updateAbles.call(this,wt(wt([],this.props.ables,!0),[pf],!1),"Group")},n._updateTargets=function(){t.prototype._updateTargets.call(this),this._prevTarget=this.props.dragTarget||this.areaElement},n._updateEvents=function(){var r=this.state,i=this.props,o=this._prevTarget,a=i.dragTarget||this.areaElement;o!==a&&(Zr(this,"targetGesto"),Zr(this,"controlGesto"),r.target=null),r.target||(r.target=this.areaElement,this.controlBox.getElement().style.display="block"),r.target&&(this.targetGesto||(this.targetGesto=om(this,a,"Group")),this.controlGesto||(this.controlGesto=hf(this,this.controlBox.getElement(),"controlAbles","GroupControl")));var s=!Ku(r.container,i.container);s&&(r.container=i.container);var l=this.differ.update(i.targets),u=l.added,c=l.changed,f=l.removed;(s||u.length||c.length||f.length)&&this.updateRect()},n._updateObserver=function(){},e.defaultProps=q(q({},_i.defaultProps),{transformOrigin:["50%","50%"],groupable:!0,dragArea:!0,keepRatio:!0,targets:[],defaultGroupRotate:0,defaultGroupOrigin:"50% 50%"}),e}(_i),zR=function(t){Oo(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.moveables=[],r}var n=e.prototype;return n.render=function(){var r=this,i=this.props,o=i.cspNonce,a=i.cssStyled,s=i.targets;return Ge(a,{cspNonce:o,ref:vn(this,"controlBox"),className:Et("control-box")},s.map(function(l,u){return Ge(_i,q({key:"moveable"+u,ref:zg(r,"moveables",u)},r.props,{target:l,wrapperMoveable:r}))}))},n.componentDidUpdate=function(){},n.updateRect=function(r,i,o){o===void 0&&(o=!0),this.moveables.forEach(function(a){a.updateRect(r,i,o)})},n.getRect=function(){return q(q({},t.prototype.getRect.call(this)),{children:this.moveables.map(function(r){return r.getRect()})})},n.request=function(){return{request:function(){return this},requestEnd:function(){return this}}},n.dragStart=function(){return this},n.hitTest=function(){return 0},n.isInside=function(){return!1},n.isDragging=function(){return!1},n.updateRenderPoses=function(){},n.checkUpdate=function(){},n.triggerEvent=function(){},n.updateAbles=function(){},n._updateEvents=function(){},n._updateObserver=function(){},e}(_i),FR=function(t){Oo(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.refTargets=[],r.selectorMap={},r}var n=e.prototype;return e.makeStyled=function(){var r={},i=this.getTotalAbles();i.forEach(function(a){var s=a.css;s&&s.forEach(function(l){r[l]=!0})});var o=Xg(r).join(`
`);this.defaultStyled=v0("div",H$(jc,OP+o))},e.getTotalAbles=function(){return wt([K0,pf,am,j0],this.defaultAbles,!0)},n.render=function(){var r=this.constructor;r.defaultStyled||r.makeStyled();var i=this.props,o=i.ables,a=i.props,s=$P(i,["ables","props"]),l=this._updateRefs(!0),u=iR(l,this.selectorMap),c=u.length>1,f=r.getTotalAbles(),d=wt(wt([],f,!0),o||[],!0),h=q(q(q({},s),a||{}),{ables:d,cssStyled:r.defaultStyled,customStyledMap:r.customStyledMap});return c?s.individualGroupable?Ge(zR,q({key:"individual-group",ref:vn(this,"moveable")},h,{target:null,targets:u})):Ge(BR,q({key:"group",ref:vn(this,"moveable")},h,{target:null,targets:u})):Ge(_i,q({key:"single",ref:vn(this,"moveable")},h,{target:u[0]}))},n.componentDidMount=function(){this._updateRefs()},n.componentDidUpdate=function(){this._updateRefs()},n.componentWillUnmount=function(){this.selectorMap={},this.refTargets=[]},n.getManager=function(){return this.moveable},n._updateRefs=function(r){var i=this.refTargets,o=X0(this.props.target||this.props.targets),a=typeof document<"u",s=i.length!==o.length||i.some(function(c,f){var d=o[f];return!c&&!d?!1:c!==d}),l=this.selectorMap,u={};return this.refTargets.forEach(function(c){if(tn(c)){var f=l[c];f?u[c]=l[c]:a&&(s=!0,u[c]=[].slice.call(document.querySelectorAll(c)))}}),this.refTargets=o,this.selectorMap=u,!r&&s&&this.forceUpdate(),o},e.defaultAbles=[],e.customStyledMap={},e.defaultStyled=null,TP([Y$(_0)],e.prototype,"moveable",void 0),e}(Xc),GR=function(t){Oo(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.defaultAbles=vf,e}(FR),LR=GR;/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Zu=function(t,e){return Zu=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)r.hasOwnProperty(i)&&(n[i]=r[i])},Zu(t,e)};function gf(t,e){Zu(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var wo=function(){return wo=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},wo.apply(this,arguments)};function VR(t,e,n,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(a=t[s])&&(o=(i<3?a(o):i>3?a(e,n,o):a(e,n))||o);return i>3&&o&&Object.defineProperty(e,n,o),o}var HR=function(t){gf(e,t);function e(r){var i=t.call(this,r)||this;return i.state={},i.state=i.props,i}var n=e.prototype;return n.render=function(){return MT(Ge(LR,wo({ref:vn(this,"moveable")},this.state)),this.state.parentElement)},e}(Yc),ls=AR,sm=_0,lm=IR;/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Ju=function(){return Ju=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},Ju.apply(this,arguments)};function YR(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var r=Array(t),i=0,e=0;e<n;e++)for(var o=arguments[e],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}var XR=function(){function t(){this._events={}}var e=t.prototype;return e.on=function(n,r){if(mn(n))for(var i in n)this.on(i,n[i]);else this._addEvent(n,r,{});return this},e.off=function(n,r){if(!n)this._events={};else if(mn(n))for(var i in n)this.off(i);else if(!r)this._events[n]=[];else{var o=this._events[n];if(o){var a=yn(o,function(s){return s.listener===r});a>-1&&o.splice(a,1)}}return this},e.once=function(n,r){var i=this;return r&&this._addEvent(n,r,{once:!0}),new Promise(function(o){i._addEvent(n,o,{once:!0})})},e.emit=function(n,r){var i=this;r===void 0&&(r={});var o=this._events[n];if(!n||!o)return!0;var a=!1;return r.eventType=n,r.stop=function(){a=!0},r.currentTarget=this,YR(o).forEach(function(s){s.listener(r),s.once&&i.off(n,s.listener)}),!a},e.trigger=function(n,r){return r===void 0&&(r={}),this.emit(n,r)},e._addEvent=function(n,r,i){var o=this._events;o[n]=o[n]||[];var a=o[n];a.push(Ju({listener:r},i))},t}(),WR=XR,UR=function(t){gf(e,t);function e(r,i){i===void 0&&(i={});var o=t.call(this)||this;o.tempElement=document.createElement("div");var a=wo({},i),s={};lm.forEach(function(u){s[aT("on ".concat(u))]=function(c){return o.trigger(u,c)}}),ph(Ge(HR,wo({ref:vn(o,"innerMoveable"),parentElement:r},a,s)),o.tempElement);var l=a.target;return Fr(l)&&l.length>1&&o.updateRect(),o}var n=e.prototype;return n.setState=function(r,i){this.innerMoveable.setState(r,i)},n.forceUpdate=function(r){this.innerMoveable.forceUpdate(r)},n.dragStart=function(r){var i=this.innerMoveable;i.$_timer&&this.forceUpdate(),this.getMoveable().dragStart(r)},n.destroy=function(){ph(null,this.tempElement),this.off(),this.tempElement=null,this.innerMoveable=null},n.getMoveable=function(){return this.innerMoveable.moveable},e=VR([sh(sm,function(r,i){r[i]||(r[i]=function(){for(var o=[],a=0;a<arguments.length;a++)o[a]=arguments[a];var s=this.getMoveable();if(!(!s||!s[i]))return s[i].apply(s,o)})}),sh(ls,function(r,i){Object.defineProperty(r,i,{get:function(){return this.getMoveable().props[i]},set:function(o){var a;this.setState((a={},a[i]=o,a))},enumerable:!0,configurable:!0})})],e),e}(WR),qR=function(t){gf(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e}(UR),Zi=function(){return Zi=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},Zi.apply(this,arguments)},um={};sm.forEach(function(t){um[t]=function(){for(var e,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return(e=this.$_moveable)[t].apply(e,n)}});var cm={};ls.forEach(function(t){cm[t]=function(e){this.$_moveable[t]=e}});var mf={name:"moveable",methods:um,props:ls,watch:cm,mounted:function(){var t=this,e={},n=this.$props;ls.forEach(function(a){var s=n[a];$o(s)||(e[a]=n[a])});var r=this.$refs,i=r.moveableElement,o=new qR(i,Zi(Zi({},e),{portalContainer:i}));lm.forEach(function(a){o.on(a,function(s){t.$emit(a,Zi({},s))})}),this.$_moveable=o},beforeUnmount:function(){this.$_moveable.destroy()}};const jR={ref:"moveableElement"};function KR(t,e,n,r,i,o){return ht(),Ct("div",jR,null,512)}mf.render=KR;mf.__file="src/Moveable.vue";function ZR(t,e){const{findNode:n}=Bt(),r=n(t);return r.data||(r.data={translate:[0,0],rotate:0,style:{},dimensions:{width:NaN,height:NaN}}),r.data.style||(r.data.style={}),r.data.rotate||(r.data.rotate=0),r.data.translate||(r.data.translate=[0,0]),r.data.dimensions||(r.data.dimensions={width:NaN,height:NaN}),{onResizeStart:u=>{u.setOrigin(["%","%"]),u.dragStart&&u.dragStart.set(r.data.translate)},onResize:u=>{r.data.translate=u.drag.beforeTranslate,r.data.dimensions={width:u.width,height:u.height},u.target.style.width=`${u.width}px`,u.target.style.height=`${u.height}px`,u.target.style.transform=`translate(${r.data.translate[0]}px, ${r.data.translate[1]}px) rotate(${r.data.rotate}deg)`,e("resize",{width:u.width,height:u.height})},onResizeEnd:u=>{const c=r.computedPosition;u.target.style.transform=`rotate(${r.data.rotate}deg)`,r.position={x:c.x+r.data.translate[0],y:c.y+r.data.translate[1]},r.data.translate=[0,0],e("updateNodeInternals")},onRotateStart:u=>{u.set(r.data.rotate)},onRotate:u=>{r.data.rotate=u.beforeRotate,u.target.style.transform=`translate(${r.data.translate[0]}px, ${r.data.translate[1]}px) rotate(${r.data.rotate}deg)`,e("updateNodeInternals"),e("rotate",r.data.rotate)}}}const JR=["data-moveable-id"],QR={inheritAttrs:!1},tl=Vt({...QR,__name:"ResizeRotateNode",props:{id:null,label:null,targetPosition:null,sourcePosition:null,resizable:{type:Boolean,default:!0},rotatable:{type:Boolean,default:!0},data:null,moveableProps:{default:()=>({})}},emits:["updateNodeInternals","resize","rotate"],setup(t,{emit:e}){const n=t,{findNode:r,onPaneClick:i,onNodeClick:o,onNodeDragStart:a,snapGrid:s,snapToGrid:l}=Bt(),u=bt(),c=bt(!1),{onRotateStart:f,onRotate:d,onResizeStart:h,onResize:p,onResizeEnd:v}=ZR(n.id,e),m=g=>{c.value=g??!c.value};return o(({node:g})=>{m(g.id===n.id)}),a(({node:g})=>{m(g.id===n.id)}),i(()=>m(!1)),dc(()=>{const g=r(n.id);g.dragHandle=`[data-moveable-id='${n.id}']`;const b=g.style;g.style=()=>({...b,pointerEvents:"none",cursor:"default"})}),(g,b)=>{var _,w;return ht(),Ct(Gt,null,[pt("div",{ref_key:"el",ref:u,style:pe([{cursor:"grab","pointer-events":"all"},{...t.data.style,cursor:c.value?"grab":"auto",zIndex:c.value?1e3:0,width:(_=t.data.dimensions)!=null&&_.width?`${t.data.dimensions.width}px`:void 0,height:(w=t.data.dimensions)!=null&&w.height?`${t.data.dimensions.height}px`:void 0,transform:`translate(${t.data.translate[0]}px, ${t.data.translate[1]}px) rotate(${t.data.rotate}deg)`}]),"data-moveable-id":n.id},[_t(et(de),{type:"target",position:n.targetPosition},null,8,["position"]),zn(g.$slots,"default",{},()=>[yc(ve(n.label),1)]),_t(et(de),{type:"source",position:n.sourcePosition},null,8,["position"])],12,JR),_t(et(mf),ci(n.moveableProps,{"class-name":"nodrag",style:{"pointer-events":"all"},target:c.value?u.value:void 0,resizable:t.resizable,rotatable:t.rotatable,snappable:et(l),"snap-element":et(l),"snap-gap":et(l),"snap-directions":et(l),"snap-digit":et(s)[0],"snap-treshold":et(s)[0],"snap-grid-width":et(s)[0],"snap-grid-height":et(s)[1],padding:{left:0,top:0,right:0,bottom:0},origin:!1,"start-drag-rotate":0,"throttle-drag-rotate":0,"throttle-resize":1,"render-directions":["nw","n","ne","w","e","sw","s","se"],zoom:1,onResizeStart:et(h),onResize:et(p),onResizeEnd:et(v),onRotateStart:et(f),onRotate:et(d)}),null,16,["target","resizable","rotatable","snappable","snap-element","snap-gap","snap-directions","snap-digit","snap-treshold","snap-grid-width","snap-grid-height","onResizeStart","onResize","onResizeEnd","onRotateStart","onRotate"])],64)}}}),tO="/assets/transfer-D5gmZMDU.png",eO={class:"node-wrapper"},nO={class:"floor-display"},rO={class:"image-container"},iO=["src"],oO={__name:"NodeA",props:["id","data","selected","resize","rotate","setRef"],setup(t){const e=t,n=r=>{const o=Math.min(r||0,10),a=255-Math.floor(o/10*200);return`rgb(${a}, ${a}, ${a})`};return(r,i)=>(ht(),le(et(tl),{id:e.id,data:e.data},{default:we(()=>[pt("div",eO,[pt("div",{class:"custom-node a",style:pe({backgroundColor:n(e.data.floor)})},[i[0]||(i[0]=pt("div",{class:"node-title"},ve(""),-1)),pt("div",nO,": "+ve(e.data.floor),1),pt("div",rO,[pt("img",{src:et(tO),alt:"",class:"node-image"},null,8,iO)]),_t(et(de),{type:"target",position:"left",id:"input-a",class:"custom-handle input-handle"}),_t(et(de),{type:"source",position:"right",id:"output-a",class:"custom-handle output-handle"})],4)])]),_:1},8,["id","data"]))}},Vh=bi(oO,[["__scopeId","data-v-3cbae5ff"]]),aO="/assets/transplant-C5pbVLpj.png",sO={class:"node-wrapper"},lO={class:"custom-node b"},uO={class:"floor-display"},cO={class:"image-container"},fO=["src"],dO={__name:"NodeB",props:["id","data","selected","resize","rotate","setRef"],setup(t){const e=t;return(n,r)=>(ht(),le(et(tl),{id:e.id,data:e.data,selected:e.selected,resize:e.resize,rotate:e.rotate,setRef:e.setRef},{default:we(()=>[pt("div",sO,[pt("div",lO,[r[0]||(r[0]=pt("div",{class:"node-title"},ve(""),-1)),pt("div",uO,": "+ve(e.data.floor),1),pt("div",cO,[pt("img",{src:et(aO),alt:"",class:"node-image"},null,8,fO)]),_t(et(de),{type:"target",position:"left",id:"input-b",class:"custom-handle input-handle"}),_t(et(de),{type:"source",position:"top",id:"output-b1",class:"custom-handle output-handle"}),_t(et(de),{type:"source",position:"bottom",id:"output-b2",class:"custom-handle output-handle"}),_t(et(de),{type:"source",position:"right",id:"output-b3",class:"custom-handle output-handle"})])])]),_:1},8,["id","data","selected","resize","rotate","setRef"]))}},Hh=bi(dO,[["__scopeId","data-v-4b131db4"]]),hO="/assets/lifter-B_wvRm8j.png",pO={class:"node-wrapper"},vO={class:"custom-node c"},gO={class:"floor-display"},mO={class:"image-container"},yO=["src"],_O={__name:"NodeC",props:["id","data","selected","resize","rotate","setRef"],setup(t){const e=t;return(n,r)=>(ht(),le(et(tl),{id:e.id,data:e.data,selected:e.selected,resize:e.resize,rotate:e.rotate,setRef:e.setRef},{default:we(()=>[pt("div",pO,[pt("div",vO,[r[0]||(r[0]=pt("div",{class:"node-title"},ve(""),-1)),pt("div",gO,": "+ve(e.data.floor),1),pt("div",mO,[pt("img",{src:et(hO),alt:"",class:"node-image"},null,8,yO)]),_t(et(de),{type:"target",position:"left",id:"input-c",class:"custom-handle input-handle"}),_t(et(de),{type:"source",position:"right",id:"output-c",class:"custom-handle output-handle"})])])]),_:1},8,["id","data","selected","resize","rotate","setRef"]))}},Yh=bi(_O,[["__scopeId","data-v-c966a802"]]),bO="/assets/shelf-CSopm-I7.png",wO={class:"node-wrapper"},xO={class:"custom-node d"},SO={class:"floor-display"},EO={class:"image-container"},CO=["src"],MO={__name:"NodeD",props:["id","data","selected","resize","rotate","setRef"],setup(t){const e=t;return(n,r)=>(ht(),le(et(tl),{id:e.id,data:e.data,selected:e.selected,resize:e.resize,rotate:e.rotate,setRef:e.setRef},{default:we(()=>[pt("div",wO,[pt("div",xO,[r[0]||(r[0]=pt("div",{class:"node-title"},ve(""),-1)),pt("div",SO,": "+ve(e.data.floor),1),pt("div",EO,[pt("img",{src:et(bO),alt:"",class:"node-image"},null,8,CO)]),_t(et(de),{type:"source",position:"right",id:"output-d",class:"custom-handle output-handle"}),_t(et(de),{type:"target",position:"left",id:"input-d",class:"custom-handle input-handle"})])])]),_:1},8,["id","data","selected","resize","rotate","setRef"]))}},Xh=bi(MO,[["__scopeId","data-v-e2234c6d"]]),DO={class:"app-container"},$O={class:"canvas-area"},TO={class:"sidebar"},PO={__name:"App",setup(t){const e=bt(!0),n={"node-A":fn(Vh),"node-B":fn(Hh),"node-C":fn(Yh),"node-D":fn(Xh)},r=bt([]),i=bt([]),{project:o,addNodes:a,addEdges:s,fitView:l}=Bt(),u=bt(null),c=bt(null),f=bt(null);let d=null;const h=bt(null),p=bt(null),v=bt(null),m=bt(null),g=bt(""),b=bt(0),_=G=>{u.value=G;const y=document.querySelector(".vue-flow__pane");if(!y){console.error("  .vue-flow__pane  VueFlow");return}f.value=y,y.addEventListener("dragover",R=>{R.preventDefault(),R.dataTransfer.dropEffect="move"}),y.addEventListener("drop",w),console.log("pane start"),d&&(S(d),d=null)},w=G=>{G.preventDefault();const y=G.dataTransfer.getData("application/node-type");if(!y)return;const R=f.value.getBoundingClientRect(),M=G.clientX-R.left,L=G.clientY-R.top,k=o({x:M,y:L}),V={A:{type:"node-A",data:{label:" A"},handles:{inputs:[{position:"left",id:"input-a"}],outputs:[{position:"right",id:"output-a"}]}},B:{type:"node-B",data:{label:" B"},handles:{inputs:[{position:"left",id:"input-b"}],outputs:[{position:"top",id:"output-b1"},{position:"bottom",id:"output-b2"},{position:"right",id:"output-b3"}]}},C:{type:"node-C",data:{label:" C"},handles:{inputs:[{position:"top",id:"input-c"}],outputs:[{position:"right",id:"output-c"}]}},D:{type:"node-D",data:{label:" D"},handles:{inputs:[{position:"left",id:"input-d"}],outputs:[{position:"right",id:"output-d"}]}}}[y];console.log(" config.data:",V.data),a({id:`${y}-${Date.now()}`,type:V.type,position:k,data:{...V.data,inputs:V.handles.inputs.map(Y=>Y.id),outputs:V.handles.outputs.map(Y=>Y.id),style:{background:"#fff",padding:"5px",borderRadius:"20px"}},draggable:!0,connectable:!0})},D=G=>{const y=$$(G,i.value,r.value);if(!y.valid){console.warn(" :",y.reason),g.value=`${y.code}`,b.value+=1;return}const R=r.value.find(L=>L.id===G.source),M=r.value.find(L=>L.id===G.target);if(R&&M){const L=R.type==="node-C",k=M.type==="node-C",z=R.data.floor??1;L&&!k?M.data.floor=z+1:(!L&&k||!L&&!k)&&(M.data.floor=z),M.data={...M.data}}s({...G,animated:!0,style:{stroke:"#674ea7",strokeWidth:5},markerEnd:{type:Va.ArrowClosed,color:"#674ea7"}})},$=(G,y)=>{console.log(" dragstart:",y),G.dataTransfer.effectAllowed="move",G.dataTransfer.setData("application/node-type",y),G.dataTransfer.setData("text/plain",` ${y}`),G.target.style.opacity="0.5"},E=G=>{G.target.style.opacity="1"};en(async()=>{await Ze(),h.value&&(h.value.addEventListener("dragstart",G=>$(G,"A")),h.value.addEventListener("dragend",E)),p.value&&(p.value.addEventListener("dragstart",G=>$(G,"B")),p.value.addEventListener("dragend",E)),v.value&&(v.value.addEventListener("dragstart",G=>$(G,"C")),v.value.addEventListener("dragend",E)),m.value&&(m.value.addEventListener("dragstart",G=>$(G,"D")),m.value.addEventListener("dragend",E))});const A=(G="json")=>{T$(u.value,y=>{g.value=y,b.value+=1},G==="sys")};function O(G){r.value=Xx(G,r.value)}function N(G){i.value=Yx(G,i.value)}function F(G){P$(G,y=>{r.value=y.nodes||[],i.value=y.edges||[],y.viewport&&u.value.setViewport(y.viewport),u.value&&l()},y=>{g.value=y,b.value+=1})}function S(G){if(u.value)try{r.value=G.nodes||[],i.value=G.edges||[],G.viewport&&u.value.setViewport(G.viewport),l()}catch(y){console.error(" :",y),g.value="",b.value+=1}else d=G}return(G,y)=>(ht(),Ct("div",DO,[pt("div",$O,[_t(et(HE),{nodes:r.value,"onUpdate:nodes":y[0]||(y[0]=R=>r.value=R),edges:i.value,"onUpdate:edges":y[1]||(y[1]=R=>i.value=R),"node-types":n,onPaneReady:_,onConnect:D,"fit-view-on-init":"","nodes-draggable":!0,onNodesChange:O,onEdgesChange:N},{"node-A":we(R=>[_t(Vh,Ti(Ni(R)),null,16)]),"node-B":we(R=>[_t(Hh,Ti(Ni(R)),null,16)]),"node-C":we(R=>[_t(Yh,Ti(Ni(R)),null,16)]),"node-D":we(R=>[_t(Xh,Ti(Ni(R)),null,16)]),default:we(()=>[_t(et(D$),{pannable:"",zoomable:""})]),_:1},8,["nodes","edges"])]),pt("div",TO,[y[6]||(y[6]=pt("div",{class:"sidebar-title"},"",-1)),pt("div",{ref_key:"nodeA",ref:h,class:"node",draggable:""},"",512),pt("div",{ref_key:"nodeB",ref:p,class:"node",draggable:""},"",512),pt("div",{ref_key:"nodeC",ref:v,class:"node",draggable:""},"",512),pt("div",{ref_key:"nodeD",ref:m,class:"node",draggable:""},"",512),pt("button",{onClick:y[2]||(y[2]=R=>A("json"))}," JSON"),pt("button",{onClick:y[3]||(y[3]=R=>A("sys"))}," SYS"),pt("input",{type:"file",accept:".json",onChange:F,ref_key:"fileInputRef",ref:c,style:{display:"none"}},null,544),pt("button",{onClick:y[4]||(y[4]=R=>c.value.click())}," JSON")]),_t(L$,{modelValue:e.value,"onUpdate:modelValue":y[5]||(y[5]=R=>e.value=R),onFlowGenerated:S},null,8,["modelValue"]),_t(I$,{message:g.value,errkey:b.value},null,8,["message","errkey"])]))}};Ay(PO).mount("#app");
